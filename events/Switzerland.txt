add_namespace = switzerland

#End of the Swiss Political System
news_event = {
	id = switzerland.2
	title = switzerland.2.t
	desc = switzerland.2.d
#	picture = GFX_news_event_switzerland

	is_triggered_only = yes
	major = yes

	option = {
		name = switzerland.2.o1
		log = "[GetDateText]: [This.GetName]: switzerland.2.o1 executed"
		effect_tooltip = {
			#remove_ideas = swiss_political_system
		}
		trigger = {
			original_tag = SWI
		}
	}

	option = {
		name = switzerland.2.o2
		log = "[GetDateText]: [This.GetName]: switzerland.2.o2 executed"
		trigger = {
			NOT = { original_tag = SWI }
			OR = {
				has_government = democratic
				has_government = neutrality
			}
		}
	}

	option = {
		name = switzerland.2.o3
		log = "[GetDateText]: [This.GetName]: switzerland.2.o3 executed"
		trigger = {
			NOT = { original_tag = SWI }
			NOT = { has_government = democratic }
			NOT = { has_government = neutrality }
		}
	}
}

#Invitation to the Swiss Alliance
country_event = {
	id = switzerland.3
	title = switzerland.3.t
	desc = switzerland.3.d
#	picture = GFX_report_event_switzerland

	is_triggered_only = yes

	option = {
		name = switzerland.3.o1
		log = "[GetDateText]: [This.GetName]: switzerland.3.o1 executed"
		SWI = {
			country_event = diplomatic_response.1
			add_to_faction = ROOT
		}
		set_country_flag = seeks_swiss_alliance

		ai_chance = { base = 100 }
	}

	option = {
		name = switzerland.3.o2
		log = "[GetDateText]: [This.GetName]: switzerland.3.o2 executed"
		SWI = { country_event = diplomatic_response.2 }

		ai_chance = { base = 0 }
	}
}

#The Unification of the Alpine Republic
country_event = {
	id = switzerland.4
	title = switzerland.4.t
	desc = switzerland.4.d
#	picture = GFX_report_event_switzerland

	is_triggered_only = yes

	option = {
		name = switzerland.4.o1
		log = "[GetDateText]: [This.GetName]: switzerland.4.o1 executed"
		custom_effect_tooltip = TT_game_over_warning
		hidden_effect = {
			every_owned_state = {
				limit = { is_core_of = ROOT }
				add_core_of = SWI
			}
			SWI = {
				country_event = diplomatic_response.1
				annex_country = { target = ROOT transfer_troops = yes }
			}
		}

		ai_chance = { base = 100 }
	}

	option = {
		name = switzerland.4.o2
		log = "[GetDateText]: [This.GetName]: switzerland.4.o2 executed"
		SWI = { country_event = diplomatic_response.2 }

		ai_chance = { base = 0 }
	}
}

#Swiss Threats
country_event = {
	id = switzerland.5
	title = switzerland.5.t
	desc = switzerland.5.d
#	picture = GFX_report_event_switzerland

	is_triggered_only = yes

	option = {
		name = switzerland.5.o1
		log = "[GetDateText]: [This.GetName]: switzerland.5.o1 executed"
		custom_effect_tooltip = TT_game_over_warning
		hidden_effect = {
			SWI = {
				country_event = diplomatic_response.1
				annex_country = { target = ROOT transfer_troops = yes }
			}
		}

		ai_chance = {
			factor = 100

			modifier = {
				tag = AUS
				factor = 0
			}
		}
	}

	option = {
		name = switzerland.5.o2
		log = "[GetDateText]: [This.GetName]: switzerland.5.o2 executed"
		SWI = { country_event = diplomatic_response.2 }
		SWI = {
			create_wargoal = {
				type = annex_everything
				target = ROOT
			}
		}

		ai_chance = { base = 1 }
	}
}

#The End of Switzerland
country_event = {
	id = switzerland.6
	title = switzerland.6.t
	desc = switzerland.6.d
#	picture = GFX_report_event_switzerland

	is_triggered_only = yes

	option = {
		name = switzerland.6.o1
		log = "[GetDateText]: [This.GetName]: switzerland.6.o1 executed"
		news_event = {
			id = switzerland_news.6
			days = 2
		}
		FRA = {
			add_state_core = 72
			transfer_state = 72
		}
		ITA = {
			add_state_core = 73
			transfer_state = 73
		}
		GER = {
			add_state_core = 74
			annex_country = { target = SWI transfer_troops = yes }
		}
	}
}

##Adolf Ogi becomes President
#country_event = {
#	id = switzerland.7
#	title = switzerland.7.t
#	desc = switzerland.7.d
#	picture = GFX_report_event_swiss_government
#
#	is_triggered_only = yes
#
#	trigger = {
#		has_idea = swiss_political_system
#	}
#
#	option = {
#		name = switzerland.7.o1
#		log = "[GetDateText]: [This.GetName]: switzerland.7.o1 executed"
#		add_political_power = 5
#		add_popularity = {
#			ideology = reactionary
#			popularity = 0.015
#		}
#		create_country_leader = {
#			name = "Adolf Ogi"
#			picture = "Adolf_Ogi.dds"
#			ideology = counter_progressive_democrat
#		}
#	}
#}


#New Events
#French Gets Alpine Inquiry Event
country_event = {
    id = switzerland.8
    title = switzerland.8.t
    desc = switzerland.8.desc

    is_triggered_only = yes

    option = {
        name = switzerland.8.a
        ai_chance = {
            base = 25

            modifier = {
                add = 30
                opinion = { target = FROM value = 50 }
            }
            modifier = {
                add = 20
                opinion = { target = FROM value = 75 }
            }
            modifier = {
                add = -15
                is_major = yes
            }
            modifier = {
                add = 10
                OR = {
                    is_at_war = yes
                    military_strength < 0.75
                }
            }
        }

        FROM = {

            transfer_state = 857 # Savoy
            transfer_state = 63  # Provence
            transfer_state = 1000 # Nice

            country_event = { id = switzerland.9 days = 1 }
        }

        add_opinion = {
            target = FROM
            modifier = opinion_neutrality_offer_accepted
        }
    }

    option = {
        name = switzerland.8.b
        ai_chance = {
            base = 75
        }

        FROM = {

            country_event = { id = switzerland.10 days = 1 }
        }

        add_opinion = {
            target = FROM
            modifier = opinion_neutrality_offer_rejected
        }
        add_tension = 0.05
    }
}


country_event = {
    id = switzerland.9
    title = switzerland.9.t
    desc = switzerland.9.desc

    is_triggered_only = yes

    option = {
        name = switzerland.9.a
        add_manpower = 25000
        add_political_power = 50
    }
}

country_event = {
    id = switzerland.10
    title = switzerland.10.t
    desc = switzerland.10.desc

    is_triggered_only = yes

    option = {
        name = switzerland.10.a
        add_political_power = 25
        add_war_support = 0.03
    }
}
#Italian Alps Inquiry
country_event = {
    id = switzerland.11
    title = switzerland.11.t
    desc = switzerland.11.desc

    is_triggered_only = yes

    option = {
        name = switzerland.11.a
        ai_chance = {
            base = 25

            modifier = {
                add = 30
                opinion = { target = FROM value = 50 }
            }
            modifier = {
                add = 20
                opinion = { target = FROM value = 75 }
            }
            modifier = {
                add = -15
                is_major = yes
            }
            modifier = {
                add = 10
                OR = {
                    is_at_war = yes
                    military_strength < 0.75
                }
            }
        }

        FROM = {

            transfer_state = 1059 # Aosta
            transfer_state = 77  # Piemonte
            transfer_state = 80 # Lombardia
			transfer_state = 285 # South Tyrol

            country_event = { id = switzerland.12 days = 1 }
        }

        add_opinion = {
            target = FROM
            modifier = opinion_neutrality_offer_accepted
        }
    }

    option = {
        name = switzerland.11.b
        ai_chance = {
            base = 75
        }

        FROM = {

            country_event = { id = switzerland.13 days = 1 }
        }

        add_opinion = {
            target = FROM
            modifier = opinion_neutrality_offer_rejected
        }
        add_tension = 0.05
    }
}


country_event = {
    id = switzerland.12
    title = switzerland.12.t
    desc = switzerland.12.desc

    is_triggered_only = yes

    option = {
        name = switzerland.12.a
        add_manpower = 25000
        add_political_power = 50
    }
}

country_event = {
    id = switzerland.13
    title = switzerland.13.t
    desc = switzerland.13.desc

    is_triggered_only = yes

    option = {
        name = switzerland.13.a
        add_political_power = 25
        add_war_support = 0.03
    }
}
#Austrian Alps Inquiry & Lichtenstein Annexation
country_event = {
    id = switzerland.14
    title = switzerland.14.t
    desc = switzerland.14.desc

    is_triggered_only = yes

    option = {
        name = switzerland.14.a
        ai_chance = {
            base = 25

            modifier = {
                add = 30
                opinion = { target = FROM value = 50 }
            }
            modifier = {
                add = 20
                opinion = { target = FROM value = 75 }
            }
            modifier = {
                add = -15
                is_major = yes
            }
            modifier = {
                add = 10
                OR = {
                    is_at_war = yes
                    military_strength < 0.75
                }
            }
        }

        FROM = {
			transfer_state = 286 # Tyrol
            country_event = { id = switzerland.15 days = 1 }
        }

        add_opinion = {
            target = FROM
            modifier = opinion_neutrality_offer_accepted`
        }
    }

    option = {
        name = switzerland.14.b
        ai_chance = {
            base = 75
        }

        FROM = {

            country_event = { id = switzerland.16 days = 1 }
        }

        add_opinion = {
            target = FROM
            modifier = opinion_neutrality_offer_rejected
        }
        add_tension = 0.05
    }
}


country_event = {
    id = switzerland.15
    title = switzerland.15.t
    desc = switzerland.15.desc

    is_triggered_only = yes

    option = {
        name = switzerland.15.a
        add_manpower = 25000
        add_political_power = 50
    }
}

country_event = {
    id = switzerland.16
    title = switzerland.16.t
    desc = switzerland.16.desc

    is_triggered_only = yes

    option = {
        name = switzerland.16.a
        add_political_power = 25
        add_war_support = 0.03
    }
}