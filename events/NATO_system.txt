add_namespace = NATO
add_namespace = NATO_CSTO

news_event = {
	id = NATO.6

	title = NATO.6.t
	desc = NATO.6.d

	picture = GFX_news_nato

	is_triggered_only = yes

	option = {
		name = NATO.6.a
		log = "[GetDateText]: [This.GetName]: NATO.6.a executed"
		ai_chance = { base = 100 }
	}
}

country_event = {
	id = NATO.7
	title = NATO.7.t
	desc = NATO.7.d

	picture = GFX_NATO_picture
	trigger = {
		has_idea = NATO_member
	}
	is_triggered_only = yes

	option = {
		name = NATO.7.a
		log = "[GetDateText]: [This.GetName]: NATO.7.a executed"
		ai_chance = { base = 100 }
	}
}

news_event = {
	id = NATO.8
	title = NATO.8.t
	desc = NATO.8.d

	picture = GFX_news_nato

	is_triggered_only = yes

	option = {
		name = NATO.8.a
		log = "[GetDateText]: [This.GetName]: NATO.8.a executed"
		ai_chance = { base = 100 }
	}
}

country_event = {	#We receive an invitation to NATO
	id = NATO.9
	title = NATO.9.t
	desc = NATO.9.d
	picture = GFX_NATO_picture

	is_triggered_only = yes

	option = {	#We accept!
		name = NATO.9.a
		log = "[GetDateText]: [This.GetName]: NATO.9.a executed"
		set_country_flag = has_joined_NATO_by_event
		NATO_join = yes
		hidden_effect = { USA = { country_event = { id = NATO.10 } } }

		ai_chance = {
			base = 90

			modifier = {
				add = 70
				has_elections = yes
			}

			modifier = {
				add = 70
				original_tag = VIE
				country_exists = CHI
			}

			modifier = {
				factor = 0
				OR = {
					is_subject_of = CHI
					has_government = communism
				}
			}
		}
	}

	option = {	#We refuse
		name = NATO.9.b
		log = "[GetDateText]: [This.GetName]: NATO.9.b executed"
		add_political_power = 50
		USA = { country_event = NATO.11 }

		ai_chance = {
			base = 10

			modifier = {
				add = 70
				has_elections = no
			}

			modifier = {
				factor = 0
				is_historical_focus_on = yes
				OR = {
					tag = EST
					tag = LAT
					tag = LIT
					tag = SLO
					tag = SLV
					tag = ROM
					tag = BUL
					tag = ALB
					tag = CRO
				}
			}
		}
	}
}

country_event = {	#They accept!
	id = NATO.10
	title = NATO.10.t
	desc = NATO.10.d
	picture = GFX_NATO_picture

	is_triggered_only = yes

	option = {
		name = NATO.10.a
		log = "[GetDateText]: [This.GetName]: NATO.10.a executed"
		USA = {
			add_opinion_modifier = {
				target = FROM
				modifier = NATO_member_modifier
			}
		}
	}
}

country_event = {	#They refuse!
	id = NATO.11
	title = NATO.11.t
	desc = NATO.11.d
	picture = GFX_NATO_picture

	is_triggered_only = yes

	option = {
		name = NATO.11.o1
		log = "[GetDateText]: [This.GetName]: NATO.11.o1 executed"
		effect_tooltip = {
			add_opinion_modifier = {
				target = FROM
				modifier = recent_actions_negative
			}
		}
	}
}

#News Event
news_event = {
	id = NATO.13
	title = NATO.13.t
	desc = NATO.13.d
	picture = GFX_news_nato

	is_triggered_only = yes
	major = yes

	option = {
		name = NATO.13.o1
		log = "[GetDateText]: [This.GetName]: NATO.13.o1 executed"
	}
}

country_event = {	#(USA) [FROM.GetName] requests to join NATO
	id = NATO.14
	title = NATO.14.t
	desc = NATO.14.d
	picture = GFX_NATO_picture

	is_triggered_only = yes

	option = {	#We accept!
		name = NATO.14.a
		log = "[GetDateText]: [This.GetName]: NATO.14.a executed"
		add_political_power = 25
		FROM = { country_event = { id = NATO.9 hours = 6 } }
		ai_chance = {
			base = 50
			modifier = {
				add = 25
				UKR = {
					OR = {
						has_idea = UKR_west_strengthened
						has_idea = UKR_west_dominant
					}
				}
			}
		}
	}

	option = {	#We refuse
		name = NATO.14.b
		log = "[GetDateText]: [This.GetName]: NATO.14.b executed"
		add_political_power = -25
		FROM = { news_event = { id = NATO.15 hours = 6 } }

		ai_chance = {
			base = 1
		}
	}
}

news_event = {	#[USA.GetName] refuses NATO membership request
	id = NATO.15

	title = NATO.15.t
	desc = NATO.15.d
	picture = GFX_news_nato

	is_triggered_only = yes

	option = {
		name = NATO.15.a
		log = "[GetDateText]: [This.GetName]: NATO.15.a executed"
		ai_chance = {
			base = 1
		}
	}
}

#[Country] leaves NATO
news_event = {
	id = NATO.16

	title = NATO.16.t
	desc = NATO.16.d
	picture = GFX_news_nato

	is_triggered_only = yes
	major = yes

	option = {
		name = NATO.16.o1
		log = "[GetDateText]: [This.GetName]: NATO.16.o1 executed"
		trigger = { original_tag = FROM }
	}
	option = {
		name = NATO.16.o2
		log = "[GetDateText]: [This.GetName]: NATO.16.o2 executed"
		trigger = { NOT = { original_tag = FROM } }
	}
}

#[Country] Shift in Politics
country_event = {
	id = NATO.17
	title = NATO.17.t
	desc = NATO.17.d
	picture = GFX_NATO_picture
	is_triggered_only = yes
	trigger = {
		has_idea = NATO_member
		has_elections = no
		NOT = { has_government = fascism }
	}

	option = {
		name = NATO.17.o1
		log = "[GetDateText]: [This.GetName]: NATO.17.o1 executed"
		NATO_leave = yes
		hidden_effect = {
			news_event = NATO.16
		}
	}
}

# lets say 100+ are news
# treaty accepted
news_event = {
	id = NATO_CSTO.100

	title = NATO_CSTO.100.t
	desc = NATO_CSTO.100.d

	picture = GFX_news_nato

	is_triggered_only = yes

	option = {
		name = NATO_CSTO.100.a
		trigger = {
			has_idea = NATO_member
		}
	}
	option = {
		name = NATO_CSTO.100.b
		trigger = {
			has_idea = CSTO_member
		}
	}
	option = {
		name = NATO_CSTO.100.c
	}
}

# treaty rejected
news_event = {
	id = NATO_CSTO.101

	title = NATO_CSTO.101.t
	desc = NATO_CSTO.101.d

	picture = GFX_news_nato

	is_triggered_only = yes

	option = {
		name = NATO_CSTO.101.a
		trigger = {
			has_idea = NATO_member
		}
	}
	option = {
		name = NATO_CSTO.101.b
		trigger = {
			has_idea = CSTO_member
		}
	}
	option = {
		name = NATO_CSTO.101.c
	}
}

# treaty has been invalidated by NATO member
news_event = {
	id = NATO_CSTO.103

	title = NATO_CSTO.103.t
	desc = NATO_CSTO.103.d

	picture = GFX_news_nato

	is_triggered_only = yes

	option = {
		name = NATO_CSTO.103.a
		trigger = {
			has_idea = NATO_member
		}
	}
	option = {
		name = NATO_CSTO.103.b
		trigger = {
			has_idea = CSTO_member
		}
	}
	option = {
		name = NATO_CSTO.103.c
	}
}

# treaty has been invalidated by CSTO member
news_event = {
	id = NATO_CSTO.104

	title = NATO_CSTO.104.t
	desc = NATO_CSTO.104.d

	picture = GFX_news_nato

	is_triggered_only = yes

	option = {
		name = NATO_CSTO.104.a
		trigger = {
			has_idea = NATO_member
		}
	}
	option = {
		name = NATO_CSTO.104.b
		trigger = {
			has_idea = CSTO_member
		}
	}
	option = {
		name = NATO_CSTO.104.c
	}
}

# NATO - CSTO treaty proposed
country_event = {
	id = NATO_CSTO.1
	title = NATO_CSTO.1.t
	desc = NATO_CSTO.1.d

	picture = GFX_NATO_picture
	is_triggered_only = yes

	# We say yes
	option = {
		name = NATO_CSTO.1.a
		set_global_flag = NATO_CSTO_treaty_ratified
		FROM = {
			country_event = { id = NATO_CSTO.2 days = 1 }
		}

		hidden_effect = {
			news_event = { id = NATO_CSTO.100 days = 3 }
		}

		# make initial calculation to prevent issues with loc
		NATO_CSTO_calculate_number_of_batallions = yes

		ai_chance = {
			base = 20
			modifier = {
				factor = 5
				has_government = democratic
			}
		}
	}
	option = {
		name = NATO_CSTO.1.b
		set_global_flag = NATO_CSTO_treaty_adandoned
		FROM = {
			country_event = { id = NATO_CSTO.3 days = 1 }
		}

		hidden_effect = {
			news_event = { id = NATO_CSTO.101 days = 3 }
		}

		ai_chance = {
			base = 0
			modifier = {
				factor = 5
				has_government = communism
			}
		}
	}
}

# NATO - CSTO treaty accepted
country_event = {
	id = NATO_CSTO.2
	title = NATO_CSTO.2.t
	desc = NATO_CSTO.2.d

	picture = GFX_NATO_picture
	is_triggered_only = yes

	option = {
		name = NATO_CSTO.2.a

		ai_chance = {
			base = 20
		}
	}
}

# NATO - CSTO treaty rejected
country_event = {
	id = NATO_CSTO.3
	title = NATO_CSTO.3.t
	desc = NATO_CSTO.3.d

	picture = GFX_NATO_picture
	is_triggered_only = yes

	option = {
		name = NATO_CSTO.3.a

		ai_chance = {
			base = 20
		}
	}
}