# Author(s): Andry, Aug, BoNDeX, and DROID
# Last Modified: February 18nd, 2024
focus_tree = {
	id = SMA_focus
	shared_focus = USoE001
	shared_focus = POTEF001
	country = {
		factor = 0
		modifier = {
			add = 20
			original_tag = SMA
		}
	}

	continuous_focus_position = { x = 3300 y = 1800 }

	# Politics
	focus = {
		id = SMA_policy_development
		icon = San_Marino

		x = 32
		y = 0

		cost = 2

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 150
			log = "[GetDateText]: [This.GetName]: focus SMA_policy_development executed"
		}

		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				is_historical_focus_on = yes
			}
		}
	}
	focus = {
		id = SMA_in_country_policy
		icon = focus_generic_improve_the_administration

		x = 0
		y = 1
		relative_position_id = SMA_policy_development

		cost = 5

		prerequisite = {
			focus = SMA_policy_development
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_in_country_policy executed"
			add_political_power = 150
		}

		ai_will_do = {
			base = 0
		}
	}
	focus = {
		id = SMA_break_power_of_church
		icon = anti_catholicism

		x = -1
		y = 1
		relative_position_id = SMA_in_country_policy

		cost = 5

		prerequisite = {
			focus = SMA_in_country_policy
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		available = {
			nationalist_monarchists_are_not_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_break_power_of_church executed"
			set_temp_variable = { party_index = 23 }
			set_temp_variable = { party_popularity_increase = -0.15 }
			add_relative_party_popularity = yes
			add_popularity = {
				ideology = nationalist
				popularity = -0.15
			}
		}

		ai_will_do = {
			base = 0
		}
	}
	focus = {
		id = SMA_break_opposition
		icon = unite_the_opposition

		x = -2
		y = 2
		relative_position_id = SMA_in_country_policy

		cost = 5

		prerequisite = {
			focus = SMA_in_country_policy
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		available = {
			nationalist_monarchists_are_not_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_break_opposition executed"
			set_temp_variable = { party_index = 2 }
			set_temp_variable = { party_popularity_increase = -0.15 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 15 }
			set_temp_variable = { party_popularity_increase = -0.15 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 18 }
			set_temp_variable = { party_popularity_increase = -0.15 }
			add_relative_party_popularity = yes
			add_popularity = {
				ideology = neutrality
				popularity = -0.15
			}
		}

		ai_will_do = {
			base = 0
		}
	}
	focus = {
		id = SMA_ban_communism_parties
		icon = anti_communism

		x = 1
		y = 1
		relative_position_id = SMA_in_country_policy

		cost = 5

		prerequisite = {
			focus = SMA_in_country_policy
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		available = {
			emerging_anarchist_communism_are_not_in_power = yes
			emerging_communist_state_are_not_in_power = yes
			neutrality_neutral_communism_are_not_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_ban_communism_parties executed"
			set_temp_variable = { party_index = 4 }
			set_temp_variable = { party_popularity_increase = -0.15 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 5 }
			set_temp_variable = { party_popularity_increase = -0.15 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 19 }
			set_temp_variable = { party_popularity_increase = -0.15 }
			add_relative_party_popularity = yes
			add_popularity = {
				ideology = communism
				popularity = -0.15
			}
		}

		ai_will_do = {
			base = 0
		}
	}
	focus = {
		id = SMA_ban_fascism
		icon = anti_fascism

		x = 2
		y = 2
		relative_position_id = SMA_in_country_policy

		cost = 5

		prerequisite = {
			focus = SMA_in_country_policy
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		available = {
			nationalist_monarchists_are_not_in_power = yes
			nationalist_fascist_are_not_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_ban_fascism executed"
			set_temp_variable = { party_index = 20 }
			set_temp_variable = { party_popularity_increase = -0.15 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = -0.15 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 22 }
			set_temp_variable = { party_popularity_increase = -0.15 }
			add_relative_party_popularity = yes
			add_popularity = {
				ideology = nationalist
				popularity = -0.15
			}
		}

		ai_will_do = {
			base = 0
		}
	}
	focus = {
		id = SMA_stabilize_policy
		icon = Election_graphics

		x = 0
		y = 3
		relative_position_id = SMA_in_country_policy

		cost = 10

		prerequisite = {
			focus = SMA_in_country_policy
		}
		prerequisite = {
			focus = SMA_break_opposition
			focus = SMA_break_power_of_church
			focus = SMA_ban_communism_parties
			focus = SMA_ban_fascism
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_stabilize_policy executed"
			add_political_power = 120
			set_temp_variable = { arg_popularity = 0.15 }
			add_ruling_outlook_popularity = yes
		}

		ai_will_do = {
			base = 0
		}
	}

	# Democraty
	focus = {
		id = SMA_democracy
		icon = Election

		x = 13
		y = 1
		relative_position_id = SMA_policy_development

		cost = 10

		prerequisite = {
			focus = SMA_policy_development
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		available = {
			OR = {
				democratic > 0.5
				communism > 0.5
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_democracy executed"
			set_temp_variable = { party_index = 1 }
			set_temp_variable = { party_popularity_increase = 0.1 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 3 }
			set_temp_variable = { party_popularity_increase = 0.1 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			base = 50
			modifier = {
				is_historical_focus_on = yes
				add = 20
			}
			modifier = {
				is_historical_focus_on = no
				add = -20
			}
		}
	}
	focus = {
		id = SMA_christdem_party
		icon = chrisdemparty_sanmar

		x = -3
		y = 1
		relative_position_id = SMA_democracy

		cost = 10

		prerequisite = {
			focus = SMA_democracy
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_christdem_party executed"
			if = { limit = { NOT = { is_in_array = { ruling_party = 1 } } }
				set_temp_variable = { rul_party_temp = 1 }
				change_ruling_party_effect = yes
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			set_temp_variable = { party_index = 1 }
			set_temp_variable = { party_popularity_increase = 0.15 }
			set_temp_variable = { temp_outlook_increase = 0.15 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			base = 40
			modifier = {
				add = 15
				is_historical_focus_on = yes
			}
		}
	}
	focus = {
		id = SMA_sammaran_democratic_party
		icon = social_democracy

		x = 3
		y = 1
		relative_position_id = SMA_democracy

		cost = 10

		prerequisite = {
			focus = SMA_democracy
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		available = {
			western_social_democrats_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_sammaran_democratic_party executed"
			if = { limit = { NOT = { is_in_array = { ruling_party = 3 } } }
				set_temp_variable = { rul_party_temp = 3 }
				change_ruling_party_effect = yes
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			set_temp_variable = { party_index = 3 }
			set_temp_variable = { party_popularity_increase = 0.15 }
			set_temp_variable = { temp_outlook_increase = 0.15 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			base = 30
			modifier = {
				add = -10
				is_historical_focus_on = yes
			}
			modifier = {
				add = 20
				is_historical_focus_on = no
			}
		}
	}

	# Social - Democraty
	focus = {
		id = SMA_ask_limited_help_italy
		icon = align_to_italy

		x = 1
		y = 1
		relative_position_id = SMA_sammaran_democratic_party

		cost = 5

		prerequisite = {
			focus = SMA_sammaran_democratic_party
		}

		search_filters = { FOCUS_FILTER_DIPLOMACY }

		available = {
			western_social_democrats_are_in_power = yes
			ITA = {
				NOT = {
					has_war_with = SMA
					is_embargoing = SMA
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_ask_limited_help_italy executed"
			set_temp_variable = { party_index = 3 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			set_temp_variable = { treasury_change = 5.00 }
			modify_treasury_effect = yes
			ITA = {
				set_temp_variable = { treasury_change = -5.00 }
				modify_treasury_effect = yes
			}
		}

		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				is_historical_focus_on = yes
			}
		}
	}
	focus = {
		id = SMA_com_multi_party_system
		icon = democratic_communism

		x = -1
		y = 1
		relative_position_id = SMA_ask_limited_help_italy

		cost = 5

		prerequisite = {
			focus = SMA_ask_limited_help_italy
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		available = {
			western_social_democrats_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_com_multi_party_system executed"
			add_political_power = 50
			add_stability = 0.05
			add_timed_idea = {
				idea = SMA_improved_administration
				days = 1095
			}
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_rakulakat_banks
		icon = generic_banks

		x = 0
		y = 1
		relative_position_id = SMA_com_multi_party_system

		cost = 5

		prerequisite = {
			focus = SMA_com_multi_party_system
		}

		search_filters = { FOCUS_FILTER_ECONOMY }

		available = {
			western_social_democrats_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_rakulakat_banks executed"
			set_temp_variable = { treasury_change = 5.00 }
			modify_treasury_effect = yes
			add_stability = -0.05
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_emphasis_on_small_medium_businesses
		icon = business_man

		x = -1
		y = 1
		relative_position_id = SMA_rakulakat_banks

		cost = 5

		prerequisite = {
			focus = SMA_rakulakat_banks
		}
		mutually_exclusive = {
			focus = SMA_expand_trade_unions
		}

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			western_social_democrats_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_emphasis_on_small_medium_businesses executed"
			set_temp_variable = { treasury_change = 1.50 }
			modify_treasury_effect = yes
			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes
			set_temp_variable = { temp_opinion = -5 }
			change_labour_unions_opinion = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_expand_trade_unions
		icon = Focus_Socialist_Worker2

		x = 1
		y = 1
		relative_position_id = SMA_rakulakat_banks

		cost = 5

		prerequisite = {
			focus = SMA_rakulakat_banks
		}
		mutually_exclusive = {
			focus = SMA_emphasis_on_small_medium_businesses
		}

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			western_social_democrats_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_expand_trade_unions executed"
			add_stability = 0.02
			set_temp_variable = { temp_opinion = 10 }
			change_labour_unions_opinion = yes
			set_temp_variable = { temp_opinion = -5 }
			change_small_medium_business_owners_opinion = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_europian_communism_alliacne
		icon = social_democracy_industry

		x = 2
		y = 1
		relative_position_id = SMA_ask_limited_help_italy

		cost = 10

		prerequisite = {
			focus = SMA_ask_limited_help_italy
		}

		search_filters = { FOCUS_FILTER_DIPLOMACY }

		available = {
			western_social_democrats_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_europian_communism_alliacne executed"
			if = {
				limit = { NOT = { has_global_flag = GAME_RULE_eu_disabled } }
				custom_effect_tooltip = TT_ALL_EU_MEMBER_NATIONS_GAIN
				effect_tooltip = {
					add_opinion_modifier = { target = ROOT modifier = NATO_commitment }
					reverse_add_opinion_modifier = { target = ROOT modifier = NATO_commitment }
					set_temp_variable = { party_index = 3 }
					set_temp_variable = { party_popularity_increase = 0.05 }
					set_temp_variable = { temp_outlook_increase = 0.05 }
					add_relative_party_popularity = yes
				}
				hidden_effect = {
					set_temp_variable = { party_index = 3 }
					set_temp_variable = { party_popularity_increase = 0.05 }
					set_temp_variable = { temp_outlook_increase = 0.05 }
					for_each_scope_loop = {
						array = global.EU_member
						add_opinion_modifier = { target = ROOT modifier = NATO_commitment }
						reverse_add_opinion_modifier = { target = ROOT modifier = NATO_commitment }
						add_relative_party_popularity = yes
					}
				}
			}
			else = {
				add_political_power = 150
			}
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_general_economy
		icon = Focus_Socialist_Worker

		x = 0
		y = 1
		relative_position_id = SMA_europian_communism_alliacne

		cost = 5

		prerequisite = {
			focus = SMA_europian_communism_alliacne
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		available = {
			western_social_democrats_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_general_economy executed"
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
			}
			set_temp_variable = { treasury_change = -3.00 }
			modify_treasury_effect = yes
			one_random_industrial_complex = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_business_start_up_support
		icon = goal_JAP_good_business

		x = 0
		y = 1
		relative_position_id = SMA_general_economy

		cost = 5

		prerequisite = {
			focus = SMA_general_economy
		}

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			western_social_democrats_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_business_start_up_support executed"
			add_timed_idea = {
				idea = POL_housing_focus
				days = 1095
			}
			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes
		}

		ai_will_do = {
			base = 3
		}
	}

	# Chirstian Party
	focus = {
		id = SMA_mixed_economy
		icon = MEX_Economic_reform

		x = 0
		y = 1
		relative_position_id = SMA_christdem_party

		cost = 5

		prerequisite = {
			focus = SMA_christdem_party
		}

		search_filters = { FOCUS_FILTER_ECONOMY }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_mixed_economy executed"
			if = {
				limit = {
					has_idea = md_closed_economy
				}
				swap_ideas = {
					remove_idea = md_closed_economy
					add_idea = mixed_economy
				}
			}
			else = {
				if = {
					limit = {
						has_idea = consumption_economy
					}
					swap_ideas = {
						remove_idea = consumption_economy
						add_idea = mixed_economy
					}
				}
				else = {
					if = {
						limit = {
							has_idea = semi_consumption_economy
						}
						swap_ideas = {
							remove_idea = semi_consumption_economy
							add_idea = mixed_economy
						}
					}
					else = {
						if = {
							limit = {
								has_idea = export_economy
							}
							swap_ideas = {
								remove_idea = export_economy
								add_idea = mixed_economy
							}
						}
						else = {
							if = {
								limit = {
									has_idea = globalized_trade_economy
								}
								swap_ideas = {
									remove_idea = globalized_trade_economy
									add_idea = mixed_economy
								}
							}
						}
					}
				}
			}
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_banks_agreement
		icon = generic_bank

		x = -1
		y = 1
		relative_position_id = SMA_business_start_up_support

		cost = 5

		prerequisite = {
			focus = SMA_emphasis_on_small_medium_businesses
			focus = SMA_expand_trade_unions
		}
		prerequisite = {
			focus = SMA_stab_aboveall
			focus = SMA_business_start_up_support
		}

		search_filters = { FOCUS_FILTER_ECONOMY FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_banks_agreement executed"
			increase_social_spending = yes
			set_temp_variable = { temp_opinion = -5 }
			change_labour_unions_opinion = yes
			set_temp_variable = { temp_opinion = -5 }
			change_farmers_opinion = yes
			set_temp_variable = { treasury_change = 15.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_support_church
		icon = ITA_Focus_Church

		x = 3
		y = 1
		relative_position_id = SMA_christdem_party

		cost = 5

		prerequisite = {
			focus = SMA_christdem_party
			focus = SMA_sammaran_democratic_party
		}

		search_filters = { FOCUS_FILTER_MEX_CHURCH_AUTHORITY }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_support_church executed"
			add_ideas = SMA_christian_state_1
			set_temp_variable = { temp_opinion = 5 }
			change_the_clergy_opinion = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_social_viplat
		icon = social_conservatism

		x = -3
		y = 1
		relative_position_id = SMA_christdem_party

		cost = 10

		prerequisite = {
			focus = SMA_christdem_party
		}

		search_filters = { FOCUS_FILTER_EXPENDITURE }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_social_viplat executed"
			increase_social_spending = yes
			set_temp_variable = { treasury_change = -10.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 5
			modifier = {
				factor = 0
				NOT = { check_variable = { treasury > 20 } }
			}
		}
	}
	focus = {
		id = SMA_palom_place
		icon = american_christianity

		x = 0
		y = 1
		relative_position_id = SMA_support_church

		cost = 10

		prerequisite = {
			focus = SMA_support_church
		}

		search_filters = { FOCUS_FILTER_MEX_CHURCH_AUTHORITY }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_palom_place executed"
			add_popularity = {
				ideology = nationalist
				popularity = 0.01
			}
			add_political_power = 100
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_traditional_religion
		icon = focus_generic_catholic_dominion

		x = -1
		y = 1
		relative_position_id = SMA_palom_place

		cost = 10

		prerequisite = {
			focus = SMA_palom_place
		}
		mutually_exclusive = {
			focus = SMA_pluralism
		}

		search_filters = { FOCUS_FILTER_MEX_CHURCH_AUTHORITY }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_traditional_religion executed"
			if = {
				limit = { has_idea = SMA_christian_state_1 }
				swap_ideas = { remove_idea = SMA_christian_state_1 add_idea = SMA_christian_state_2 }
			}
			else_if = {
				limit = { has_idea = SMA_liberal_state }
				swap_ideas = { remove_idea = SMA_liberal_state add_idea = SMA_christian_state_1 }
			}
			else_if = {
				limit = {
					NOT = {
						has_idea = SMA_christian_state_1
						has_idea = SMA_christian_state_2
						has_idea = SMA_liberal_state
					}
				}
				add_ideas = SMA_christian_state_1
			}
			set_temp_variable = { temp_opinion = 5 }
			change_the_clergy_opinion = yes
		}

		ai_will_do = {
			base = 8
		}
	}
	focus = {
		id = SMA_pluralism
		icon = anti_catholicism

		x = 1
		y = 1
		relative_position_id = SMA_palom_place

		cost = 10

		prerequisite = {
			focus = SMA_palom_place
		}
		mutually_exclusive = {
			focus = SMA_traditional_religion
		}

		search_filters = { FOCUS_FILTER_MEX_CHURCH_AUTHORITY }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_pluralism executed"
			if = {
				limit = { has_idea = SMA_christian_state_1 }
				swap_ideas = { remove_idea = SMA_christian_state_1 add_idea = SMA_liberal_state }
			}
			else_if = {
				limit = { has_idea = POL_christian_state_2 }
				swap_ideas = { remove_idea = SMA_christian_state_2 add_idea = SMA_liberal_state }
			}
			else_if = {
				limit = {
					NOT = {
						has_idea = SMA_christian_state_2
						has_idea = SMA_christian_state_1
						has_idea = SMA_liberal_state
					}
				}
				add_ideas = SMA_liberal_state
			}
			set_temp_variable = { temp_opinion = -5 }
			change_the_clergy_opinion = yes
			swap_ideas = {
				remove_idea = christian
				add_idea = pluralist
			}
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_church_without_authority
		icon = focus_bible

		x = -1
		y = 1
		relative_position_id = SMA_pluralism

		cost = 10

		prerequisite = {
			focus = SMA_pluralism
			focus = SMA_traditional_religion
		}

		search_filters = { FOCUS_FILTER_MEX_CHURCH_AUTHORITY }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_church_without_authority executed"
			add_ideas = SMA_chruch_withnout_autority
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_coop_with_ita_deep
		icon = align_to_italy

		x = -2
		y = 1
		relative_position_id = SMA_social_viplat

		cost = 5

		prerequisite = {
			focus = SMA_social_viplat
		}

		search_filters = { FOCUS_FILTER_DIPLOMACY }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_coop_with_ita_deep executed"
			add_opinion_modifier = {
				modifier = friendly_italy_and_sanmarino
				target = ITA
			}
			reverse_add_opinion_modifier = {
				modifier = friendly_italy_and_sanmarino
				target = ITA
			}
			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = SMA }
			set_temp_variable = { influence_target = ITA }
			change_influence_percentage = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_airport_remini
		icon = build_new_airports

		x = -2
		y = 1
		relative_position_id = SMA_coop_with_ita_deep

		cost = 5

		prerequisite = {
			focus = SMA_coop_with_ita_deep
		}

		search_filters = { FOCUS_FILTER_DIPLOMACY }

		available = {
			western_conservatism_are_in_power = yes
			date > 2009.01.01
			NOT = { has_war_with = ITA }
			NOT = { is_embargoed_by = ITA }
			NOT = { is_embargoing = ITA }
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_airport_remini executed"
			ITA = {
				country_event = SMA_countries.1
			}
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_assoc_with_eu
		icon = EU_reform

		x = 0
		y = 1
		relative_position_id = SMA_coop_with_ita_deep

		cost = 5

		prerequisite = {
			focus = SMA_coop_with_ita_deep
		}

		search_filters = { FOCUS_FILTER_DIPLOMACY }

		available = {
			western_conservatism_are_in_power = yes
			NOT = {
				has_war_with = ITA
				is_embargoed_by = ITA
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_assoc_with_eu executed"
			give_guarantee = ITA
			give_military_access = ITA
			if = {
				limit = { NOT = { has_global_flag = GAME_RULE_eu_disabled } }
				set_temp_variable = { modify_eurosceptic = -0.03 }
				EU_eurosceptic_change = yes
				custom_effect_tooltip = TT_ALL_EU_MEMBER_NATIONS_GAIN
				effect_tooltip = {
					set_temp_variable = { percent_change = 5 }
					change_domestic_influence_percentage = yes
				}
				hidden_effect = {
					for_each_scope_loop = {
						array = global.EU_member
						set_temp_variable = { percent_change = 5 }
						change_domestic_influence_percentage = yes
					}
				}
			}
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_allow_casionos
		icon = gamble_cards

		x = 0
		y = 1
		relative_position_id = SMA_assoc_with_eu

		cost = 5

		prerequisite = {
			focus = SMA_assoc_with_eu
		}

		search_filters = { FOCUS_FILTER_CORRUPTION }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_allow_casionos executed"
			decrease_corruption = yes
			set_temp_variable = { treasury_change = 10 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_free_internet
		icon = free_internet

		x = 0
		y = 1
		relative_position_id = SMA_allow_casionos

		cost = 5

		prerequisite = {
			focus = SMA_allow_casionos
		}

		search_filters = { FOCUS_FILTER_STABILITY }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_free_internet executed"
			add_tech_bonus = {
				name = SMA_new_computers
				bonus = 0.3
				uses = 2
				category = CAT_computing_tech
			}
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_stab_aboveall
		icon = democratic_stability

		x = 2
		y = 1
		relative_position_id = SMA_assoc_with_eu

		cost = 5

		prerequisite = {
			focus = SMA_assoc_with_eu
		}
		prerequisite = {
			focus = SMA_social_media_ad
		}

		search_filters = { FOCUS_FILTER_STABILITY }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_stab_aboveall executed"
			add_stability = 0.02
			add_political_power = 50
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_podoxod_tax
		icon = Focus_delerlict_property_tax

		x = 2
		y = 1
		relative_position_id = SMA_stab_aboveall

		cost = 10

		prerequisite = {
			focus = SMA_stab_aboveall
			focus = SMA_healthy_people
		}
		mutually_exclusive = {
			focus = SMA_san_marino_for_people
		}

		search_filters = { FOCUS_FILTER_ECONOMY FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_podoxod_tax executed"
			add_timed_idea = {
				idea = EST_balancing_approach_idea
				days = 365
			}
			add_political_power = 25
			add_stability = 0.01
			set_temp_variable = { temp_opinion = -5 }
			change_small_medium_business_owners_opinion = yes
		}

		ai_will_do = {
			base = 1
		}
	}
	focus = {
		id = SMA_country_of_freedom
		icon = Fight_for_Freedom

		x = 0
		y = 1
		relative_position_id = SMA_podoxod_tax

		cost = 5

		prerequisite = {
			focus = SMA_free_internet
		}
		prerequisite = {
			focus = SMA_podoxod_tax
		}

		search_filters = { FOCUS_FILTER_EXPENDITURE FOCUS_FILTER_STABILITY }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: SMA_country_of_freedom executed"
			decrease_centralization = yes
			add_ideas = SMA_bastion_of_freedom
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_change_history_in_textbooks
		icon = BLR_High_quality_education

		x = 0
		y = 2
		relative_position_id = SMA_country_of_freedom

		cost = 5

		prerequisite = {
			focus = SMA_country_of_freedom
			focus = SMA_abolish_captaincy
			focus = SMA_save_traditions
		}

		search_filters = { FOCUS_FILTER_PROPAGANDA }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_change_history_in_textbooks executed"
			custom_effect_tooltip = change_textbooks_TT
		}

		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				is_historical_focus_on = yes
			}
		}
	}
	focus = {
		id = SMA_connect_with_profsoyuz
		icon = Labourist

		x = -1
		y = 1
		relative_position_id = SMA_banks_agreement

		cost = 5

		prerequisite = {
			focus = SMA_banks_agreement
		}
		mutually_exclusive = {
			focus = SMA_effectiveness_upor
		}

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_connect_with_profsoyuz executed"
			set_temp_variable = { temp_opinion = 5 }
			change_labour_unions_opinion = yes
			set_temp_variable = { temp_opinion = -5 }
			change_small_medium_business_owners_opinion = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_organiz_anti_corrupt
		icon = BLR_Anti_Corruption

		x = 0
		y = 1
		relative_position_id = SMA_connect_with_profsoyuz

		cost = 5

		prerequisite = {
			focus = SMA_connect_with_profsoyuz
			focus = SMA_effectiveness_upor
		}

		search_filters = { FOCUS_FILTER_CORRUPTION }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_organiz_anti_corrupt executed"
			decrease_corruption = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_effectiveness_upor
		icon = romanian_economic_development_plan

		x = 1
		y = 1
		relative_position_id = SMA_banks_agreement

		cost = 5

		prerequisite = {
			focus = SMA_banks_agreement
		}
		mutually_exclusive = {
			focus = SMA_connect_with_profsoyuz
		}

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_connect_witSMA_effectiveness_uporh_profsoyuz executed"
			add_ideas = SMA_effective_upor
			set_temp_variable = { temp_opinion = -5 }
			change_labour_unions_opinion = yes
			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_reform_police
		icon = protest_zloi

		x = 0
		y = 1
		relative_position_id = SMA_effectiveness_upor

		cost = 5

		prerequisite = {
			focus = SMA_connect_with_profsoyuz
			focus = SMA_effectiveness_upor
		}

		search_filters = { FOCUS_FILTER_EXPENDITURE }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_reform_police executed"
			increase_policing_budget = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_activity_spy
		icon = Generic_Spy_Sabotage

		x = -1
		y = 1
		relative_position_id = SMA_reform_police

		cost = 10

		prerequisite = {
			focus = SMA_reform_police
		}
		prerequisite = {
			focus = SMA_organiz_anti_corrupt
		}

		search_filters = { FOCUS_FILTER_PROPAGANDA FOCUS_FILTER_STABILITY }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_activity_spy executed"
			create_intelligence_agency = {
				name = "San Marino Spy Agency"
				icon = GFX_intelligence_agency_logo_fin
			}
			add_stability = -0.2
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_take_down_the_mafia
		icon = Generic_Political_Killing

		x = 0
		y = 1
		relative_position_id = SMA_activity_spy

		cost = 10

		prerequisite = {
			focus = SMA_activity_spy
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_ITA_MAFIA FOCUS_FILTER_CORRUPTION }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_take_down_the_mafia executed"
			if = {
				limit = {
					has_idea = SMA_mafia
				}
				remove_ideas = SMA_mafia
			}
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_trust_in_people
		icon = democracy4

		x = -2
		y = 1
		relative_position_id = SMA_take_down_the_mafia

		cost = 10

		prerequisite = {
			focus = SMA_take_down_the_mafia
		}
		prerequisite = {
			focus = SMA_stable_stability
		}

		search_filters = { FOCUS_FILTER_PROPAGANDA FOCUS_FILTER_STABILITY }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_trust_in_people executed"
			add_stability = 0.1
			add_ideas = SMA_trust_in_people
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_correct_prisoners
		icon = ITA_Focus_Prisoners_Rights

		x = 0
		y = 1
		relative_position_id = SMA_trust_in_people

		cost = 10

		prerequisite = {
			focus = SMA_trust_in_people
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_EXPENDITURE }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_correct_prisoners executed"
			add_stability = 0.1
			set_temp_variable = { treasury_change = -2.00 }
			modify_treasury_effect = yes
			increase_policing_budget = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_save_our_nature
		icon = revolutionary_primitivism

		x = 0
		y = 1
		relative_position_id = SMA_mixed_economy

		cost = 5

		prerequisite = {
			focus = SMA_mixed_economy
		}

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
			NOT = {
				has_completed_focus = SMA_dna_and_gmo_research
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_save_our_nature executed"
			add_ideas = SMA_pro_farmers
			set_temp_variable = { temp_opinion = 5 }
			change_farmers_opinion = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_no_gmo
		icon = eco_democracy

		x = -1
		y = 1
		relative_position_id = SMA_save_our_nature

		cost = 5

		prerequisite = {
			focus = SMA_save_our_nature
		}

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
			NOT = {
				has_completed_focus = SMA_dna_and_gmo_research
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_no_gmo executed"
			add_ideas = SMA_gmos_banned
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_healthy_people
		icon = generic_healthcare

		x = 0
		y = 2
		relative_position_id = SMA_save_our_nature

		cost = 5

		prerequisite = {
			focus = SMA_save_our_nature
		}

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
			NOT = {
				has_completed_focus = SMA_dna_and_gmo_research
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_healthy_people executed"
			increase_healthcare_budget = yes
			add_ideas = SMA_health_care
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_social_media_ad
		icon = youtube

		x = 0
		y = 1
		relative_position_id = SMA_social_viplat

		cost = 5

		prerequisite = {
			focus = SMA_social_viplat
		}

		search_filters = { FOCUS_FILTER_PROPAGANDA }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_social_media_ad executed"
			set_temp_variable = { party_index = 1 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			set_temp_variable = { treasury_change = -2.50 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_san_marino_for_people
		icon = focus_generic_financial_agreement

		x = -1
		y = 1
		relative_position_id = SMA_emphasis_on_small_medium_businesses

		cost = 5

		prerequisite = {
			focus = SMA_emphasis_on_small_medium_businesses
			focus = SMA_expand_trade_unions
			focus = SMA_healthy_people
		}
		mutually_exclusive = {
			focus = SMA_podoxod_tax
		}

		search_filters = { FOCUS_FILTER_ECONOMY FOCUS_FILTER_EXPENDITURE }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_san_marino_for_people executed"
			add_timed_idea = {
				idea = SMA_raising_taxes_idea
				days = 365
			}
			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_save_traditions
		icon = focus_SWI_dissolve_the_federal_council

		x = 1
		y = 1
		relative_position_id = SMA_san_marino_for_people

		cost = 5

		prerequisite = {
			focus = SMA_san_marino_for_people
		}
		mutually_exclusive = {
			focus = SMA_abolish_captaincy
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_save_traditions executed"
			set_temp_variable = { treasury_change = 10.00 }
			modify_treasury_effect = yes
			increase_corruption = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_abolish_captaincy
		icon = choose_the_true_leader

		x = -1
		y = 1
		relative_position_id = SMA_san_marino_for_people

		cost = 5

		prerequisite = {
			focus = SMA_san_marino_for_people
		}
		mutually_exclusive = {
			focus = SMA_save_traditions
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_abolish_captaincy executed"
			add_stability = -0.1
			decrease_corruption = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_human_rights
		icon = align_to_france

		x = 2
		y = 1
		relative_position_id = SMA_abolish_captaincy

		cost = 5

		prerequisite = {
			focus = SMA_abolish_captaincy
			focus = SMA_save_traditions
		}

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_EXPENDITURE }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_human_rights executed"
			add_political_power = 25
			add_opinion_modifier = {
				target = FRA
				modifier = diplomatic_support
			}
			reverse_add_opinion_modifier = {
				target = FRA
				modifier = diplomatic_support
			}
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_stable_stability
		icon = GEO_wine

		x = 1
		y = 1
		relative_position_id = SMA_human_rights

		cost = 5

		prerequisite = {
			focus = SMA_human_rights
		}

		search_filters = { FOCUS_FILTER_EXPENDITURE }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_stable_stability executed"
			one_random_industrial_complex = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_2006_summit
		icon = chinese_rmb

		x = 2
		y = 1
		relative_position_id = SMA_country_of_freedom

		cost = 10

		prerequisite = {
			focus = SMA_country_of_freedom
			focus = SMA_abolish_captaincy
			focus = SMA_save_traditions
		}
		mutually_exclusive = {
			focus = SMA_usa_deal
		}

		search_filters = { FOCUS_FILTER_DIPLOMACY }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_2006_summit executed"
			one_random_renewable_energy_infra = yes
			CHI = {
				one_random_renewable_energy_infra = yes
				set_temp_variable = { percent_change = 2 }
				set_temp_variable = { tag_index = SMA }
				set_temp_variable = { influence_target = CHI }
				change_influence_percentage = yes
			}
			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = CHI }
			set_temp_variable = { influence_target = SMA }
			change_influence_percentage = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_stabilize_government
		icon = goverment_building_sheep

		x = 0
		y = 1
		relative_position_id = SMA_2006_summit

		cost = 5

		prerequisite = {
			focus = SMA_2006_summit
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_CORRUPTION }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_stabilize_government executed"
			add_stability = 0.05
			set_temp_variable = { party_index = 1 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 3 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			decrease_corruption = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_legacy_past
		icon = peace

		x = -1
		y = 1
		relative_position_id = SMA_stabilize_government

		cost = 5

		prerequisite = {
			focus = SMA_stabilize_government
		}

		search_filters = { FOCUS_FILTER_STABILITY }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_legacy_past executed"
			add_ideas = SMA_legacy_of_past
			set_temp_variable = { temp_opinion = 5 }
			change_international_bankers_opinion = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_traditional_marriage
		icon = ITA_Focus_Ban_LGBT

		x = 1
		y = 1
		relative_position_id = SMA_stabilize_government

		cost = 5

		prerequisite = {
			focus = SMA_stabilize_government
		}
		mutually_exclusive = {
			focus = SMA_lgbt_rights
		}

		search_filters = { FOCUS_FILTER_STABILITY }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_traditional_marriage executed"
			add_ideas = SMA_traditional_marriage
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_lgbt_rights
		icon = pro_lgbt

		x = 2
		y = 0
		relative_position_id = SMA_traditional_marriage

		cost = 10

		prerequisite = {
			focus = SMA_stabilize_government
		}
		mutually_exclusive = {
			focus = SMA_traditional_marriage
		}

		search_filters = { FOCUS_FILTER_DIPLOMACY }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_lgbt_rights executed"
			add_ideas = SMA_half_pro_lgbtqa_stance_idea
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_usa_deal
		icon = western_investments

		x = -2
		y = 1
		relative_position_id = SMA_country_of_freedom

		cost = 10

		prerequisite = {
			focus = SMA_country_of_freedom
		}
		mutually_exclusive = {
			focus = SMA_2006_summit
		}

		search_filters = { FOCUS_FILTER_DIPLOMACY }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_usa_deal executed"
			one_random_renewable_energy_infra = yes
			USA = {
				one_random_renewable_energy_infra = yes
				set_temp_variable = { percent_change = 2 }
				set_temp_variable = { tag_index = SMA }
				set_temp_variable = { influence_target = USA }
				change_influence_percentage = yes
			}
			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = SMA }
			set_temp_variable = { influence_target = USA }
			change_influence_percentage = yes
		}

		ai_will_do = {
			factor = 3
		}
	}
	focus = {
		id = SMA_approach_nato
		icon = nato_nation

		x = 0
		y = 1
		relative_position_id = SMA_usa_deal

		cost = 10

		prerequisite = {
			focus = SMA_usa_deal
		}

		search_filters = { FOCUS_FILTER_DIPLOMACY }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_approach_nato executed"
			add_ideas = Major_Non_NATO_Ally
			set_country_flag = Major_Non_NATO_Ally
			custom_effect_tooltip = TT_ALL_NATO_MEMBER_NATIONS_GAIN
			effect_tooltip = {
				add_opinion_modifier = { target = CAN modifier = diplomatic_support }
			}
			for_each_scope_loop = {
				array = global.nato_members
				add_opinion_modifier = { target = CAN modifier = diplomatic_support }
			}
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_democracy_name
		icon = nato_standards

		x = -1
		y = 1
		relative_position_id = SMA_approach_nato

		cost = 10

		prerequisite = {
			focus = SMA_approach_nato
		}

		search_filters = { FOCUS_FILTER_DIPLOMACY }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_democracy_name executed"
			give_military_access = USA
			set_temp_variable = { receiver_nation = FRA.id }
			set_temp_variable = { sender_nation = SMA.id }
			set_improved_trade_agreement = yes
			if = {
				limit = { NOT = { has_global_flag = GAME_RULE_eu_disabled } }
				set_temp_variable = { modify_eurosceptic = -0.05 }
				EU_eurosceptic_change = yes
				newline = yes
				custom_effect_tooltip = TT_ALL_EU_MEMBER_NATIONS_GAIN
				effect_tooltip = {
					add_opinion_modifier = { target = SMA modifier = european_commitment }
				}
				for_each_scope_loop = {
					array = global.EU_member
					add_opinion_modifier = {
						target = SMA
						modifier = european_commitment
					}
				}
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	focus = {
		id = SMA_spoiler_parties
		icon = pro_lgbt

		x = 1
		y = 1
		relative_position_id = SMA_approach_nato

		cost = 10

		prerequisite = {
			focus = SMA_approach_nato
		}

		search_filters = { FOCUS_FILTER_DIPLOMACY }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_spoiler_parties executed"
			add_ideas = SMA_pro_lgbtqa_stance_idea
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_usa_and_west
		icon = western_alignment

		x = -1
		y = 1
		relative_position_id = SMA_spoiler_parties

		cost = 10

		prerequisite = {
			focus = SMA_spoiler_parties
		}
		prerequisite = {
			focus = SMA_democracy_name
		}

		search_filters = { FOCUS_FILTER_DIPLOMACY }

		available = {
			western_conservatism_are_in_power = yes
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_usa_and_west executed"
			add_opinion_modifier = {
				target = USA
				modifier = diplomatic_support
			}
			reverse_add_opinion_modifier = {
				target = USA
				modifier = diplomatic_support
			}
			add_ideas = SMA_pro_west
			add_political_power = 100
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_san_marino_path
		icon = neu_path

		x = 0
		y = 2
		relative_position_id = SMA_stabilize_government

		cost = 10

		prerequisite = {
			focus = SMA_legacy_past
		}
		prerequisite = {
			focus = SMA_traditional_marriage
			focus = SMA_lgbt_rights
		}

		search_filters = { FOCUS_FILTER_DIPLOMACY }

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				western_social_democrats_are_in_power = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_san_marino_path executed"
			add_timed_idea = {
				idea = generic_non_aligned_boost_idea2
				days = 365
			}
			add_popularity = { ideology = neutrality popularity = 0.05 }
			recalculate_party = yes
			add_political_power = 100
		}

		ai_will_do = {
			base = 3
		}
	}


	# Economy
	focus = {
		id = SMA_economy
		icon = sing_on_rise

		x = 16
		y = 0

		cost = 2

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			add_political_power = 150
			log = "[GetDateText]: [This.GetName]: focus SMA_economy executed"
		}

		ai_will_do = {
			base = 5
		}
	}

	# Buildings
	focus = {
		id = SMA_start_buildings
		icon = construct_factory

		x = -3
		y = 1
		relative_position_id = SMA_economy

		cost = 10

		prerequisite = {
			focus = SMA_economy
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_start_buildings executed"
			add_timed_idea = {
				idea = SMA_buildings
				days = 720
			}
			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes
			set_temp_variable = { treasury_change = -1.50 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 5
			modifier = {
				is_historical_focus_on = yes
				add = -3
			}
		}
	}
	focus = {
		id = SMA_civil_industry
		icon = industry3

		x = 0
		y = 1
		relative_position_id = SMA_start_buildings

		cost = 10

		prerequisite = {
			focus = SMA_start_buildings
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_civil_industry executed"
			one_random_industrial_complex = yes
			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes
			if = {
				limit = {
					has_idea = SMA_balance_tourism_ii
				}
				swap_ideas = {
					remove_idea = SMA_balance_tourism_ii
					add_idea = SMA_balance_tourism_i
				}
			}
			else = {
				if = {
					limit = {
						has_idea = SMA_balance_tourism_i
					}
					swap_ideas = {
						remove_idea = SMA_balance_tourism_i
						add_idea = SMA_balance_balance
					}
				}
				else = {
					if = {
						limit = {
							has_idea = SMA_balance_balance
						}
						swap_ideas = {
							remove_idea = SMA_balance_balance
							add_idea = SMA_balance_economy_i
						}
					}
					else = {
						if = {
							limit = {
								has_idea = SMA_balance_economy_i
							}
							swap_ideas = {
								remove_idea = SMA_balance_economy_i
								add_idea = SMA_balance_economy_ii
							}
						}
					}
				}
			}
		}

		ai_will_do = {
			base = 8
		}
	}
	focus = {
		id = SMA_industrial_research
		icon = examine_foreign_science

		x = 0
		y = 2
		relative_position_id = SMA_civil_industry

		cost = 5

		prerequisite = {
			focus = SMA_civil_industry
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_industrial_research executed"
			add_tech_bonus = {
				name = SMA_industrial_research
				bonus = 0.5
				uses = 3
				category = CAT_industry
			}
		}

		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				is_historical_focus_on = yes
			}
		}
	}
	focus = {
		id = SMA_construction_research
		icon = industry3

		x = 0
		y = 1
		relative_position_id = SMA_industrial_research

		cost = 5

		prerequisite = {
			focus = SMA_industrial_research
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_construction_research executed"
			add_tech_bonus = {
				name = SMA_construction_research
				bonus = 0.5
				uses = 3
				category = CAT_construction_tech
			}
		}

		ai_will_do = {
			base = 8
		}
	}
	focus = {
		id = SMA_sintetic_fuel_research
		icon = science

		x = 2
		y = 1
		relative_position_id = SMA_industrial_research

		cost = 5

		prerequisite = {
			focus = SMA_industrial_research
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_sintetic_fuel_research executed"
			add_resource = {
				type = oil
				amount = 5
				state = 948
			}
			add_tech_bonus = {
				name = SMA_sintetic_fuel_research
				bonus = 0.5
				uses = 3
				category = CAT_renewable
			}
			add_tech_bonus = {
				name = SMA_sintetic_fuel_research
				bonus = 0.5
				uses = 3
				category = CAT_fuel_oil
			}
		}

		ai_will_do = {
			base = 8
		}
	}
	focus = {
		id = SMA_dna_and_gmo_research
		icon = fusion_science

		x = -1
		y = 1
		relative_position_id = SMA_sintetic_fuel_research

		cost = 5

		prerequisite = {
			focus = SMA_sintetic_fuel_research
		}
		prerequisite = {
			focus = SMA_construction_research
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_dna_and_gmo_research executed"
			add_tech_bonus = {
				name = SMA_dna_and_gmo_research
				bonus = 0.5
				uses = 1
				category = CAT_genes
			}
		}

		ai_will_do = {
			base = 8
		}
	}
	focus = {
		id = SMA_building_slot
		icon = construction_buldozer

		x = -2
		y = 1
		relative_position_id = SMA_start_buildings

		cost = 10

		prerequisite = {
			focus = SMA_start_buildings
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_building_slot executed"
			948 = {
				add_extra_state_shared_building_slots = 5
			}
			set_temp_variable = { treasury_change = -5.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 8
		}
	}
	focus = {
		id = SMA_roads
		icon = infrastructure1

		x = -4
		y = 1
		relative_position_id = SMA_start_buildings

		cost = 10

		prerequisite = {
			focus = SMA_start_buildings
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_roads executed"
			one_random_infrastructure = yes
		}

		ai_will_do = {
			base = 8
		}
	}
	focus = {
		id = SMA_electronics_research
		icon = circular_electron_positron_collider

		x = 0
		y = 2
		relative_position_id = SMA_roads

		cost = 5

		prerequisite = {
			focus = SMA_roads
		}
		prerequisite = {
			focus = SMA_building_slot
		}
		prerequisite = {
			focus = SMA_civil_industry
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_electronics_research executed"
			add_tech_bonus = {
				name = SMA_electronics_research
				bonus = 0.5
				uses = 3
				category = CAT_computing_tech
			}
			948 = {
				add_manpower = 2500
			}
		}

		ai_will_do = {
			base = 8
		}
	}
	focus = {
		id = SMA_internet_research
		icon = free_internet

		x = 0
		y = 1
		relative_position_id = SMA_electronics_research

		cost = 5

		prerequisite = {
			focus = SMA_electronics_research
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_internet_research executed"
			add_tech_bonus = {
				name = SMA_internet_research
				bonus = 0.5
				uses = 3
				category = CAT_internet_tech
			}
		}

		ai_will_do = {
			base = 8
		}
	}
	focus = {
		id = SMA_new_computers
		icon = komplukter

		x = -2
		y = 1
		relative_position_id = SMA_electronics_research

		cost = 5

		prerequisite = {
			focus = SMA_electronics_research
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_new_computers executed"
			add_tech_bonus = {
				name = SMA_new_computers
				bonus = 0.5
				uses = 3
				category = CAT_computing_tech
			}
		}

		ai_will_do = {
			base = 8
		}
	}
	focus = {
		id = SMA_neural_research
		icon = science2

		x = 1
		y = 1
		relative_position_id = SMA_new_computers

		cost = 5

		prerequisite = {
			focus = SMA_new_computers
		}
		prerequisite = {
			focus = SMA_internet_research
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_neural_research executed"
			add_tech_bonus = {
				name = SMA_neural_research
				bonus = 0.5
				uses = 3
				category = CAT_ai
			}
		}

		ai_will_do = {
			base = 8
		}
	}
	focus = {
		id = SMA_office
		icon = construction_development

		x = 0
		y = 1
		relative_position_id = SMA_building_slot

		cost = 10

		prerequisite = {
			focus = SMA_building_slot
		}
		prerequisite = {
			focus = SMA_civil_industry
		}
		prerequisite = {
			focus = SMA_roads
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_office executed"
			one_office_construction = yes
			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes
			if = {
				limit = {
					has_idea = SMA_balance_tourism_ii
				}
				swap_ideas = {
					remove_idea = SMA_balance_tourism_ii
					add_idea = SMA_balance_tourism_i
				}
			}
			else = {
				if = {
					limit = {
						has_idea = SMA_balance_tourism_i
					}
					swap_ideas = {
						remove_idea = SMA_balance_tourism_i
						add_idea = SMA_balance_balance
					}
				}
				else = {
					if = {
						limit = {
							has_idea = SMA_balance_balance
						}
						swap_ideas = {
							remove_idea = SMA_balance_balance
							add_idea = SMA_balance_economy_i
						}
					}
					else = {
						if = {
							limit = {
								has_idea = SMA_balance_economy_i
							}
							swap_ideas = {
								remove_idea = SMA_balance_economy_i
								add_idea = SMA_balance_economy_ii
							}
						}
					}
				}
			}
			948 = {
				add_manpower = 3500
			}
		}

		ai_will_do = {
			base = 8
		}
	}
	focus = {
		id = SMA_research_center
		icon = warsaw_main_station

		x = 0
		y = 1
		relative_position_id = SMA_office

		cost = 15

		prerequisite = {
			focus = SMA_office
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_research_center executed"
			set_temp_variable = { treasury_change = -4.00 }
			modify_treasury_effect = yes
			custom_effect_tooltip = start_build_center_TT
		}

		ai_will_do = {
			base = 8
		}
	}
	focus = {
		id = SMA_economy_of_san_marino
		icon = consumer_goods

		x = 0
		y = 1
		relative_position_id = SMA_research_center

		cost = 5

		prerequisite = {
			focus = SMA_research_center
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_economy_of_san_marino executed"
			set_temp_variable = { treasury_change = -4.00 }
			modify_treasury_effect = yes
			if = { limit = { has_idea = SMA_balance_economy_ii }
				swap_ideas = {
					remove_idea = SMA_balance_economy_ii
					add_idea = SMA_increased_economy
				}
			}
		}

		ai_will_do = {
			base = 8
		}
	}
	focus = {
		id = SMA_latest_technologies
		icon = research3

		x = 0
		y = 3
		relative_position_id = SMA_research_center

		cost = 10

		prerequisite = {
			focus = SMA_economy_of_san_marino
		}
		prerequisite = {
			focus = SMA_neural_research
		}
		prerequisite = {
			focus = SMA_dna_and_gmo_research
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		available = {
			has_idea = SMA_center
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_latest_technologies executed"
			add_tech_bonus = {
				name = SMA_latest_technologies
				bonus = 0.5
				uses = 3
				category = CAT_3d
				category = CAT_industry
				category = CAT_computing_tech
			}
			add_tech_bonus = {
				name = SMA_latest_technologies
				bonus = 0.5
				uses = 2
				category = CAT_computing_tech
			}
			add_tech_bonus = {
				name = SMA_latest_technologies
				bonus = 0.5
				uses = 2
				category = CAT_construction_tech
			}
			add_tech_bonus = {
				name = SMA_latest_technologies
				bonus = 0.5
				uses = 2
				category = CAT_internet_tech
			}
			add_tech_bonus = {
				name = SMA_latest_technologies
				bonus = 0.5
				uses = 2
				category = CAT_excavation_tech
			}
			add_tech_bonus = {
				name = SMA_latest_technologies
				bonus = 0.5
				uses = 2
				category = CAT_infrastructure
			}
		}

		ai_will_do = {
			base = 10
		}
	}

	# foreign investment
	focus = {
		id = SMA_foreign_investment
		icon = MEX_Social_investments

		x = 3
		y = 1
		relative_position_id = SMA_economy

		cost = 10

		prerequisite = {
			focus = SMA_economy
		}

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_foreign_investment executed"
			add_ideas = SMA_investment_from_foreign
		}

		ai_will_do = {
			base = 5
			modifier = {
				add = 3
				is_historical_focus_on = yes
			}
		}
	}
	focus = {
		id = SMA_ask_to_build_germany
		icon = align_to_germany

		x = 0
		y = 1
		relative_position_id = SMA_foreign_investment

		cost = 5

		prerequisite = {
			focus = SMA_foreign_investment
		}
		mutually_exclusive = {
			focus = SMA_tourism_support
		}

		search_filters = { FOCUS_FILTER_FOREIGN_INVESTMENTS FOCUS_FILTER_DIPLOMACY }

		available = {
			NOT = {
				has_war_with = GER
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_ask_to_build_germany executed"
			GER = { country_event = SMA_countries.4 }
		}

		ai_will_do = {
			base = 8
		}
	}
	focus = {
		id = SMA_ask_to_build_france
		icon = align_to_france

		x = 0
		y = 1
		relative_position_id = SMA_ask_to_build_germany

		cost = 5

		prerequisite = {
			focus = SMA_ask_to_build_germany
		}

		search_filters = { FOCUS_FILTER_FOREIGN_INVESTMENTS FOCUS_FILTER_DIPLOMACY }

		available = {
			NOT = {
				has_war_with = FRA
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_ask_to_build_france executed"
			FRA = { country_event = SMA_countries.4 }
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_polish_build
		icon = factory_facto

		x = -2
		y = 1
		relative_position_id = SMA_ask_to_build_france

		cost = 5

		prerequisite = {
			focus = SMA_ask_to_build_france
		}

		search_filters = { FOCUS_FILTER_FOREIGN_INVESTMENTS FOCUS_FILTER_DIPLOMACY }

		available = {
			NOT = {
				has_war_with = POL
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_polish_build executed"
			POL = { country_event = SMA_countries.4 }
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_ger_volks
		icon = volkswagen

		x = 0
		y = 1
		relative_position_id = SMA_polish_build

		cost = 5

		prerequisite = {
			focus = SMA_polish_build
		}

		search_filters = { FOCUS_FILTER_FOREIGN_INVESTMENTS FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			NOT = {
				has_war_with = GER
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_ger_volks executed"
			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes
			if = {
				limit = {
					has_idea = SMA_balance_tourism_ii
				}
				swap_ideas = {
					remove_idea = SMA_balance_tourism_ii
					add_idea = SMA_balance_tourism_i
				}
			}
			else = {
				if = {
					limit = {
						has_idea = SMA_balance_tourism_i
					}
					swap_ideas = {
						remove_idea = SMA_balance_tourism_i
						add_idea = SMA_balance_balance
					}
				}
				else = {
					if = {
						limit = {
							has_idea = SMA_balance_balance
						}
						swap_ideas = {
							remove_idea = SMA_balance_balance
							add_idea = SMA_balance_economy_i
						}
					}
					else = {
						if = {
							limit = {
								has_idea = SMA_balance_economy_i
							}
							swap_ideas = {
								remove_idea = SMA_balance_economy_i
								add_idea = SMA_balance_economy_ii
							}
						}
					}
				}
			}
			set_temp_variable = { percent_change = -5 }
			change_domestic_influence_percentage = yes
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_researches
		icon = green_projects

		x = 0
		y = 2
		relative_position_id = SMA_ger_volks

		cost = 5

		prerequisite = {
			focus = SMA_ger_volks
		}

		search_filters = { FOCUS_FILTER_FOREIGN_INVESTMENTS FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_researches executed"
			add_tech_bonus = {
				name = SMA_researches
				bonus = 0.8
				uses = 5
				category = CAT_industry
			}
			add_tech_bonus = {
				name = SMA_researches
				bonus = 0.8
				uses = 5
				category = CAT_computing_tech
			}
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_ask_to_build_italy
		icon = align_to_italy

		x = 0
		y = 1
		relative_position_id = SMA_ask_to_build_france

		cost = 5

		prerequisite = {
			focus = SMA_ask_to_build_france
		}

		search_filters = { FOCUS_FILTER_FOREIGN_INVESTMENTS FOCUS_FILTER_DIPLOMACY }

		available = {
			NOT = {
				has_war_with = ITA
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_ask_to_build_italy executed"
			ITA = { country_event = SMA_countries.4 }
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_foreign_factories
		icon = factory_complex

		x = 0
		y = 1
		relative_position_id = SMA_ask_to_build_italy

		cost = 5

		prerequisite = {
			focus = SMA_ask_to_build_italy
		}

		search_filters = { FOCUS_FILTER_FOREIGN_INVESTMENTS FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_foreign_factories executed"
			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = {
					has_idea = SMA_balance_tourism_ii
				}
				swap_ideas = {
					remove_idea = SMA_balance_tourism_ii
					add_idea = SMA_balance_tourism_i
				}
			}
			else = {
				if = {
					limit = {
						has_idea = SMA_balance_tourism_i
					}
					swap_ideas = {
						remove_idea = SMA_balance_tourism_i
						add_idea = SMA_balance_balance
					}
				}
				else = {
					if = {
						limit = {
							has_idea = SMA_balance_balance
						}
						swap_ideas = {
							remove_idea = SMA_balance_balance
							add_idea = SMA_balance_economy_i
						}
					}
					else = {
						if = {
							limit = {
								has_idea = SMA_balance_economy_i
							}
							swap_ideas = {
								remove_idea = SMA_balance_economy_i
								add_idea = SMA_balance_economy_ii
							}
						}
					}
				}
			}
			set_temp_variable = { percent_change = -5 }
			change_domestic_influence_percentage = yes
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_ger_cars
		icon = bmw_logo2

		x = -1
		y = 1
		relative_position_id = SMA_foreign_factories

		cost = 5

		prerequisite = {
			focus = SMA_ger_volks
		}

		search_filters = { FOCUS_FILTER_FOREIGN_INVESTMENTS FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			NOT = {
				has_war_with = GER
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_ger_cars executed"
			set_temp_variable = { temp_opinion = 8 }
			change_small_medium_business_owners_opinion = yes
			if = {
				limit = {
					has_idea = SMA_balance_economy_ii
				}
				swap_ideas = {
					remove_idea = SMA_balance_economy_ii
					add_idea = SMA_increased_economy
				}
			}
			set_temp_variable = { percent_change = -3 }
			change_domestic_influence_percentage = yes
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_ger_electric
		icon = national_grid

		x = 0
		y = 2
		relative_position_id = SMA_ger_cars

		cost = 5

		prerequisite = {
			focus = SMA_ger_cars
		}
		prerequisite = {
			focus = SMA_researches
		}

		search_filters = { FOCUS_FILTER_FOREIGN_INVESTMENTS FOCUS_FILTER_TRADE }

		available = {
			NOT = {
				is_embargoed_by = GER
				has_war_with = GER
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_ger_electric executed"
			set_temp_variable = {
				temp_change = 1
			}
			build_battery_park_effect = yes
			add_opinion_modifier = {
				target = GER
				modifier = economic_mission
			}
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_ita_cars
		icon = focus_ITA_fiat_ansaldo_duopoly

		x = 1
		y = 1
		relative_position_id = SMA_foreign_factories

		cost = 5

		prerequisite = {
			focus = SMA_foreign_factories
		}

		search_filters = { FOCUS_FILTER_FOREIGN_INVESTMENTS FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			NOT = {
				has_war_with = ITA
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_ita_cars executed"
			set_temp_variable = { temp_opinion = 3 }
			change_small_medium_business_owners_opinion = yes
			if = {
				limit = {
					has_idea = SMA_balance_economy_ii
				}
				swap_ideas = {
					remove_idea = SMA_balance_economy_ii
					add_idea = SMA_increased_economy
				}
			}
			set_temp_variable = { percent_change = -8 }
			change_domestic_influence_percentage = yes
		}

		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				is_historical_focus_on = yes
			}
		}
	}
	focus = {
		id = SMA_italy_trade
		icon = italy_trade

		x = 0
		y = 2
		relative_position_id = SMA_ita_cars

		cost = 5

		prerequisite = {
			focus = SMA_ita_cars
		}

		search_filters = { FOCUS_FILTER_FOREIGN_INVESTMENTS FOCUS_FILTER_TRADE }

		available = {
			NOT = {
				is_embargoed_by = ITA
				has_war_with = ITA
			}
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_italy_trade executed"
			set_temp_variable = { percent_change = -1 }
			change_domestic_influence_percentage = yes
			add_opinion_modifier = {
				target = ITA
				modifier = long_term_trade_partner
			}
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_farmers
		icon = pro-agroculture_policy

		x = 0
		y = 2
		relative_position_id = SMA_foreign_factories

		cost = 5

		prerequisite = {
			focus = SMA_foreign_factories
			focus = SMA_ger_cars
		}

		search_filters = { FOCUS_FILTER_FOREIGN_INVESTMENTS FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_farmers executed"
			set_temp_variable = { temp_opinion = 5 }
			change_farmers_opinion = yes
			add_ideas = SMA_general_field_exercises
			948 = {
				add_manpower = 5000
			}
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_foregin_economy
		icon = market_economy

		x = 0
		y = 2
		relative_position_id = SMA_farmers

		cost = 5

		prerequisite = {
			focus = SMA_farmers
		}
		prerequisite = {
			focus = SMA_italy_trade
			focus = SMA_ger_electric
		}

		search_filters = { FOCUS_FILTER_FOREIGN_INVESTMENTS }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_foregin_economy executed"
			set_temp_variable = { treasury_change = -2.00 }
			modify_treasury_effect = yes
			add_ideas = globalized_trade_economy
			set_temp_variable = { percent_change = -2 }
			change_domestic_influence_percentage = yes
		}

		ai_will_do = {
			base = 8
		}
	}

	focus = {
		id = SMA_tourism_support
		icon = Tourism_is_our_oil

		x = 2
		y = 1
		relative_position_id = SMA_foreign_investment

		cost = 5

		prerequisite = {
			focus = SMA_foreign_investment
		}
		mutually_exclusive = {
			focus = SMA_ask_to_build_germany
		}

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_tourism_support executed"
			if = {
				limit = {
					has_idea = SMA_balance_economy_ii
				}
				swap_ideas = {
					remove_idea = SMA_balance_economy_ii
					add_idea = SMA_balance_economy_i
				}
			}
			else = {
				if = {
					limit = {
						has_idea = SMA_balance_economy_i
					}
					swap_ideas = {
						remove_idea = SMA_balance_economy_i
						add_idea = SMA_balance_balance
					}
				}
				else = {
					if = {
						limit = {
							has_idea = SMA_balance_balance
						}
						swap_ideas = {
							remove_idea = SMA_balance_balance
							add_idea = SMA_balance_tourism_i
						}
					}
					else = {
						if = {
							limit = {
								has_idea = SMA_balance_tourism_i
							}
							swap_ideas = {
								remove_idea = SMA_balance_tourism_i
								add_idea = SMA_balance_tourism_ii
							}
						}
					}
				}
			}
		}

		ai_will_do = {
			base = 8
			modifier = {
				is_historical_focus_on = yes
				add = -8
			}
		}
	}
	focus = {
		id = SMA_tourism_support_ii
		icon = armenia_turizm

		x = 0
		y = 1
		relative_position_id = SMA_tourism_support

		cost = 5

		prerequisite = {
			focus = SMA_tourism_support
		}

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_tourism_support_ii executed"
			if = {
				limit = {
					has_idea = SMA_balance_economy_ii
				}
				swap_ideas = {
					remove_idea = SMA_balance_economy_ii
					add_idea = SMA_increased_economy
				}
			}
			if = {
				limit = {
					has_idea = SMA_balance_economy_ii
				}
				swap_ideas = {
					remove_idea = SMA_balance_economy_ii
					add_idea = SMA_balance_economy_i
				}
			}
			else = {
				if = {
					limit = {
						has_idea = SMA_balance_economy_i
					}
					swap_ideas = {
						remove_idea = SMA_balance_economy_i
						add_idea = SMA_balance_balance
					}
				}
				else = {
					if = {
						limit = {
							has_idea = SMA_balance_balance
						}
						swap_ideas = {
							remove_idea = SMA_balance_balance
							add_idea = SMA_balance_tourism_i
						}
					}
					else = {
						if = {
							limit = {
								has_idea = SMA_balance_tourism_i
							}
							swap_ideas = {
								remove_idea = SMA_balance_tourism_i
								add_idea = SMA_balance_tourism_ii
							}
						}
					}
				}
			}
		}

		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				is_historical_focus_on = yes
			}
		}
	}
	focus = {
		id = SMA_tourism_support_iii
		icon = royal_wedding

		x = 0
		y = 1
		relative_position_id = SMA_tourism_support_ii

		cost = 5

		prerequisite = {
			focus = SMA_tourism_support_ii
		}

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_tourism_support_iii executed"
			if = {
				limit = {
					has_idea = SMA_balance_economy_ii
				}
				swap_ideas = {
					remove_idea = SMA_balance_economy_ii
					add_idea = SMA_balance_economy_i
				}
			}
			else = {
				if = {
					limit = {
						has_idea = SMA_balance_economy_i
					}
					swap_ideas = {
						remove_idea = SMA_balance_economy_i
						add_idea = SMA_balance_balance
					}
				}
				else = {
					if = {
						limit = {
							has_idea = SMA_balance_balance
						}
						swap_ideas = {
							remove_idea = SMA_balance_balance
							add_idea = SMA_balance_tourism_i
						}
					}
					else = {
						if = {
							limit = {
								has_idea = SMA_balance_tourism_i
							}
							swap_ideas = {
								remove_idea = SMA_balance_tourism_i
								add_idea = SMA_balance_tourism_ii
							}
						}
					}
				}
			}
		}

		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				is_historical_focus_on = yes
			}
		}
	}
	focus = {
		id = SMA_build_hotel_hetel_rosa
		icon = new_york_night

		x = 2
		y = 1
		relative_position_id = SMA_tourism_support

		cost = 10

		prerequisite = {
			focus = SMA_tourism_support
		}

		search_filters = { FOCUS_FILTER_ECONOMY FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			NOT = { has_idea = SMA_balance_tourism_ii }
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_build_hotel_hetel_rosa executed"
			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes
			one_office_construction = yes
		}

		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				is_historical_focus_on = yes
			}
		}
	}
	focus = {
		id = SMA_build_hotel_public_palace
		icon = shenzhen_night

		x = 2
		y = 1
		relative_position_id = SMA_tourism_support_ii

		cost = 10

		prerequisite = {
			focus = SMA_tourism_support_ii
		}

		search_filters = { FOCUS_FILTER_ECONOMY FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			NOT = { has_idea = SMA_balance_tourism_ii }
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_build_hotel_public_palace executed"
			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes
			one_office_construction = yes
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = SMA_build_hotel_prima_torre
		icon = Generic_Major_City

		x = 2
		y = 1
		relative_position_id = SMA_tourism_support_iii

		cost = 10

		prerequisite = {
			focus = SMA_tourism_support_iii
		}

		search_filters = { FOCUS_FILTER_ECONOMY FOCUS_FILTER_INTERNAL_FACTION }

		available = {
			NOT = { has_idea = SMA_balance_tourism_ii }
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_build_hotel_prima_torre executed"
			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes
			one_office_construction = yes
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = SMA_increased_level_of_tourism
		icon = aristocratic_funding

		x = 0
		y = 1
		relative_position_id = SMA_tourism_support_iii

		cost = 10

		prerequisite = {
			focus = SMA_tourism_support_iii
		}

		search_filters = { FOCUS_FILTER_ECONOMY }

		available = {
			has_idea = SMA_balance_tourism_ii
			has_completed_focus = SMA_build_hotel_hetel_rosa
			has_completed_focus = SMA_build_hotel_prima_torre
			has_completed_focus = SMA_build_hotel_public_palace
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_increased_level_of_tourism executed"
			swap_ideas = {
				remove_idea = SMA_balance_tourism_ii
				add_idea = SMA_increased_tourism
			}
			set_temp_variable = { treasury_change = -4.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				is_historical_focus_on = yes
			}
		}
	}
	focus = {
		id = SMA_emphasis_on_tourism
		icon = Tourism_is_our_oil

		x = 1
		y = 1
		relative_position_id = SMA_increased_level_of_tourism

		cost = 10

		prerequisite = {
			focus = SMA_increased_level_of_tourism
		}
		prerequisite = {
			focus = SMA_build_hotel_prima_torre
		}

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_emphasis_on_tourism executed"
			add_ideas = SMA_emphass_on_tourism
			948 = {
				add_manpower = 2500
			}
		}

		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				is_historical_focus_on = yes
			}
		}
	}
	focus = {
		id = SMA_bastion_of_beautiful_buildings
		icon = focus_generic_improve_the_administration

		x = 0
		y = 1
		relative_position_id = SMA_emphasis_on_tourism

		cost = 10

		prerequisite = {
			focus = SMA_emphasis_on_tourism
		}

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_bastion_of_beautiful_buildings executed"
			add_ideas = SMA_bastion_of_beautiful
			set_temp_variable = { treasury_change = -25 }
			modify_treasury_effect = yes
			948 = {
				add_manpower = 3500
			}
		}

		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0
				NOT = { check_variable = { treasury > 50 } }
			}
		}
	}
	# Expansion of State Departments.
	focus = {
		id = SMA_expansion_state_departments
		icon = united_states_dollar

		x = 11
		y = 1
		relative_position_id = SMA_economy

		cost = 5

		prerequisite = {
			focus = SMA_economy
		}

		search_filters = { FOCUS_FILTER_EXPENDITURE }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_expansion_state_departments executed"
			add_political_power = 100
			set_temp_variable = { treasury_change = -1.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_increasing_the_army
		icon = Generic_Military_Equipment

		x = -2
		y = 1
		relative_position_id = SMA_expansion_state_departments

		cost = 5

		prerequisite = {
			focus = SMA_expansion_state_departments
		}

		search_filters = { FOCUS_FILTER_EXPENDITURE }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_increasing_the_army executed"
			increase_military_spending = yes
			add_ideas = SMA_increase_army
			set_temp_variable = { treasury_change = -2.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 2
		}
	}
	focus = {
		id = SMA_increasing_health_care
		icon = generic_healthcare

		x = 0
		y = 1
		relative_position_id = SMA_expansion_state_departments

		cost = 5

		prerequisite = {
			focus = SMA_expansion_state_departments
		}

		search_filters = { FOCUS_FILTER_EXPENDITURE }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_increasing_health_care executed"
			increase_healthcare_budget = yes
			add_ideas = SMA_increase_health_care
			set_temp_variable = { treasury_change = -2.00 }
			modify_treasury_effect = yes
			add_political_power = 50
		}

		ai_will_do = {
			base = 2
		}
	}
	focus = {
		id = SMA_increasing_police
		icon = Generic_Policeman

		x = 2
		y = 1
		relative_position_id = SMA_expansion_state_departments

		cost = 5

		prerequisite = {
			focus = SMA_expansion_state_departments
		}

		search_filters = { FOCUS_FILTER_EXPENDITURE }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_increasing_police executed"
			increase_policing_budget = yes
			add_ideas = SMA_increase_police
			set_temp_variable = { treasury_change = -2.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 2
		}
	}
	focus = {
		id = SMA_increasing_education
		icon = BLR_High_quality_education

		x = -1
		y = 2
		relative_position_id = SMA_expansion_state_departments

		cost = 5

		prerequisite = {
			focus = SMA_expansion_state_departments
		}
		prerequisite = {
			focus = SMA_increasing_the_army
		}

		search_filters = { FOCUS_FILTER_EXPENDITURE }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_increasing_education executed"
			increase_education_budget = yes
			set_temp_variable = { temp_opinion = 5 }
			change_labour_unions_opinion = yes
			add_ideas = SMA_increase_education
			set_temp_variable = { treasury_change = -2.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 2
		}
	}
	focus = {
		id = SMA_increasing_social_benefits
		icon = welfare

		x = 1
		y = 2
		relative_position_id = SMA_expansion_state_departments

		cost = 5

		prerequisite = {
			focus = SMA_expansion_state_departments
		}
		prerequisite = {
			focus = SMA_increasing_police
		}

		search_filters = { FOCUS_FILTER_EXPENDITURE }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_increasing_social_benefits executed"
			increase_social_spending = yes
			set_temp_variable = { temp_opinion = 5 }
			change_labour_unions_opinion = yes
			add_ideas = SMA_increase_social_benefits
			set_temp_variable = { treasury_change = -2.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 2
		}
	}
	focus = {
		id = SMA_increasing_administrarion
		icon = focus_generic_improve_the_administration

		x = 0
		y = 3
		relative_position_id = SMA_expansion_state_departments

		cost = 10

		prerequisite = {
			focus = SMA_increasing_education
		}
		prerequisite = {
			focus = SMA_increasing_social_benefits
		}
		prerequisite = {
			focus = SMA_increasing_health_care
		}

		search_filters = { FOCUS_FILTER_EXPENDITURE }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_increasing_administrarion executed"
			increase_centralization = yes
			set_temp_variable = { treasury_change = -10.00 }
			modify_treasury_effect = yes
			add_political_power = 50
		}

		ai_will_do = {
			base = 2
			modifier = {
				factor = 0
				NOT = { check_variable = { treasury > 20 } }
			}
		}
	}
	focus = {
		id = SMA_fuck_euro
		icon = euro

		x = 0
		y = 1
		relative_position_id = SMA_increasing_administrarion

		cost = 10

		prerequisite = {
			focus = SMA_increasing_administrarion
		}

		search_filters = { FOCUS_FILTER_ECONOMY }

		available = {
			has_idea = the_SMA_euro
		}

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_fuck_euro executed"
			remove_ideas = the_SMA_euro
		}

		ai_will_do = {
			base = 0
		}
	}

 #	_
 #   / \	_ __  _ __ ___   _   _
 #  / _ \  | '__|| '_ ` _ \ | | | |
 # / ___ \ | |   | | | | | || |_| |
 #/_/   \_\|_|   |_| |_| |_| \__, |
 #						   |___/

	focus = {
		id = SMA_army_san_marino
		icon = Sammarinese_Army

		x = 29
		y = 6

		cost = 2

		search_filters = { FOCUS_FILTER_MILITARY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_army_san_marino executed"
			add_manpower = 1500
			increase_military_spending = yes
		}

		ai_will_do = {
			base = 10
		}
	}

	# Armed Forces
	focus = {
		id = SMA_armed_forces_san_marino
		icon = san_marino_sold

		x = 0
		y = 1
		relative_position_id = SMA_army_san_marino

		cost = 5

		prerequisite = {
			focus = SMA_army_san_marino
		}

		search_filters = { FOCUS_FILTER_MILITARY FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_armed_forces_san_marino executed"
			army_experience = 150
			if = {
				limit = {
					has_idea = SMA_no_wars_iii
				}
				swap_ideas = {
					remove_idea = SMA_no_wars_iii
					add_idea = SMA_no_wars_ii
				}
			}
			else = {
				if = {
					limit = {
						has_idea = SMA_no_wars_ii
					}
					swap_ideas = {
						remove_idea = SMA_no_wars_ii
						add_idea = SMA_no_wars_i
					}
				}
				else = {
					if = {
						limit = {
							has_idea = SMA_no_wars_i
						}
						swap_ideas = {
							remove_idea = SMA_no_wars_i
							add_idea = SMA_army_of_sacred_marino
						}
					}
				}
			}
		}

		ai_will_do = {
			base = 8
		}
	}

	# Training Divisions
	focus = {
		id = SMA_divisons_training
		icon = soldier

		x = 0
		y = 2
		relative_position_id = SMA_armed_forces_san_marino

		cost = 10

		prerequisite = {
			focus = SMA_purchase_italian_weapons
			focus = SMA_purchase_spanish_equipment
		}

		search_filters = { FOCUS_FILTER_MILITARY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_divisons_training executed"
			if = {
				limit = {
					has_idea = SMA_no_wars_iii
				}
				swap_ideas = {
					remove_idea = SMA_no_wars_iii
					add_idea = SMA_no_wars_ii
				}
			}
			else = {
				if = {
					limit = {
						has_idea = SMA_no_wars_ii
					}
					swap_ideas = {
						remove_idea = SMA_no_wars_ii
						add_idea = SMA_no_wars_i
					}
				}
				else = {
					if = {
						limit = {
							has_idea = SMA_no_wars_i
						}
						swap_ideas = {
							remove_idea = SMA_no_wars_i
							add_idea = SMA_army_of_sacred_marino
						}
					}
				}
			}
		}

		ai_will_do = {
			base = 5
		}
	}
	focus = {
		id = SMA_contract_service
		icon = soliger_plain

		x = -1
		y = 1
		relative_position_id = SMA_divisons_training

		cost = 10

		prerequisite = {
			focus = SMA_divisons_training
		}
		mutually_exclusive = {
			focus = SMA_recruits
		}

		search_filters = { FOCUS_FILTER_MILITARY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_contract_service executed"
			if = {
				limit = {
					has_idea = no_military
				}
				swap_ideas = {
					remove_idea = no_military
					add_idea = volunteer_army
				}
			}
			else = {
				if = {
					limit = {
						has_idea = partial_draft_army
					}
					swap_ideas = {
						remove_idea = partial_draft_army
						add_idea = volunteer_army
					}
				}
				else = {
					if = {
						limit = {
							has_idea = draft_army
						}
						swap_ideas = {
							remove_idea = draft_army
							add_idea = volunteer_army
						}
					}
				}
			}
			add_ideas = SMA_contract_service
		}

		ai_will_do = {
			base = 5
			modifier = {
				is_historical_focus_on = yes
				add = 3
			}
		}
	}
	focus = {
		id = SMA_recruits
		icon = recruitment

		x = 1
		y = 1
		relative_position_id = SMA_divisons_training

		cost = 10

		prerequisite = {
			focus = SMA_divisons_training
		}
		mutually_exclusive = {
			focus = SMA_contract_service
		}

		search_filters = { FOCUS_FILTER_MILITARY }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_recruits executed"
			if = {
				limit = {
					has_idea = no_military
				}
				swap_ideas = {
					remove_idea = no_military
					add_idea = draft_army
				}
			}
			else = {
				if = {
					limit = {
						has_idea = partial_draft_army
					}
					swap_ideas = {
						remove_idea = partial_draft_army
						add_idea = draft_army
					}
				}
				else = {
					if = {
						limit = {
							has_idea = volunteer_army
						}
						swap_ideas = {
							remove_idea = volunteer_army
							add_idea = draft_army
						}
					}
				}
			}
			add_ideas = SMA_recruits
		}

		ai_will_do = {
			base = 5
			modifier = {
				is_historical_focus_on = yes
				add = -5
			}
		}
	}
	focus = {
		id = SMA_solders_training
		icon = Generic_Volunteer_Corps

		x = 0
		y = 3
		relative_position_id = SMA_divisons_training

		cost = 10

		prerequisite = {
			focus = SMA_contract_service
			focus = SMA_recruits
		}
		prerequisite = {
			focus = SMA_purchase_spanish_weapons
			focus = SMA_purchase_italian_equipment
		}

		search_filters = { FOCUS_FILTER_MILITARY FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_solders_training executed"
			army_experience = 150
			if = {
				limit = {
					has_idea = SMA_no_wars_iii
				}
				swap_ideas = {
					remove_idea = SMA_no_wars_iii
					add_idea = SMA_no_wars_ii
				}
			}
			else = {
				if = {
					limit = {
						has_idea = SMA_no_wars_ii
					}
					swap_ideas = {
						remove_idea = SMA_no_wars_ii
						add_idea = SMA_no_wars_i
					}
				}
				else = {
					if = {
						limit = {
							has_idea = SMA_no_wars_i
						}
						swap_ideas = {
							remove_idea = SMA_no_wars_i
							add_idea = SMA_army_of_sacred_marino
						}
					}
				}
			}
		}

		ai_will_do = {
			base = 8
		}
	}

	# Italian equpment
	focus = {
		id = SMA_purchase_italian_weapons
		icon = ITA_Focus_ARX160

		x = -1
		y = 1
		relative_position_id = SMA_armed_forces_san_marino

		cost = 5

		prerequisite = {
			focus = SMA_armed_forces_san_marino
		}
		mutually_exclusive = {
			focus = SMA_purchase_spanish_equipment
		}

		search_filters = { FOCUS_FILTER_MILITARY FOCUS_FILTER_EQUIPMENT }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_purchase_italian_weapons executed"
			add_equipment_to_stockpile = {
				type = infantry_weapons2
				amount = 1500
				producer = ITA
			}
			set_temp_variable = { treasury_change = -5.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				is_historical_focus_on = yes
			}
		}
	}
	focus = {
		id = SMA_purchase_italian_technique
		icon = ITA_Focus_Ariete

		x = -3
		y = 1
		relative_position_id = SMA_purchase_italian_weapons

		cost = 5

		prerequisite = {
			focus = SMA_purchase_italian_weapons
		}

		search_filters = { FOCUS_FILTER_MILITARY FOCUS_FILTER_EQUIPMENT }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_purchase_italian_technique executed"
			if = {
				limit = { has_dlc = "No Step Back" }
				add_equipment_to_stockpile = {
					type = util_vehicle_1
					amount = 250
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = medium_tank_amphibious_chassis_1
					amount = 50
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = medium_tank_flame_chassis_1
					amount = 50
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = medium_tank_chassis_2
					amount = 200
					producer = ITA
				}
			}
			if = {
				limit = { NOT = { has_dlc = "No Step Back" } }
				add_equipment_to_stockpile = {
					type = util_vehicle_1
					amount = 250
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = APC_1
					amount = 50
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = IFV_1
					amount = 50
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = MBT_2
					amount = 200
					producer = ITA
				}
			}
			set_temp_variable = { treasury_change = -15.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 3
			modifier = {
				factor = 0
				NOT = { check_variable = { treasury > 30 } }
			}
		}
	}
	focus = {
		id = SMA_ask_italian_for_Artillery
		icon = ITA_Focus_FH70

		x = -1
		y = 1
		relative_position_id = SMA_purchase_italian_technique

		cost = 5

		prerequisite = {
			focus = SMA_purchase_italian_technique
		}
		mutually_exclusive = {
			focus = SMA_ask_italian_for_MANPADS_and_ATGM
		}

		search_filters = { FOCUS_FILTER_MILITARY FOCUS_FILTER_EQUIPMENT }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_ask_italian_for_Artillery executed"
			add_equipment_to_stockpile = {
				type = artillery_1
				amount = 150
				producer = ITA
			}
			set_temp_variable = { treasury_change = -5.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_ask_italian_for_MANPADS_and_ATGM
		icon = ITA_Focus_Stinger

		x = 1
		y = 1
		relative_position_id = SMA_purchase_italian_technique

		cost = 5

		prerequisite = {
			focus = SMA_purchase_italian_technique
		}
		mutually_exclusive = {
			focus = SMA_ask_italian_for_Artillery
		}

		search_filters = { FOCUS_FILTER_MILITARY FOCUS_FILTER_EQUIPMENT }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_ask_italian_for_MANPADS_and_ATGM executed"
			add_equipment_to_stockpile = {
				type = Anti_Air_1
				amount = 200
				producer = ITA
			}
			add_equipment_to_stockpile = {
				type = Anti_tank_1
				amount = 200
				producer = ITA
			}
			set_temp_variable = { treasury_change = -5.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_purchase_italian_equipment
		icon = ITA_Focus_SIACCON

		x = 0
		y = 2
		relative_position_id = SMA_purchase_italian_technique

		cost = 5

		prerequisite = {
			focus = SMA_ask_italian_for_Artillery
			focus = SMA_ask_italian_for_MANPADS_and_ATGM
		}

		search_filters = { FOCUS_FILTER_MILITARY FOCUS_FILTER_EQUIPMENT }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_purchase_italian_equipment executed"
			add_equipment_to_stockpile = {
				type = command_control_equipment1
				amount = 1500
				producer = ITA
			}
			set_temp_variable = { treasury_change = -1.50 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 3
		}
	}

	# Spanish equpment
	focus = {
		id = SMA_purchase_spanish_equipment
		icon = Generic_Support_Equipment

		x = 1
		y = 1
		relative_position_id = SMA_armed_forces_san_marino

		cost = 5

		prerequisite = {
			focus = SMA_armed_forces_san_marino
		}
		mutually_exclusive = {
			focus = SMA_purchase_italian_weapons
		}

		search_filters = { FOCUS_FILTER_MILITARY FOCUS_FILTER_EQUIPMENT }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_purchase_spanish_equipment executed"
			add_equipment_to_stockpile = {
				type = command_control_equipment1
				amount = 1500
				producer = SPR
			}
			set_temp_variable = { treasury_change = -5.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 3
		}
	}
	focus = {
		id = SMA_purchase_spanish_technique
		icon = apc_sheep

		x = 3
		y = 1
		relative_position_id = SMA_purchase_spanish_equipment

		cost = 5

		prerequisite = {
			focus = SMA_purchase_spanish_equipment
		}

		search_filters = { FOCUS_FILTER_MILITARY FOCUS_FILTER_EQUIPMENT }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_purchase_spanish_technique executed"
			if = {
				limit = { has_dlc = "No Step Back" }
				add_equipment_to_stockpile = {
					type = util_vehicle_1
					amount = 250
					producer = SPR
				}
				add_equipment_to_stockpile = {
					type = medium_tank_amphibious_chassis_2
					amount = 150
					producer = SPR
				}
				add_equipment_to_stockpile = {
					type = medium_tank_flame_chassis_2
					amount = 150
					producer = SPR
				}
				add_equipment_to_stockpile = {
					type = medium_tank_chassis
					amount = 50
					producer = SPR
				}
			}
			if = {
				limit = { NOT = { has_dlc = "No Step Back" } }
				add_equipment_to_stockpile = {
					type = util_vehicle_1
					amount = 250
					producer = SPR
				}
				add_equipment_to_stockpile = {
					type = APC_2
					amount = 150
					producer = SPR
				}
				add_equipment_to_stockpile = {
					type = IFV_2
					amount = 150
					producer = SPR
				}
				add_equipment_to_stockpile = {
					type = MBT_1
					amount = 50
					producer = SPR
				}
			}
			set_temp_variable = { treasury_change = -15.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 3
			modifier = {
				factor = 0
				NOT = { check_variable = { treasury > 30 } }
			}
		}
	}
	focus = {
		id = SMA_ask_spanish_for_BMP
		icon = ifv

		x = -1
		y = 1
		relative_position_id = SMA_purchase_spanish_technique

		cost = 5

		prerequisite = {
			focus = SMA_purchase_spanish_technique
		}
		mutually_exclusive = {
			focus = SMA_ask_spanish_for_APC
		}

		search_filters = { FOCUS_FILTER_MILITARY FOCUS_FILTER_EQUIPMENT }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_ask_spanish_for_BMP executed"
			if = {
				limit = { has_dlc = "No Step Back" }
				add_equipment_to_stockpile = {
					type = util_vehicle_1
					amount = 80
					producer = SPR
				}
				add_equipment_to_stockpile = {
					type = medium_tank_flame_chassis_1
					amount = 20
					producer = SPR
				}
			}
			if = {
				limit = { NOT = { has_dlc = "No Step Back" } }
				add_equipment_to_stockpile = {
					type = util_vehicle_1
					amount = 80
					producer = SPR
				}
				add_equipment_to_stockpile = {
					type = IFV_1
					amount = 20
					producer = SPR
				}
			}
			set_temp_variable = { treasury_change = -15.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 3
			modifier = {
				factor = 0
				NOT = { check_variable = { treasury > 30 } }
			}
		}
	}
	focus = {
		id = SMA_ask_spanish_for_APC
		icon = apc

		x = 1
		y = 1
		relative_position_id = SMA_purchase_spanish_technique

		cost = 5

		prerequisite = {
			focus = SMA_purchase_spanish_technique
		}
		mutually_exclusive = {
			focus = SMA_ask_spanish_for_BMP
		}

		search_filters = { FOCUS_FILTER_MILITARY FOCUS_FILTER_EQUIPMENT }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_ask_spanish_for_APC executed"
			if = {
				limit = { has_dlc = "No Step Back" }
				add_equipment_to_stockpile = {
					type = util_vehicle_1
					amount = 80
					producer = SPR
				}
				add_equipment_to_stockpile = {
					type = medium_tank_amphibious_chassis_1
					amount = 20
					producer = SPR
				}
			}
			if = {
				limit = { NOT = { has_dlc = "No Step Back" } }
				add_equipment_to_stockpile = {
					type = util_vehicle_1
					amount = 80
					producer = SPR
				}
				add_equipment_to_stockpile = {
					type = APC_2
					amount = 20
					producer = SPR
				}
			}
			set_temp_variable = { treasury_change = -15.00 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 3
			modifier = {
				factor = 0
				NOT = { check_variable = { treasury > 30 } }
			}
		}
	}
	focus = {
		id = SMA_purchase_spanish_weapons
		icon = M16

		x = 0
		y = 2
		relative_position_id = SMA_purchase_spanish_technique

		cost = 5

		prerequisite = {
			focus = SMA_ask_spanish_for_APC
			focus = SMA_ask_spanish_for_BMP
		}

		search_filters = { FOCUS_FILTER_MILITARY FOCUS_FILTER_EQUIPMENT }

		completion_reward = {
			log = "[GetDateText]: [This.GetName]: focus SMA_purchase_spanish_weapons executed"
			add_equipment_to_stockpile = {
				type = infantry_weapons2
				amount = 1500
				producer = SPR
			}
			set_temp_variable = { treasury_change = -1.50 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			base = 3
		}
	}
}
