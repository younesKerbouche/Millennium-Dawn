scripted_gui = {
	open_market_value_expense_screen = {
		context_type = player_context
		window_name = "market_value_expense_display_open"
		parent_window_name = "countryinternationalmarketview"
		dirty = global.market_contract_ui

		effects = {
			open_market_value_expense_screen_click = {
				if = {
					limit = { NOT = { has_country_flag = open_market_money_value } }
					set_country_flag = open_market_money_value
					set_variable = { new_contract_calc_cost = 0 }
				}
				else = {
					clr_country_flag = open_market_money_value
					set_variable = { new_contract_calc_cost = 0 }
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
		}
	}
	market_value_expense = {
		context_type = player_context
		window_name = "market_value_expense_display"
		dirty = global.market_contract_ui
		visible = { has_country_flag = open_market_money_value }

		effects = {
			close_market_screen_button_click = {
				if = {
					limit = { NOT = { has_country_flag = open_market_money_value } }
					set_country_flag = open_market_money_value
					set_variable = { new_contract_calc_cost = 0 }
				}
				else = {
					clr_country_flag = open_market_money_value
					set_variable = { new_contract_calc_cost = 0 }
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			clear_contract_button_click = {
				set_variable = { new_contract_calc_cost = 0 }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			infantry_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.inf_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			cnc_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.cnc_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			aa_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.aa_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			at_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.at_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			hat_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.hat_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			art_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.art_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			util_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.util_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			mbt_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.mbt_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			light_tank_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.light_tank_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			ifv_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.ifv_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			apc_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.apc_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			spart_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.spart_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			spaa_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.spaa_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			trans_helo_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.trans_helo_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			atk_helo_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.atk_helo_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			sml_pln_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.sml_pln_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			med_pln_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.med_pln_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			lrg_pln_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.lrg_pln_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			train_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.train_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			convoy_equipment_button_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.convoy_cost_mult }
				add_to_variable = { new_contract_calc_cost = temp_base_cost_track }
				add_to_variable = { global.market_contract_ui = 1 }
			}
			infantry_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.inf_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			cnc_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.cnc_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			aa_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.aa_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			at_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.at_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			hat_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.hat_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			art_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.art_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			util_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.util_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			mbt_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.mbt_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			light_tank_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.light_tank_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			ifv_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.ifv_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			apc_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.apc_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			spart_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.spart_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			spaa_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.spaa_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			trans_helo_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.trans_helo_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			atk_helo_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.atk_helo_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			sml_pln_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.sml_pln_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			med_pln_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.med_pln_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			lrg_pln_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.lrg_pln_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			train_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.train_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
			convoy_equipment_button_right_click = {
				set_temp_variable = { temp_base_cost_track = global.base_unit_cost }
				multiply_temp_variable = { temp_base_cost_track = global.convoy_cost_mult }
				subtract_from_variable = { new_contract_calc_cost = temp_base_cost_track }
				clamp_variable = {
					var = new_contract_calc_cost
					min = 0
				}
				add_to_variable = { global.market_contract_ui = 1 }
			}
		}
	}
}
