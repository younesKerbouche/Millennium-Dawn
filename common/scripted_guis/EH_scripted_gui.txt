scripted_gui = {
	EH_drone_scripted_gui = {
		window_name = "EH_drone_scripted_gui_window"
		context_type = decision_category

		visible = {
			ROOT = {
        	    has_completed_focus = EH_investigate_strange_structure
        	    NOT = {
        	        has_country_flag = EH_country_succeeded_in_drone_mission_flag
        	    }
        	}
		}

		effects = {
			EH_increase_drones_button_click = {
				ROOT = {
					add_to_variable = { EH_selected_drones_var = 1 }
					clamp_variable = {
						var = EH_selected_drones_var
						max = 500
					}
					EH_drone_mission_calculations_effect = yes
				}
			}
			EH_increase_drones_button_control_click = {
				ROOT = {
					add_to_variable = { EH_selected_drones_var = 10 }
					clamp_variable = {
						var = EH_selected_drones_var
						max = 500
					}
					EH_drone_mission_calculations_effect = yes
				}
			}
			EH_increase_drones_button_shift_click = {
				ROOT = {
					add_to_variable = { EH_selected_drones_var = 100 }
					clamp_variable = {
						var = EH_selected_drones_var
						max = 500
					}
					EH_drone_mission_calculations_effect = yes
				}
			}

			EH_decrease_drones_button_click = {
				ROOT = {
					subtract_from_variable = { EH_selected_drones_var = 1 }
					clamp_variable = {
						var = EH_selected_drones_var
						min = 100
					}
					EH_drone_mission_calculations_effect = yes
				}
			}
			EH_decrease_drones_button_control_click = {
				ROOT = {
					subtract_from_variable = { EH_selected_drones_var = 10 }
					clamp_variable = {
						var = EH_selected_drones_var
						min = 100
					}
					EH_drone_mission_calculations_effect = yes
				}
			}
			EH_decrease_drones_button_shift_click = {
				ROOT = {
					subtract_from_variable = { EH_selected_drones_var = 100 }
					clamp_variable = {
						var = EH_selected_drones_var
						min = 100
					}
					EH_drone_mission_calculations_effect = yes
				}
			}

			EH_launch_mission_button_click = {
				ROOT = {
					EH_drone_mission_effect = yes
				}
			}
        }

		triggers = {
			EH_increase_drones_button_click_enabled = {
				ROOT = {
					check_variable = { EH_selected_drones_var < 500 }
				}
			}

			EH_decrease_drones_button_click_enabled = {
				ROOT = {
					check_variable = { EH_selected_drones_var > 100 }
				}
			}

			EH_launch_mission_button_click_enabled = {
				ROOT = {
					has_deployed_air_force_size = {
    					size > EH_selected_drones_var
    					type = suicide
					}
				}
			}
		}

		ai_enabled = {
			always = yes
		}

		ai_weights = {
			EH_increase_drones_button_shift_click = {
				ai_will_do = {
					base = 100

					modifier = {
						factor = 0
						has_deployed_air_force_size = {
    						size < EH_selected_drones_var
    						type = suicide
						}
					}
				}
			}

			EH_launch_mission_button_click = { # AI takes low risk here, cuz it's stupid in equipment production so let's not make them waste all drones
				ai_will_do = {
					base = 0

					modifier = {
						add = 10
						check_variable = { EH_selected_drones_var > 299 }
					}
					modifier = {
						add = 50
						check_variable = { EH_selected_drones_var > 499 }
					}
					modifier = {
						add = 40
						check_variable = { air_intel@ALN > 50 }
					}
					modifier = {
						factor = 0
						check_variable = { air_intel@ALN < 35 }
					}
				}
			}
		}
	}

	EH_research_sites_scripted_gui = {
		window_name = "EH_research_sites_scripted_gui_window"
		context_type = decision_category

		visible = {
			ROOT = {
			    has_country_flag = EH_research_sites_enabled
			}
		}

		effects = {
			EH_hire_Jennifer_Doudna_button_click = {
				add_ideas = EH_scientist_jennifer_doudna_idea
				set_country_flag = EH_hired_jennifer_doudna_flag
			}
			EH_scientist_Emmanuelle_Charpentier_click = {
				add_ideas = EH_scientist_emmanuelle_charpentier_idea
				set_country_flag = EH_hired_emmanuelle_charpentier_flag
			}
			EH_scientist_Andrzej_Trautman_click = {
				add_ideas = EH_scientist_andrzej_trautman_idea
				set_country_flag = EH_hired_andrzej_trautman_flag
			}
			EH_scientist_Fabiola_Gianotti_click = {
				add_ideas = EH_scientist_fabiola_gianotti_idea
				set_country_flag = EH_hired_fabiola_gianotti_flag
			}
			EH_scientist_Lene_Hau_click = {
				add_ideas = EH_scientist_lene_hau_idea
				set_country_flag = EH_hired_lene_hau_flag
			}
		}

		triggers = {
			EH_scientist_Jennifer_Doudna_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = EH_scientist_is_alive_tt
					is_in_array = { EH_scientists_array = 0 }
				}
				hidden_trigger = {
					has_country_flag = EH_hired_jennifer_doudna_flag
				}
			}
			EH_hire_Jennifer_Doudna_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = EH_scientist_is_alive_tt
					is_in_array = { EH_scientists_array = 0 }
				}
				NOT = {
					has_country_flag = EH_hired_jennifer_doudna_flag
				}
			}

			EH_scientist_Emmanuelle_Charpentier_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = EH_scientist_is_alive_tt
					is_in_array = { EH_scientists_array = 1 }
				}
				hidden_trigger = {
					has_country_flag = EH_hired_emmanuelle_charpentier_flag
				}
			}
			EH_hire_Emmanuelle_Charpentier_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = EH_scientist_is_alive_tt
					is_in_array = { EH_scientists_array = 1 }
				}
				NOT = {
					has_country_flag = EH_hired_emmanuelle_charpentier_flag
				}
			}

			EH_scientist_Andrzej_Trautman_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = EH_scientist_is_alive_tt
					is_in_array = { EH_scientists_array = 2 }
				}
				hidden_trigger = {
					has_country_flag = EH_hired_andrzej_trautman_flag
				}
			}
			EH_hire_Andrzej_Trautman_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = EH_scientist_is_alive_tt
					is_in_array = { EH_scientists_array = 2 }
				}
				NOT = {
					has_country_flag = EH_hired_andrzej_trautman_flag
				}
			}

			EH_scientist_Fabiola_Gianotti_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = EH_scientist_is_alive_tt
					is_in_array = { EH_scientists_array = 3 }
				}
				hidden_trigger = {
					has_country_flag = EH_hired_fabiola_gianotti_flag
				}
			}
			EH_hire_Fabiola_Gianotti_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = EH_scientist_is_alive_tt
					is_in_array = { EH_scientists_array = 3 }
				}
				NOT = {
					has_country_flag = EH_hired_fabiola_gianotti_flag
				}
			}

			EH_scientist_Lene_Hau_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = EH_scientist_is_alive_tt
					is_in_array = { EH_scientists_array = 4 }
				}
				hidden_trigger = {
					has_country_flag = EH_hired_lene_hau_flag
				}
			}
			EH_hire_Lene_Hau_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = EH_scientist_is_alive_tt
					is_in_array = { EH_scientists_array = 4 }
				}
				NOT = {
					has_country_flag = EH_hired_lene_hau_flag
				}
			}
		}
	}
}