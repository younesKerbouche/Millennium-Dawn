# Author(s): AngriestBird, Doolittle, TheBrokenDroid
scripted_gui = {
	MD_missiles_gui = {
		window_name = MD_countrymissilesview
		context_type = player_context
		parent_window_token = topbar

		dirty = global.missile_ui_updated

		visible = {
			has_country_flag = open_MD_countrymissilesview
		}

		effects = {
			close_button_click = {
				clr_country_flag = open_MD_countrymissilesview
				if = {
					limit = {
						has_country_flag = open_MD_missile_production_type_window
					}
					clear_prod_display_arrays = yes
					clr_country_flag = open_MD_missile_production_type_window
				}
				if = {
					limit = {
						has_country_flag = open_MD_space_selection_window
					}
					clear_array = OLV_display_array
					clear_array = sat_payload_display_array
					clear_array = spp_payload_display_array
					clr_country_flag = OLV_model
					clr_country_flag = sat_payload_model
					clr_country_flag = spp_payload_model
					clear_variable = var_open_space_selection_ledger_1
					clear_variable = var_open_space_selection_ledger_2
					clr_country_flag = open_MD_space_selection_window
				}
				if = {
					limit = {
						has_country_flag = open_MD_select_satellite_system_window
					}
					clear_array = GNSS_mil_systems_array
					clear_array = GNSS_civ_systems_array
					clear_array = COM_mil_systems_array
					clear_array = COM_civ_systems_array
					clear_array = SPY_mil_systems_array
					clear_array = SPY_civ_systems_array
					clr_country_flag = open_MD_select_satellite_system_window
				}
				missile_ui_update = yes
			}
			# Missile Production
			missiles_gui_ledger_btn_1_click = {
				set_variable = { var_open_MD_missiles_gui_ledger_1 = 2 }
				clear_variable = var_open_MD_missiles_gui_ledger_4
				clear_variable = var_open_MD_missiles_gui_ledger_5
				clear_variable = var_open_MD_CT_gui
				clear_variable = var_open_MD_PMC_gui
				clear_variable = var_open_MD_UN_gui
				missile_ui_update = yes
			}
			# Space Center and Orbit
			missiles_gui_ledger_btn_4_click = {
				set_variable = { var_open_MD_missiles_gui_ledger_4 = 2 }
				clear_variable = var_open_MD_missiles_gui_ledger_1
				clear_variable = var_open_MD_missiles_gui_ledger_5
				clear_variable = var_open_MD_CT_gui
				clear_variable = var_open_MD_PMC_gui
				clear_variable = var_open_MD_UN_gui
				set_satellites_gui = yes
				missile_ui_update = yes
			}
			# Satellite Systems
			missiles_gui_ledger_btn_5_click = {
				set_variable = { var_open_MD_missiles_gui_ledger_5 = 2 }
				clear_variable = var_open_MD_missiles_gui_ledger_1
				clear_variable = var_open_MD_missiles_gui_ledger_4
				clear_variable = var_open_MD_CT_gui
				clear_variable = var_open_MD_PMC_gui
				clear_variable = var_open_MD_UN_gui
				set_satellites_gui = yes
				missile_ui_update = yes
			}
			ct_gui_ledger_button_click = {
				set_variable = { var_open_MD_CT_gui = 2 }
				clear_variable = var_open_MD_missiles_gui_ledger_1
				clear_variable = var_open_MD_missiles_gui_ledger_4
				clear_variable = var_open_MD_missiles_gui_ledger_5
				clear_variable = var_open_MD_PMC_gui
				clear_variable = var_open_MD_UN_gui
				missile_ui_update = yes
			}
			pmc_gui_ledger_button_click = {
				set_variable = { var_open_MD_PMC_gui = 2 }
				clear_variable = var_open_MD_missiles_gui_ledger_1
				clear_variable = var_open_MD_missiles_gui_ledger_4
				clear_variable = var_open_MD_missiles_gui_ledger_5
				clear_variable = var_open_MD_CT_gui
				clear_variable = var_open_MD_UN_gui
				missile_ui_update = yes
			}
			un_gui_ledger_button_click = {
				set_variable = { var_open_MD_UN_gui = 2 }
				clear_variable = var_open_MD_missiles_gui_ledger_1
				clear_variable = var_open_MD_missiles_gui_ledger_4
				clear_variable = var_open_MD_missiles_gui_ledger_5
				clear_variable = var_open_MD_PMC_gui
				clear_variable = var_open_MD_CT_gui
				missile_ui_update = yes
			}
		}

		properties = {
			missiles_gui_ledger_btn_1 = {
				frame = var_open_MD_missiles_gui_ledger_1
			}
			missiles_gui_ledger_btn_4 = {
				frame = var_open_MD_missiles_gui_ledger_4
			}
			missiles_gui_ledger_btn_5 = {
				frame = var_open_MD_missiles_gui_ledger_5
			}
			ct_gui_ledger_button = {
				frame = var_open_MD_CT_gui
			}
			pmc_gui_ledger_button = {
				frame = var_open_MD_PMC_gui
			}
			un_gui_ledger_button = {
				frame = var_open_MD_UN_gui
			}
		}
	}

	MD_countrymissilesview_production_gui = {
		window_name = MD_countrymissilesview_production
		context_type = player_context
		parent_window_name = MD_countrymissilesview

		dirty = global.missile_ui_updated

		visible = {
			check_variable = { var_open_MD_missiles_gui_ledger_1 = 2 }
			has_country_flag = open_MD_countrymissilesview
		}
		effects = {
			### OLV
			production_type_10_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_10
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_10_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_10_amount = 1 }
					calculate_production_vars_10 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_10_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_10_amount = 1 }
					calculate_production_vars_10 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_10_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_10_amount = 10 }
					calculate_production_vars_10 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_10_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_10_amount = 10 }
					calculate_production_vars_10 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_10_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_10_amount = 100 }
					calculate_production_vars_10 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_10_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_10_amount = 100 }
					calculate_production_vars_10 = yes
				}
				missile_ui_update = yes
			}
			start_button_10_click = {
				ROOT = {
					set_country_flag = missile_construction_10
					activate_mission = missile_construction_10
					subtract_from_variable = { treasury = var_gui_prod_10_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_10_click = {
				ROOT = {
					clr_country_flag = missile_construction_10

					remove_mission = missile_construction_10
				}
				missile_ui_update = yes
			}
			increase_CIC_10_button_click = {
				add_to_variable = { prod_10_multiplier = 1 }
				calculate_production_vars_10 = yes
				missile_ui_update = yes
			}
			decrease_CIC_10_button_click = {
				subtract_from_variable = { prod_10_multiplier = 1 }
				calculate_production_vars_10 = yes
				missile_ui_update = yes
			}
			increase_CIC_10_button_control_click = {
				add_to_variable = { prod_10_multiplier = 10 }
				calculate_production_vars_10 = yes
				missile_ui_update = yes
			}
			decrease_CIC_10_button_control_click = {
				subtract_from_variable = { prod_10_multiplier = 10 }
				calculate_production_vars_10 = yes
				missile_ui_update = yes
			}
			increase_CIC_10_button_shift_click = {
				add_to_variable = { prod_10_multiplier = 100 }
				calculate_production_vars_10 = yes
				missile_ui_update = yes
			}
			decrease_CIC_10_button_shift_click = {
				subtract_from_variable = { prod_10_multiplier = 100 }
				calculate_production_vars_10 = yes
				missile_ui_update = yes
			}
			### GNSS
			production_type_11_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_11
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_11_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_11_amount = 1 }
					calculate_production_vars_11 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_11_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_11_amount = 1 }
					calculate_production_vars_11 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_11_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_11_amount = 10 }
					calculate_production_vars_11 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_11_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_11_amount = 10 }
					calculate_production_vars_11 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_11_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_11_amount = 100 }
					calculate_production_vars_11 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_11_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_11_amount = 100 }
					calculate_production_vars_11 = yes
				}
				missile_ui_update = yes
			}
			start_button_11_click = {
				ROOT = {
					set_country_flag = missile_construction_11
					activate_mission = missile_construction_11
					subtract_from_variable = { treasury = var_gui_prod_11_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_11_click = {
				ROOT = {
					clr_country_flag = missile_construction_11
					remove_mission = missile_construction_11
				}
				missile_ui_update = yes
			}
			increase_CIC_11_button_click = {
				add_to_variable = { prod_11_multiplier = 1 }
				calculate_production_vars_11 = yes
				missile_ui_update = yes
			}
			decrease_CIC_11_button_click = {
				subtract_from_variable = { prod_11_multiplier = 1 }
				calculate_production_vars_11 = yes
				missile_ui_update = yes
			}
			increase_CIC_11_button_control_click = {
				add_to_variable = { prod_11_multiplier = 10 }
				calculate_production_vars_11 = yes
				missile_ui_update = yes
			}
			decrease_CIC_11_button_control_click = {
				subtract_from_variable = { prod_11_multiplier = 10 }
				calculate_production_vars_11 = yes
				missile_ui_update = yes
			}
			increase_CIC_11_button_shift_click = {
				add_to_variable = { prod_11_multiplier = 100 }
				calculate_production_vars_11 = yes
				missile_ui_update = yes
			}
			decrease_CIC_11_button_shift_click = {
				subtract_from_variable = { prod_11_multiplier = 100 }
				calculate_production_vars_11 = yes
				missile_ui_update = yes
			}
			### COMSAT
			production_type_12_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_12
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_12_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_12_amount = 1 }
					calculate_production_vars_12 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_12_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_12_amount = 1 }
					calculate_production_vars_12 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_12_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_12_amount = 10 }
					calculate_production_vars_12 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_12_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_12_amount = 10 }
					calculate_production_vars_12 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_12_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_12_amount = 100 }
					calculate_production_vars_12 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_12_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_12_amount = 100 }
					calculate_production_vars_12 = yes
				}
				missile_ui_update = yes
			}
			start_button_12_click = {
				ROOT = {
					set_country_flag = missile_construction_12
					activate_mission = missile_construction_12
					subtract_from_variable = { treasury = var_gui_prod_12_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_12_click = {
				ROOT = {
					clr_country_flag = missile_construction_12

					remove_mission = missile_construction_12
				}
				missile_ui_update = yes
			}
			increase_CIC_12_button_click = {
				add_to_variable = { prod_12_multiplier = 1 }
				calculate_production_vars_12 = yes
				missile_ui_update = yes
			}
			decrease_CIC_12_button_click = {
				subtract_from_variable = { prod_12_multiplier = 1 }
				calculate_production_vars_12 = yes
				missile_ui_update = yes
			}
			increase_CIC_12_button_control_click = {
				add_to_variable = { prod_12_multiplier = 10 }
				calculate_production_vars_12 = yes
				missile_ui_update = yes
			}
			decrease_CIC_12_button_control_click = {
				subtract_from_variable = { prod_12_multiplier = 10 }
				calculate_production_vars_12 = yes
				missile_ui_update = yes
			}
			increase_CIC_12_button_shift_click = {
				add_to_variable = { prod_12_multiplier = 100 }
				calculate_production_vars_12 = yes
				missile_ui_update = yes
			}
			decrease_CIC_12_button_shift_click = {
				subtract_from_variable = { prod_12_multiplier = 100 }
				calculate_production_vars_12 = yes
				missile_ui_update = yes
			}
			### SPYSAT
			production_type_13_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_13
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_13_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_13_amount = 1 }
					calculate_production_vars_13 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_13_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_13_amount = 1 }
					calculate_production_vars_13 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_13_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_13_amount = 10 }
					calculate_production_vars_13 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_13_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_13_amount = 10 }
					calculate_production_vars_13 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_13_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_13_amount = 100 }
					calculate_production_vars_13 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_13_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_13_amount = 100 }
					calculate_production_vars_13 = yes
				}
				missile_ui_update = yes
			}
			start_button_13_click = {
				ROOT = {
					set_country_flag = missile_construction_13
					activate_mission = missile_construction_13
					subtract_from_variable = { treasury = var_gui_prod_13_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_13_click = {
				ROOT = {
					clr_country_flag = missile_construction_13

					remove_mission = missile_construction_13
				}
				missile_ui_update = yes
			}
			increase_CIC_13_button_click = {
				add_to_variable = { prod_13_multiplier = 1 }
				calculate_production_vars_13 = yes
				missile_ui_update = yes
			}
			decrease_CIC_13_button_click = {
				subtract_from_variable = { prod_13_multiplier = 1 }
				calculate_production_vars_13 = yes
				missile_ui_update = yes
			}
			increase_CIC_13_button_control_click = {
				add_to_variable = { prod_13_multiplier = 10 }
				calculate_production_vars_13 = yes
				missile_ui_update = yes
			}
			decrease_CIC_13_button_control_click = {
				subtract_from_variable = { prod_13_multiplier = 10 }
				calculate_production_vars_13 = yes
				missile_ui_update = yes
			}
			increase_CIC_13_button_shift_click = {
				add_to_variable = { prod_13_multiplier = 100 }
				calculate_production_vars_13 = yes
				missile_ui_update = yes
			}
			decrease_CIC_13_button_shift_click = {
				subtract_from_variable = { prod_13_multiplier = 100 }
				calculate_production_vars_13 = yes
				missile_ui_update = yes
			}
			### KILLSAT
			production_type_14_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_14
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_14_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_14_amount = 1 }
					calculate_production_vars_14 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_14_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_14_amount = 1 }
					calculate_production_vars_14 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_14_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_14_amount = 10 }
					calculate_production_vars_14 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_14_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_14_amount = 10 }
					calculate_production_vars_14 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_14_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_14_amount = 100 }
					calculate_production_vars_14 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_14_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_14_amount = 100 }
					calculate_production_vars_14 = yes
				}
				missile_ui_update = yes
			}
			start_button_14_click = {
				ROOT = {
					set_country_flag = missile_construction_14
					activate_mission = missile_construction_14
					subtract_from_variable = { treasury = var_gui_prod_14_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_14_click = {
				ROOT = {
					clr_country_flag = missile_construction_14

					remove_mission = missile_construction_14
				}
				missile_ui_update = yes
			}
			increase_CIC_14_button_click = {
				add_to_variable = { prod_14_multiplier = 1 }
				calculate_production_vars_14 = yes
				missile_ui_update = yes
			}
			decrease_CIC_14_button_click = {
				subtract_from_variable = { prod_14_multiplier = 1 }
				calculate_production_vars_14 = yes
				missile_ui_update = yes
			}
			increase_CIC_14_button_control_click = {
				add_to_variable = { prod_14_multiplier = 10 }
				calculate_production_vars_14 = yes
				missile_ui_update = yes
			}
			decrease_CIC_14_button_control_click = {
				subtract_from_variable = { prod_14_multiplier = 10 }
				calculate_production_vars_14 = yes
				missile_ui_update = yes
			}
			increase_CIC_14_button_shift_click = {
				add_to_variable = { prod_14_multiplier = 100 }
				calculate_production_vars_14 = yes
				missile_ui_update = yes
			}
			decrease_CIC_14_button_shift_click = {
				subtract_from_variable = { prod_14_multiplier = 100 }
				calculate_production_vars_14 = yes
				missile_ui_update = yes
			}
		}

		triggers = {
			### OLV
			start_button_10_click_enabled = {
				NOT = { has_country_flag = missile_construction_10 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_10_trigger_TT
					check_variable = { var_gui_prod_10_missile_inventory_idx > 0 }
				}
			}
			delete_button_10_click_enabled = {
				has_country_flag = missile_construction_10
			}
			production_type_10_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_10 }
			}
			increase_amount_10_click_enabled = {
				NOT = { has_country_flag = missile_construction_10 }
			}
			decrease_amount_10_click_enabled = {
				NOT = { has_country_flag = missile_construction_10 }
				check_variable = { var_gui_prod_10_amount > 1 }
			}
			increase_CIC_10_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_10 }
				check_variable = { prod_10_multiplier < var_gui_prod_10_amount }
			}
			decrease_CIC_10_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_10 }
				check_variable = { prod_10_multiplier > 1 }
			}
			start_button_10_visible = {
				NOT = { has_country_flag = missile_construction_10 }
			}
			prod_icon_10_visible = {
				has_country_flag = missile_construction_10
			}
			prod_time_10_visible = {
				has_country_flag = missile_construction_10
			}
			delete_button_10_visible = {
				has_country_flag = missile_construction_10
			}
			### GNSS
			start_button_11_click_enabled = {
				NOT = { has_country_flag = missile_construction_11 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_11_trigger_TT
					check_variable = { var_gui_prod_11_missile_inventory_idx > 0 }
				}
			}
			delete_button_11_click_enabled = {
				has_country_flag = missile_construction_11
			}
			production_type_11_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_11 }
			}
			increase_amount_11_click_enabled = {
				NOT = { has_country_flag = missile_construction_11 }
			}
			decrease_amount_11_click_enabled = {
				NOT = { has_country_flag = missile_construction_11 }
				check_variable = { var_gui_prod_11_amount > 1 }
			}
			increase_CIC_11_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_11 }
				check_variable = { prod_11_multiplier < var_gui_prod_11_amount }
			}
			decrease_CIC_11_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_11 }
				check_variable = { prod_11_multiplier > 1 }
			}
			start_button_11_visible = {
				NOT = { has_country_flag = missile_construction_11 }
			}
			prod_icon_11_visible = {
				has_country_flag = missile_construction_11
			}
			prod_time_11_visible = {
				has_country_flag = missile_construction_11
			}
			delete_button_11_visible = {
				has_country_flag = missile_construction_11
			}
			### COMSAT
			start_button_12_click_enabled = {
				NOT = { has_country_flag = missile_construction_12 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_12_trigger_TT
					check_variable = { var_gui_prod_12_missile_inventory_idx > 0 }
				}
			}
			delete_button_12_click_enabled = {
				has_country_flag = missile_construction_12
			}
			production_type_12_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_12 }
			}
			increase_amount_12_click_enabled = {
				NOT = { has_country_flag = missile_construction_12 }
			}
			decrease_amount_12_click_enabled = {
				NOT = { has_country_flag = missile_construction_12 }
				check_variable = { var_gui_prod_12_amount > 1 }
			}
			increase_CIC_12_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_12 }
				check_variable = { prod_12_multiplier < var_gui_prod_12_amount }
			}
			decrease_CIC_12_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_12 }
				check_variable = { prod_12_multiplier > 1 }
			}
			start_button_12_visible = {
				NOT = { has_country_flag = missile_construction_12 }
			}
			prod_icon_12_visible = {
				has_country_flag = missile_construction_12
			}
			prod_time_12_visible = {
				has_country_flag = missile_construction_12
			}
			delete_button_12_visible = {
				has_country_flag = missile_construction_12
			}
			### SPYSAT
			start_button_13_click_enabled = {
				NOT = { has_country_flag = missile_construction_13 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_13_trigger_TT
					check_variable = { var_gui_prod_13_missile_inventory_idx > 0 }
				}
			}
			delete_button_13_click_enabled = {
				has_country_flag = missile_construction_13
			}
			production_type_13_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_13 }
			}
			increase_amount_13_click_enabled = {
				NOT = { has_country_flag = missile_construction_13 }
			}
			decrease_amount_13_click_enabled = {
				NOT = { has_country_flag = missile_construction_13 }
				check_variable = { var_gui_prod_13_amount > 1 }
			}
			increase_CIC_13_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_13 }
				check_variable = { prod_13_multiplier < var_gui_prod_13_amount }
			}
			decrease_CIC_13_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_13 }
				check_variable = { prod_13_multiplier > 1 }
			}
			start_button_13_visible = {
				NOT = { has_country_flag = missile_construction_13 }
			}
			prod_icon_13_visible = {
				has_country_flag = missile_construction_13
			}
			prod_time_13_visible = {
				has_country_flag = missile_construction_13
			}
			delete_button_13_visible = {
				has_country_flag = missile_construction_13
			}
			### KILLSAT
			start_button_14_click_enabled = {
				NOT = { has_country_flag = missile_construction_14 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_14_trigger_TT
					check_variable = { var_gui_prod_14_missile_inventory_idx > 0 }
				}
			}
			delete_button_14_click_enabled = {
				has_country_flag = missile_construction_14
			}
			production_type_14_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_14 }
			}
			increase_amount_14_click_enabled = {
				NOT = { has_country_flag = missile_construction_14 }
			}
			decrease_amount_14_click_enabled = {
				NOT = { has_country_flag = missile_construction_14 }
				check_variable = { var_gui_prod_14_amount > 1 }
			}
			increase_CIC_14_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_14 }
				check_variable = { prod_14_multiplier < var_gui_prod_14_amount }
			}
			decrease_CIC_14_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_14 }
				check_variable = { prod_14_multiplier > 1 }
			}
			start_button_14_visible = {
				NOT = { has_country_flag = missile_construction_14 }
			}
			prod_icon_14_visible = {
				has_country_flag = missile_construction_14
			}
			prod_time_14_visible = {
				has_country_flag = missile_construction_14
			}
			delete_button_14_visible = {
				has_country_flag = missile_construction_14
			}
			####
			production_type_10_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
			}
			production_type_11_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
			}
			production_type_12_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
			}
			production_type_13_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
			}
			production_type_14_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
			}
		}

		properties = {
			### OLV
			prod_icon_10 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_10_model_icon = { image = "[prod_10_icon_gui_texture]" }
			### GNSS
			prod_icon_11 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_11_model_icon = { image = "[prod_11_icon_gui_texture]" }
			### COMSAT
			prod_icon_12 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_12_model_icon = { image = "[prod_12_icon_gui_texture]" }
			### SPYSAT
			prod_icon_13 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_13_model_icon = { image = "[prod_13_icon_gui_texture]" }
			### KILLSAT
			prod_icon_14 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_14_model_icon = { image = "[prod_14_icon_gui_texture]" }
		}
	}

	MD_missile_production_type_window_gui = {
		window_name = MD_missile_production_type_window
		context_type = player_context
		parent_window_token = MD_countrymissilesview_production

		dirty = global.missile_ui_updated

		visible = {
			has_country_flag = open_MD_missile_production_type_window
		}

		effects = {
			### OLV
			missile_type_10_button_click = {
				set_variable = { var_gui_prod_10_missile_inventory_idx = prod_10_display_array^i }
				set_variable = { var_gui_prod_10_price_unit = global.prod_10_price_unit^i }
				set_variable = { var_gui_prod_10_days_unit = global.prod_10_duration_unit^i }
				if = {
					limit = {
						has_tech = part_reusable_OLV6
						check_variable = { prod_10_display_array^i = 106 }
					}
					add_to_variable = { var_gui_prod_10_price_unit = -0.005 }
					add_to_variable = { var_gui_prod_10_days_unit = -10 }
				}
				if = {
					limit = {
						has_tech = full_reusable_OLV7
						check_variable = { prod_10_display_array^i = 107 }
					}
					add_to_variable = { var_gui_prod_10_price_unit = -0.01 }
					add_to_variable = { var_gui_prod_10_days_unit = -25 }
				}
				if = {
					limit = {
						has_tech = full_reusable_OLV8
						check_variable = { prod_10_display_array^i = 108 }
					}
					add_to_variable = { var_gui_prod_10_price_unit = -0.03 }
					add_to_variable = { var_gui_prod_10_days_unit = -45 }
				}
				set_variable = { var_gui_prod_10_amount = 1 }
				set_variable = { prod_10_multiplier = 1 }
				calculate_production_vars_10 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_10
				missile_ui_update = yes
			}
			### GNSS
			missile_type_11_button_click = {
				set_variable = { var_gui_prod_11_missile_inventory_idx = prod_11_display_array^i }
				set_variable = { var_gui_prod_11_price_unit = global.prod_11_price_unit^i }
				set_variable = { var_gui_prod_11_days_unit = global.prod_11_duration_unit^i }
				set_variable = { var_gui_prod_11_amount = 1 }
				set_variable = { prod_11_multiplier = 1 }
				calculate_production_vars_11 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_11
				missile_ui_update = yes
			}
			### COMSAT
			missile_type_12_button_click = {
				set_variable = { var_gui_prod_12_missile_inventory_idx = prod_12_display_array^i }
				set_variable = { var_gui_prod_12_price_unit = global.prod_12_price_unit^i }
				set_variable = { var_gui_prod_12_days_unit = global.prod_12_duration_unit^i }
				set_variable = { var_gui_prod_12_amount = 1 }
				set_variable = { prod_12_multiplier = 1 }
				calculate_production_vars_12 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_12
				missile_ui_update = yes
			}
			### SPYSAT
			missile_type_13_button_click = {
				set_variable = { var_gui_prod_13_missile_inventory_idx = prod_13_display_array^i }
				set_variable = { var_gui_prod_13_price_unit = global.prod_13_price_unit^i }
				set_variable = { var_gui_prod_13_days_unit = global.prod_13_duration_unit^i }
				set_variable = { var_gui_prod_13_amount = 1 }
				set_variable = { prod_13_multiplier = 1 }
				calculate_production_vars_13 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_13
				missile_ui_update = yes
			}
			### KILLSAT
			missile_type_14_button_click = {
				set_variable = { var_gui_prod_14_missile_inventory_idx = prod_14_display_array^i }
				set_variable = { var_gui_prod_14_price_unit = global.prod_14_price_unit^i }
				set_variable = { var_gui_prod_14_days_unit = global.prod_14_duration_unit^i }
				set_variable = { var_gui_prod_14_amount = 1 }
				set_variable = { prod_14_multiplier = 1 }
				calculate_production_vars_14 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_14
				missile_ui_update = yes
			}

			close_button_click = {
				clear_prod_display_arrays = yes
				if = {
					limit = {
						has_country_flag = open_MD_missile_production_type_window
					}
					clr_country_flag = open_MD_missile_production_type_window
				}
				missile_ui_update = yes
			}
		}

		triggers = {
			### OLV
			missile_type_10_button_visible = {
				has_country_flag = missile_production_type_10
			}
			missile_type_10_icon_visible = {
				has_country_flag = missile_production_type_10
			}
			missile_model_name_10_visible = {
				has_country_flag = missile_production_type_10
			}
			missile_type_10_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_10 }
			}
			### GNSS
			missile_type_11_button_visible = {
				has_country_flag = missile_production_type_11
			}
			missile_type_11_icon_visible = {
				has_country_flag = missile_production_type_11
			}
			missile_model_name_11_visible = {
				has_country_flag = missile_production_type_11
			}
			missile_type_11_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_11 }
			}
			### COMSAT
			missile_type_12_button_visible = {
				has_country_flag = missile_production_type_12
			}
			missile_type_12_icon_visible = {
				has_country_flag = missile_production_type_12
			}
			missile_model_name_12_visible = {
				has_country_flag = missile_production_type_12
			}
			missile_type_12_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_12 }
			}
			### SPYSAT
			missile_type_13_button_visible = {
				has_country_flag = missile_production_type_13
			}
			missile_type_13_icon_visible = {
				has_country_flag = missile_production_type_13
			}
			missile_model_name_13_visible = {
				has_country_flag = missile_production_type_13
			}
			missile_type_13_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_13 }
			}
			### KILLSAT
			missile_type_14_button_visible = {
				has_country_flag = missile_production_type_14
			}
			missile_type_14_icon_visible = {
				has_country_flag = missile_production_type_14
			}
			missile_model_name_14_visible = {
				has_country_flag = missile_production_type_14
			}
			missile_type_14_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_14 }
			}
		}
		properties = {
			### OLV
			missile_type_10_icon = {
				image = "[prod_10_icon_texture]"
			}
			### GNSS
			missile_type_11_icon = {
				image = "[prod_11_icon_texture]"
			}
			### COMSAT
			missile_type_12_icon = {
				image = "[prod_12_icon_texture]"
			}
			### SPYSAT
			missile_type_13_icon = {
				image = "[prod_13_icon_texture]"
			}
			### KILLSAT
			missile_type_14_icon = {
				image = "[prod_14_icon_texture]"
			}
		}

		dynamic_lists = {
			### OLV
			production_types_10_gridbox = {
				array = prod_10_display_array
				entry_container = missile_type_10_entry
			}
			### GNSS
			production_types_11_gridbox = {
				array = prod_11_display_array
				entry_container = missile_type_11_entry
			}
			### COMSAT
			production_types_12_gridbox = {
				array = prod_12_display_array
				entry_container = missile_type_12_entry
			}
			### SPYSAT
			production_types_13_gridbox = {
				array = prod_13_display_array
				entry_container = missile_type_13_entry
			}
			### KILLSAT
			production_types_14_gridbox = {
				array = prod_14_display_array
				entry_container = missile_type_14_entry
			}
		}
	}

	MD_countrymissilesview_space_gui = {
		window_name = MD_countrymissilesview_space
		context_type = player_context
		parent_window_name = MD_countrymissilesview

		dirty = global.missile_ui_updated

		visible = {
			check_variable = { var_open_MD_missiles_gui_ledger_4 = 2 }
			has_country_flag = open_MD_countrymissilesview
		}

		effects = {
			OLV_model_button_click = {
				ROOT = {
					set_OLV_display_array = yes
					set_country_flag = open_MD_space_selection_window
					set_country_flag = OLV_model
				}
				missile_ui_update = yes
			}
			payload_button_click = {
				ROOT = {
					set_variable = { var_open_space_selection_ledger_1 = 2 }
					set_sat_payload_display_array = yes
					set_country_flag = open_MD_space_selection_window
					set_country_flag = sat_payload_model
				}
				missile_ui_update = yes
			}
			clear_payload_button_click = {
				clear_payload_types = yes
				missile_ui_update = yes
			}
			OLV_flights_small_plus_button_bg_click = {
				ROOT = {
					add_to_variable = { var_OLV_flights = 1 }
				}
				missile_ui_update = yes
			}
			OLV_flights_small_minus_button_bg_click = {
				ROOT = {
					subtract_from_variable = { var_OLV_flights = 1 }
				}
				missile_ui_update = yes
			}
			OLV_flights_small_plus_button_bg_control_click = {
				ROOT = {
					add_to_variable = { var_OLV_flights = 10 }
				}
				missile_ui_update = yes
			}
			OLV_flights_small_minus_button_bg_control_click = {
				ROOT = {
					subtract_from_variable = { var_OLV_flights = 10 }
					if = {
						limit = {
							check_variable = { var_OLV_flights < 0 }
						}
						set_variable = { var_OLV_flights = 0 }
					}
				}
				missile_ui_update = yes
			}
			OLV_flights_small_plus_button_bg_shift_click = {
				ROOT = {
					add_to_variable = { var_OLV_flights = 100 }
				}
				missile_ui_update = yes
			}
			OLV_flights_small_minus_button_bg_shift_click = {
				ROOT = {
					subtract_from_variable = { var_OLV_flights = 100 }
					if = {
						limit = {
							check_variable = { var_OLV_flights < 0 }
						}
						set_variable = { var_OLV_flights = 0 }
					}
				}
				missile_ui_update = yes
			}
			OLV_launch_button_click = {
				launch_OLV = yes
				### update orbit stat
				set_variable = { orbit_selected_TAG = ROOT.id }
				set_sat_access_arrays_selected_TAG = yes
				set_satellites_gui = yes
				missile_ui_update = yes

				update_space_system_values = yes
			}
			ASAT_model_button_click = {
				ROOT = {
					set_ASAT_display_array = yes
					set_country_flag = open_MD_space_selection_window
					set_country_flag = ASAT_model
				}
				missile_ui_update = yes
			}
			ASAT_salvo_small_plus_button_bg_click = {
				ROOT = {
					add_to_variable = { var_ASAT_salvo = 1 }
				}
				missile_ui_update = yes
			}
			ASAT_salvo_small_minus_button_bg_click = {
				ROOT = {
					subtract_from_variable = { var_ASAT_salvo = 1 }
					if = {
						limit = {
							check_variable = { var_ASAT_salvo < 0 }
						}
						set_variable = { var_ASAT_salvo = 0 }
					}
				}
				missile_ui_update = yes
			}
			ASAT_salvo_small_plus_button_bg_control_click = {
				ROOT = {
					add_to_variable = { var_ASAT_salvo = 10 }
				}
				missile_ui_update = yes
			}
			ASAT_salvo_small_minus_button_bg_control_click = {
				ROOT = {
					subtract_from_variable = { var_ASAT_salvo = 10 }
					if = {
						limit = {
							check_variable = { var_ASAT_salvo < 0 }
						}
						set_variable = { var_ASAT_salvo = 0 }
					}
				}
				missile_ui_update = yes
			}
			ASAT_salvo_small_plus_button_bg_shift_click = {
				ROOT = {
					add_to_variable = { var_ASAT_salvo = 100 }
				}
				missile_ui_update = yes
			}
			ASAT_salvo_small_minus_button_bg_shift_click = {
				ROOT = {
					subtract_from_variable = { var_ASAT_salvo = 100 }
					if = {
						limit = {
							check_variable = { var_ASAT_salvo < 0 }
						}
						set_variable = { var_ASAT_salvo = 0 }
					}
				}
				missile_ui_update = yes
			}
			ASAT_button_click = {
				set_variable = { ROOT.var_anti_sat_accuracy = ROOT.var_ASAT_accuracy }
				set_variable = { ROOT.var_anti_satellite_weapon_num = ROOT.var_ASAT_salvo }
				anti_satellite_weapon_use = yes
				subtract_from_variable = { ROOT.missile_inventory_array^var_ASAT_type = ROOT.var_ASAT_salvo }
				set_variable = { ROOT.var_ASAT_inventory = ROOT.missile_inventory_array^var_ASAT_type }
				set_variable = { ROOT.var_ASAT_salvo = 0 }
				missile_ui_update = yes
			}
			KILLSAT_model_button_click = {
				ROOT = {
					set_KILLSAT_display_array = yes
					set_country_flag = open_MD_space_selection_window
					set_country_flag = KILLSAT_model
				}
				missile_ui_update = yes
			}
			KILLSAT_salvo_small_plus_button_bg_click = {
				ROOT = {
					add_to_variable = { var_KILLSAT_salvo = 1 }
				}
				missile_ui_update = yes
			}
			KILLSAT_salvo_small_minus_button_bg_click = {
				ROOT = {
					subtract_from_variable = { var_KILLSAT_salvo = 1 }
					if = {
						limit = {
							check_variable = { var_KILLSAT_salvo < 0 }
						}
						set_variable = { var_KILLSAT_salvo = 0 }
					}
				}
				missile_ui_update = yes
			}
			KILLSAT_salvo_small_plus_button_bg_control_click = {
				ROOT = {
					add_to_variable = { var_KILLSAT_salvo = 10 }
				}
				missile_ui_update = yes
			}
			KILLSAT_salvo_small_minus_button_bg_control_click = {
				ROOT = {
					subtract_from_variable = { var_KILLSAT_salvo = 10 }
					if = {
						limit = {
							check_variable = { var_KILLSAT_salvo < 0 }
						}
						set_variable = { var_KILLSAT_salvo = 0 }
					}
				}
				missile_ui_update = yes
			}
			KILLSAT_salvo_small_plus_button_bg_shift_click = {
				ROOT = {
					add_to_variable = { var_KILLSAT_salvo = 100 }
				}
				missile_ui_update = yes
			}
			KILLSAT_salvo_small_minus_button_bg_shift_click = {
				ROOT = {
					subtract_from_variable = { var_KILLSAT_salvo = 100 }
					if = {
						limit = {
							check_variable = { var_KILLSAT_salvo < 0 }
						}
						set_variable = { var_KILLSAT_salvo = 0 }
					}
				}
				missile_ui_update = yes
			}
			activate_killsat_button_click = {
				set_variable = { ROOT.var_anti_sat_accuracy = ROOT.var_KILLSAT_accuracy }
				set_variable = { ROOT.var_anti_satellite_weapon_num = ROOT.var_KILLSAT_salvo }
				anti_satellite_weapon_use = yes
				remove_killsat_used = yes
				missile_ui_update = yes
			}
			rods_search_target_button_click = {
				if = {
					limit = { has_country_flag = rods_search_target }
					clr_country_flag = rods_search_target
				}
				else = {
					set_country_flag = rods_search_target
				}
			}
		}
		triggers = {
			OLV_model_button_click_enabled = {
				NOT = {
					has_country_flag = open_MD_space_selection_window
				}
			}
			payload_button_click_enabled = {
				NOT = {
					has_country_flag = open_MD_space_selection_window
				}
			}
			ASAT_model_button_click_enabled = {
				NOT = {
					has_country_flag = open_MD_space_selection_window
				}
			}
			KILLSAT_model_button_click_enabled = {
				NOT = {
					has_country_flag = open_MD_space_selection_window
				}
			}
			KILLSAT_salvo_small_minus_button_bg_click_enabled = {
				check_variable = { var_KILLSAT_salvo > 0 }
			}
			RODS_model_button_click_enabled = {
				NOT = {
					has_country_flag = open_MD_space_selection_window
				}
			}
			OLV_launch_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = OLV_LAUNCH_BUTTON_TT_trigger_1
					OR = {
						check_variable = { var_launch_mass < var_OLV_payload_mass }
						check_variable = { var_launch_mass = var_OLV_payload_mass }
					}
				}
				custom_trigger_tooltip = {
					tooltip = OLV_LAUNCH_BUTTON_TT_trigger_2
					OR = {
						check_variable = { var_OLV_flights < var_OLV_inventory }
						check_variable = { var_OLV_flights = var_OLV_inventory }
					}
				}
				custom_trigger_tooltip = {
					tooltip = OLV_LAUNCH_BUTTON_TT_trigger_3
					check_variable = { var_OLV_flights > 0 }
				}
			}
			OLV_flights_small_minus_button_bg_click_enabled = {
				check_variable = { var_OLV_flights > 0 }
			}
			ASAT_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = ASAT_salvo_trigger_1_TT
					check_variable = { var_ASAT_salvo > 0 }
				}
				custom_trigger_tooltip = {
					tooltip = ASAT_salvo_trigger_2_TT
					OR = {
						check_variable = { var_ASAT_salvo < var_ASAT_inventory }
						check_variable = { var_ASAT_salvo = var_ASAT_inventory }
					}
				}
				custom_trigger_tooltip = {
					tooltip = has_target_list_TT
					check_variable = { ROOT.sat_target_array^num > 0 }
				}
				custom_trigger_tooltip = {
					tooltip = has_war_sat_trigger_TT
					all_of_scopes = {
						array = ROOT.sat_target_TAG_array

						ROOT = { has_war_with = PREV }
					}
				}
			}
			ASAT_salvo_small_minus_button_bg_click_enabled = {
				check_variable = { var_ASAT_salvo > 0 }
			}
			activate_killsat_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = KILLSAT_salvo_trigger_1_TT
					check_variable = { var_KILLSAT_salvo > 0 }
				}
				custom_trigger_tooltip = {
					tooltip = KILLSAT_salvo_trigger_2_TT
					OR = {
						check_variable = { var_KILLSAT_salvo < var_KILLSAT_orbit }
						check_variable = { var_KILLSAT_salvo = var_KILLSAT_orbit }
					}
				}
				custom_trigger_tooltip = {
					tooltip = has_target_list_TT
					check_variable = { ROOT.sat_target_array^num > 0 }
				}
				custom_trigger_tooltip = {
					tooltip = has_war_sat_trigger_TT
					all_of_scopes = {
						array = ROOT.sat_target_TAG_array

						ROOT = { has_war_with = PREV }
					}
				}
			}
		}
		properties = {
			### OLV
			OLV_model_icon = {
				image = "[OLV_selected_icon_texture]"
			}
			payload_icon = {
				image = "[payload_icon_selected_texture]"
			}
			ASAT_model_icon = {
				image = "[ASAT_selected_icon_texture]"
			}
			KILLSAT_model_icon = {
				image = "[KILLSAT_selected_icon_texture]"
			}
		}
		dynamic_lists = {
			payload_types_gridbox = {
				array = payload_types_array # one element per type, value = tech lvl
				entry_container = payload_type_entry
			}
		}
	}

	MD_space_selection_window_gui = {
		window_name = MD_space_selection_window
		context_type = player_context
		parent_window_token = MD_countrymissilesview_space

		dirty = global.missile_ui_updated

		visible = {
			has_country_flag = open_MD_space_selection_window
		}

		effects = {
			OLV_type_button_click = {
				set_variable = { var_OLV_type = OLV_display_array^i }
				set_variable = { var_OLV_reliability = global.OLV_reliability_array^i }
				set_variable = { var_OLV_payload_mass = global.OLV_payload_mass_array^i }
				set_variable = { var_OLV_inventory = missile_inventory_array^OLV_display_array^i }
				clear_array = OLV_display_array
				clr_country_flag = OLV_model
				clr_country_flag = open_MD_space_selection_window
				missile_ui_update = yes
			}
			sat_payload_type_button_click = {
				if = {
					limit = {
						check_variable = { payload_types_array^0 = 1 }
					}
					set_variable = { payload_types_array^0 = sat_payload_display_array^i }
				}
				else_if = {
					limit = {
						check_variable = { payload_types_array^1 = 1 }
					}
					set_variable = { payload_types_array^1 = sat_payload_display_array^i }
				}
				else_if = {
					limit = {
						check_variable = { payload_types_array^2 = 1 }
					}
					set_variable = { payload_types_array^2 = sat_payload_display_array^i }
				}
				else_if = {
					limit = {
						check_variable = { payload_types_array^3 = 1 }
					}
					set_variable = { payload_types_array^3 = sat_payload_display_array^i }
				}
				else = {
					add_to_array = { payload_types_array = sat_payload_display_array^i }
				}
				add_to_variable = { var_launch_mass = global.sat_mass_array^i }
				#set_variable = { var_OLV_payload_mass = global.OLV_payload_mass_array^i }
				clear_array = sat_payload_display_array
				clr_country_flag = sat_payload_model
				clr_country_flag = open_MD_space_selection_window
				missile_ui_update = yes
			}
			spp_payload_type_button_click = {
				if = {
					limit = {
						check_variable = { payload_types_array^0 = 1 }
					}
					set_variable = { payload_types_array^0 = spp_payload_display_array^i }
				}
				else_if = {
					limit = {
						check_variable = { payload_types_array^1 = 1 }
					}
					set_variable = { payload_types_array^1 = spp_payload_display_array^i }
				}
				else_if = {
					limit = {
						check_variable = { payload_types_array^2 = 1 }
					}
					set_variable = { payload_types_array^2 = spp_payload_display_array^i }
				}
				else_if = {
					limit = {
						check_variable = { payload_types_array^3 = 1 }
					}
					set_variable = { payload_types_array^3 = spp_payload_display_array^i }
				}
				else = {
					add_to_array = { payload_types_array = spp_payload_display_array^i }
				}
				add_to_variable = { var_launch_mass = global.spp_mass_array^i }
				#set_variable = { var_OLV_payload_mass = global.OLV_payload_mass_array^i }
				clear_array = spp_payload_display_array
				clr_country_flag = spp_payload_model
				clr_country_flag = open_MD_space_selection_window
				missile_ui_update = yes
			}
			space_selection_ledger_btn_1_click = {
				set_variable = { var_open_space_selection_ledger_1 = 2 }
				clear_variable = var_open_space_selection_ledger_2
				set_sat_payload_display_array = yes
				set_country_flag = sat_payload_model
				clear_array = spp_payload_display_array
				clr_country_flag = spp_payload_model
				clear_array = OLV_display_array
				clr_country_flag = OLV_model
				missile_ui_update = yes
			}
			space_selection_ledger_btn_2_click = {
				set_variable = { var_open_space_selection_ledger_2 = 2 }
				clear_variable = var_open_space_selection_ledger_1
				set_spp_payload_display_array = yes
				set_country_flag = spp_payload_model
				clear_array = sat_payload_display_array
				clr_country_flag = sat_payload_model
				clear_array = OLV_display_array
				clr_country_flag = OLV_model
				missile_ui_update = yes
			}
			ASAT_type_button_click = {
				set_variable = { var_ASAT_type = ASAT_display_array^i }
				set_variable = { var_ASAT_accuracy = global.ASAT_accuracy_array^i }
				set_variable = { var_ASAT_inventory = missile_inventory_array^ASAT_display_array^i }
				clear_array = ASAT_display_array
				clr_country_flag = ASAT_model
				clr_country_flag = open_MD_space_selection_window
				missile_ui_update = yes
			}
			KILLSAT_type_button_click = {
				set_variable = { var_KILLSAT_type = KILLSAT_display_array^i }
				set_variable = { var_KILLSAT_accuracy = global.KILLSAT_accuracy_array^i }
				set_variable = { var_KILLSAT_orbit = KILL_satellite_array^i }
				clear_array = KILLSAT_display_array
				clr_country_flag = KILLSAT_model
				clr_country_flag = open_MD_space_selection_window
				missile_ui_update = yes
			}
			close_button_click = {
				clear_array = OLV_display_array
				clear_array = sat_payload_display_array
				clear_array = spp_payload_display_array
				clr_country_flag = OLV_model
				clr_country_flag = sat_payload_model
				clr_country_flag = spp_payload_model
				clear_variable = var_open_space_selection_ledger_1
				clear_variable = var_open_space_selection_ledger_2
				if = {
					limit = {
						has_country_flag = open_MD_space_selection_window
					}
					clr_country_flag = open_MD_space_selection_window
				}
				missile_ui_update = yes
			}
		}
		triggers = {
			### OLV
			OLV_type_button_visible = {
				has_country_flag = OLV_model
			}
			OLV_type_icon_visible = {
				has_country_flag = OLV_model
			}
			OLV_type_model_name_visible = {
				has_country_flag = OLV_model
			}
			OLV_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_OLV_inventory_TT
					check_variable = { missile_inventory_array^OLV_display_array^i > 0 }
				}
			}
			### sat_payload
			sat_payload_type_button_visible = {
				has_country_flag = sat_payload_model
			}
			sat_payload_type_icon_visible = {
				has_country_flag = sat_payload_model
			}
			sat_payload_type_model_name_visible = {
				has_country_flag = sat_payload_model
			}
			sat_payload_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_SAT_inventory_TT
					check_variable = { missile_inventory_array^sat_payload_display_array^i > 0 }
				}
			}
			### spp_payload
			spp_payload_type_button_visible = {
				has_country_flag = spp_payload_model
			}
			spp_payload_type_icon_visible = {
				has_country_flag = spp_payload_model
			}
			spp_payload_type_model_name_visible = {
				has_country_flag = spp_payload_model
			}
			spp_payload_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_SPP_inventory_TT
					check_variable = { spp_inventory_array^i > 0 }
				}
			}
			#
			space_selection_ledger_btn_1_visible = {
				OR = {
					has_country_flag = sat_payload_model
					has_country_flag = spp_payload_model
				}
			}
			icon_space_selection_btn_1_visible = {
				OR = {
					has_country_flag = sat_payload_model
					has_country_flag = spp_payload_model
				}
			}
			space_selection_ledger_btn_2_visible = {
				OR = {
					has_country_flag = sat_payload_model
					has_country_flag = spp_payload_model
				}
			}
			icon_space_selection_btn_2_visible = {
				OR = {
					has_country_flag = sat_payload_model
					has_country_flag = spp_payload_model
				}
			}
			### ASAT
			ASAT_type_button_visible = {
				has_country_flag = ASAT_model
			}
			ASAT_type_icon_visible = {
				has_country_flag = ASAT_model
			}
			ASAT_type_model_name_visible = {
				has_country_flag = ASAT_model
			}
			ASAT_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_ASAT_inventory_TT
					check_variable = { missile_inventory_array^ASAT_display_array^i > 0 }
				}
			}
			### KILLSAT
			KILLSAT_type_button_visible = {
				has_country_flag = KILLSAT_model
			}
			KILLSAT_type_icon_visible = {
				has_country_flag = KILLSAT_model
			}
			KILLSAT_type_model_name_visible = {
				has_country_flag = KILLSAT_model
			}
			KILLSAT_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_KILLSAT_orbit_TT
					check_variable = { KILL_satellite_array^i > 0 }
				}
			}
		}
		properties = {
			OLV_type_icon = {
				image = "[OLV_type_icon_texture]"
			}
			sat_payload_type_icon = {
				image = "[sat_payload_type_icon_texture]"
			}
			spp_payload_type_icon = {
				image = "[spp_payload_type_icon_texture]"
			}
			space_selection_ledger_btn_1 = {
				frame = var_open_space_selection_ledger_1
			}
			space_selection_ledger_btn_2 = {
				frame = var_open_space_selection_ledger_2
			}
			ASAT_type_icon = {
				image = "[ASAT_type_icon_texture]"
			}
			KILLSAT_type_icon = {
				image = "[KILLSAT_type_icon_texture]"
			}
		}
		dynamic_lists = {
			OLV_types_gridbox = {
				array = OLV_display_array # one element per type, value = tech lvl
				entry_container = OLV_type_entry
				#change_scope = yes
			}
			sat_payload_types_gridbox = {
				array = sat_payload_display_array # one element per type, value = tech lvl
				entry_container = sat_payload_type_entry
				#change_scope = yes
			}
			spp_payload_types_gridbox = {
				array = spp_payload_display_array # one element per type, value = tech lvl
				entry_container = spp_payload_type_entry
				#change_scope = yes
			}
			ASAT_gridbox = {
				array = ASAT_display_array # one element per type, value = tech lvl
				entry_container = ASAT_type_entry
				#change_scope = yes
			}
			KILLSAT_gridbox = {
				array = KILLSAT_display_array # one element per type, value = tech lvl
				entry_container = KILLSAT_type_entry
				#change_scope = yes
			}
		}
	}

	MD_countrymissilesview_satellites_gui = {
		window_name = MD_countrymissilesview_satellites
		context_type = player_context
		parent_window_name = MD_countrymissilesview

		dirty = global.missile_ui_updated

		visible = {
			check_variable = { var_open_MD_missiles_gui_ledger_5 = 2 }
			has_country_flag = open_MD_countrymissilesview
		}

		effects = {
			### GNSS
			GNSS_mil_button_click = {
				set_country_flag = open_MD_select_satellite_system_window
				set_GNSS_mil_systems = yes
				missile_ui_update = yes
			}
			GNSS_civ_button_click = {
				set_country_flag = open_MD_select_satellite_system_window
				set_GNSS_civ_systems = yes
				missile_ui_update = yes
			}
			### COM
			COM_mil_button_click = {
				set_country_flag = open_MD_select_satellite_system_window
				set_COM_mil_systems = yes
				missile_ui_update = yes
			}
			COM_civ_button_click = {
				set_country_flag = open_MD_select_satellite_system_window
				set_COM_civ_systems = yes
				missile_ui_update = yes
			}
			### SPY
			SPY_mil_button_click = {
				set_country_flag = open_MD_select_satellite_system_window
				set_SPY_mil_systems = yes
				missile_ui_update = yes
			}
			SPY_civ_button_click = {
				set_country_flag = open_MD_select_satellite_system_window
				set_SPY_civ_systems = yes
				missile_ui_update = yes
			}
		}

		properties = {
			GNSS_mil_treaty_flags_button = {
				image = "[?ROOT.GNSS_mil_treaty_array^i.GetFlag]"
			}
			GNSS_mil_access_flags_button = {
				image = "[?ROOT.GNSS_mil_access_array^i.GetFlag]"
			}
			GNSS_civ_treaty_flags_button = {
				image = "[?ROOT.GNSS_civ_treaty_array^i.GetFlag]"
			}
			GNSS_civ_access_flags_button = {
				image = "[?ROOT.GNSS_civ_access_array^i.GetFlag]"
			}
			COM_mil_treaty_flags_button = {
				image = "[?ROOT.COM_mil_treaty_array^i.GetFlag]"
			}
			COM_mil_access_flags_button = {
				image = "[?ROOT.COM_mil_access_array^i.GetFlag]"
			}
			COM_civ_treaty_flags_button = {
				image = "[?ROOT.COM_civ_treaty_array^i.GetFlag]"
			}
			COM_civ_access_flags_button = {
				image = "[?ROOT.COM_civ_access_array^i.GetFlag]"
			}
			SPY_mil_treaty_flags_button = {
				image = "[?ROOT.SPY_mil_treaty_array^i.GetFlag]"
			}
			SPY_mil_access_flags_button = {
				image = "[?ROOT.SPY_mil_access_array^i.GetFlag]"
			}
			SPY_civ_treaty_flags_button = {
				image = "[?ROOT.SPY_civ_treaty_array^i.GetFlag]"
			}
			SPY_civ_access_flags_button = {
				image = "[?ROOT.SPY_civ_access_array^i.GetFlag]"
			}
		}

		dynamic_lists = {
			## GNSS
			GNSS_mil_treaty_gridbox = {
				array = ROOT.GNSS_mil_treaty_array
				entry_container = GNSS_mil_treaty_entry
			}
			GNSS_mil_access_gridbox = {
				array = ROOT.GNSS_mil_access_array
				entry_container = GNSS_mil_access_entry
			}
			GNSS_civ_treaty_gridbox = {
				array = ROOT.GNSS_civ_treaty_array
				entry_container = GNSS_civ_treaty_entry
			}
			GNSS_civ_access_gridbox = {
				array = ROOT.GNSS_civ_access_array
				entry_container = GNSS_civ_access_entry
			}
			## COM
			COM_mil_treaty_gridbox = {
				array = ROOT.COM_mil_treaty_array
				entry_container = COM_mil_treaty_entry
			}
			COM_mil_access_gridbox = {
				array = ROOT.COM_mil_access_array
				entry_container = COM_mil_access_entry
			}
			COM_civ_treaty_gridbox = {
				array = ROOT.COM_civ_treaty_array
				entry_container = COM_civ_treaty_entry
			}
			COM_civ_access_gridbox = {
				array = ROOT.COM_civ_access_array
				entry_container = COM_civ_access_entry
			}
			## SPY
			SPY_mil_treaty_gridbox = {
				array = ROOT.SPY_mil_treaty_array
				entry_container = SPY_mil_treaty_entry
			}
			SPY_mil_access_gridbox = {
				array = ROOT.SPY_mil_access_array
				entry_container = SPY_mil_access_entry
			}
			SPY_civ_treaty_gridbox = {
				array = ROOT.SPY_civ_treaty_array
				entry_container = SPY_civ_treaty_entry
			}
			SPY_civ_access_gridbox = {
				array = ROOT.SPY_civ_access_array
				entry_container = SPY_civ_access_entry
			}
		}
	}

	MD_select_satellite_system_window_gui = {
		window_name = MD_select_satellite_system_window
		context_type = player_context
		parent_window_token = MD_countrymissilesview_satellites

		dirty = global.missile_ui_updated

		visible = {
			has_country_flag = open_MD_select_satellite_system_window
		}

		effects = {
			GNSS_mil_button_click = {
				GNSS_mil_button_update = yes

				clr_country_flag = open_MD_select_satellite_system_window

				missile_ui_update = yes
			}
			GNSS_civ_button_click = {
				GNSS_civ_button_update = yes

				clr_country_flag = open_MD_select_satellite_system_window
				missile_ui_update = yes
			}
			COM_mil_button_click = {
				COM_mil_button_update = yes

				clr_country_flag = open_MD_select_satellite_system_window

				missile_ui_update = yes
			}
			COM_civ_button_click = {
				COM_civ_button_update = yes

				clr_country_flag = open_MD_select_satellite_system_window
				missile_ui_update = yes
			}
			SPY_mil_button_click = {
				SPY_mil_button_update = yes

				clr_country_flag = open_MD_select_satellite_system_window
				missile_ui_update = yes
			}
			SPY_civ_button_click = {
				SPY_civ_button_update = yes

				clr_country_flag = open_MD_select_satellite_system_window

				missile_ui_update = yes
			}
			close_click = {
				clr_country_flag = open_MD_select_satellite_system_window
				clear_array = GNSS_mil_systems_array
				clear_array = GNSS_civ_systems_array
				clear_array = COM_mil_systems_array
				clear_array = COM_civ_systems_array
				clear_array = SPY_mil_systems_array
				clear_array = SPY_civ_systems_array
				missile_ui_update = yes
			}
		}
		triggers = {
			GNSS_mil_button_click_enabled = {
				OR = {
					check_variable = { GNSS_satellite_array^i > global.GNSS_sat_system_min_array^i }
					check_variable = { i = 0 }
				}
			}
			GNSS_civ_button_click_enabled = {
				OR = {
					check_variable = { GNSS_satellite_array^i > global.GNSS_sat_system_min_array^i }
					check_variable = { i = 0 }
				}
			}
			COM_mil_button_click_enabled = {
				OR = {
					check_variable = { COM_satellite_array^i > global.COM_sat_system_min_array^i }
					check_variable = { i = 0 }
				}
			}
			COM_civ_button_click_enabled = {
				OR = {
					check_variable = { COM_satellite_array^i > global.COM_sat_system_min_array^i }
					check_variable = { i = 0 }
				}
			}
			SPY_mil_button_click_enabled = {
				OR = {
					check_variable = { SPY_satellite_array^i > global.SPY_sat_system_min_array^i }
					check_variable = { i = 0 }
				}
			}
			SPY_civ_button_click_enabled = {
				OR = {
					check_variable = { SPY_satellite_array^i > global.SPY_sat_system_min_array^i }
					check_variable = { i = 0 }
				}
			}
		}

		properties = {
			GNSS_mil_button = {
				image = "GFX_sat_system_2_frame_btn"
				frame = 2
			}
			GNSS_civ_button = {
				image = "GFX_sat_system_2_frame_btn"
				frame = 2
			}
			COM_mil_button = {
				image = "GFX_sat_system_2_frame_btn"
				frame = 2
			}
			COM_civ_button = {
				image = "GFX_sat_system_2_frame_btn"
				frame = 2
			}
			SPY_mil_button = {
				image = "GFX_sat_system_2_frame_btn"
				frame = 2
			}
			SPY_civ_button = {
				image = "GFX_sat_system_2_frame_btn"
				frame = 2
			}
		}

		dynamic_lists = {
			GNSS_mil_systems_gridbox = {
				array = ROOT.GNSS_mil_systems_array
				entry_container = GNSS_mil_systems_entry
			}
			GNSS_civ_systems_gridbox = {
				array = ROOT.GNSS_civ_systems_array
				entry_container = GNSS_civ_systems_entry
			}
			COM_mil_systems_gridbox = {
				array = ROOT.COM_mil_systems_array
				entry_container = COM_mil_systems_entry
			}
			COM_civ_systems_gridbox = {
				array = ROOT.COM_civ_systems_array
				entry_container = COM_civ_systems_entry
			}
			SPY_mil_systems_gridbox = {
				array = ROOT.SPY_mil_systems_array
				entry_container = SPY_mil_systems_entry
			}
			SPY_civ_systems_gridbox = {
				array = ROOT.SPY_civ_systems_array
				entry_container = SPY_civ_systems_entry
			}
		}
	}

	MD_satellite_orbit_view_gui = {
		window_name = MD_satellite_orbit_view
		context_type = player_context
		parent_window_token = MD_countrymissilesview_space

		dirty = global.missile_ui_updated

		visible = {
			ROOT = {
				check_variable = { var_open_MD_missiles_gui_ledger_4 = 2 }
				has_country_flag = open_MD_countrymissilesview
				NOT = { has_country_flag = rods_search_target }
			}
		}
		effects = {
			rotete_globe_1_click = {
				if = {
					limit = {
						has_country_flag = globe_back_view
					}
					clr_country_flag = globe_back_view
				}
				else = {
					set_country_flag = globe_back_view
				}
				missile_ui_update = yes
			}
			sat_1_button_click = {
				var:orbit_selected_TAG = {
					set_variable = { ROOT.var_selected_sat = sat_1_array^i }
				}
				missile_ui_update = yes
			}
			sat_1_button_control_click = {
				var:orbit_selected_TAG = {
					add_to_array = { ROOT.sat_target_array = sat_1_array^i }
					add_to_array = { ROOT.sat_target_TAG_array = orbit_selected_TAG }
				}
				missile_ui_update = yes
			}
			sat_2_button_click = {
				var:orbit_selected_TAG = {
					set_variable = { ROOT.var_selected_sat = sat_2_array^i }
				}
				missile_ui_update = yes
			}
			sat_2_button_control_click = {
				var:orbit_selected_TAG = {
					add_to_array = { ROOT.sat_target_array = sat_2_array^i }
					add_to_array = { ROOT.sat_target_TAG_array = orbit_selected_TAG }
				}
				missile_ui_update = yes
			}
			sat_3_button_click = {
				var:orbit_selected_TAG = {
					set_variable = { ROOT.var_selected_sat = sat_3_array^i }
				}
				missile_ui_update = yes
			}
			sat_3_button_control_click = {
				var:orbit_selected_TAG = {
					add_to_array = { ROOT.sat_target_array = sat_3_array^i }
					add_to_array = { ROOT.sat_target_TAG_array = orbit_selected_TAG }
				}
				missile_ui_update = yes
			}
			sat_4_button_click = {
				var:orbit_selected_TAG = {
					set_variable = { ROOT.var_selected_sat = sat_4_array^i }
				}
				missile_ui_update = yes
			}
			sat_4_button_control_click = {
				var:orbit_selected_TAG = {
					add_to_array = { ROOT.sat_target_array = sat_4_array^i }
					add_to_array = { ROOT.sat_target_TAG_array = orbit_selected_TAG }
				}
				missile_ui_update = yes
			}
			sat_5_button_click = {
				var:orbit_selected_TAG = {
					set_variable = { ROOT.var_selected_sat = sat_5_array^i }
				}
				missile_ui_update = yes
			}
			sat_5_button_control_click = {
				var:orbit_selected_TAG = {
					add_to_array = { ROOT.sat_target_array = sat_5_array^i }
					add_to_array = { ROOT.sat_target_TAG_array = orbit_selected_TAG }
				}
				missile_ui_update = yes
			}
			sat_6_button_click = {
				var:orbit_selected_TAG = {
					set_variable = { ROOT.var_selected_sat = sat_6_array^i }
				}
				missile_ui_update = yes
			}
			sat_6_button_control_click = {
				var:orbit_selected_TAG = {
					add_to_array = { ROOT.sat_target_array = sat_6_array^i }
					add_to_array = { ROOT.sat_target_TAG_array = orbit_selected_TAG }
				}
				missile_ui_update = yes
			}
			add_target_button_click = {
				add_to_array = { ROOT.sat_target_array = var_selected_sat }
				add_to_array = { ROOT.sat_target_TAG_array = orbit_selected_TAG }
				missile_ui_update = yes
			}
			clear_target_array_button_click = {
				clear_array = ROOT.sat_target_array
				clear_array = ROOT.sat_target_TAG_array
				missile_ui_update = yes
			}
			#
			spy_mission_start_button_click = {
				var:orbit_selected_TAG = {
					add_to_array = { ROOT.spy_mission_array = THIS.id }
					add_to_array = { ROOT.spy_mission_sat_num_array = ROOT.var_SPY_mission_num_gui }
					ROOT = {
						add_intel = {
							target = PREV
							civilian_intel = ROOT.var_SPY_mission_intel_add
						}
						add_intel = {
							target = PREV
							army_intel = ROOT.var_SPY_mission_intel_add
						}
						add_intel = {
							target = PREV
							navy_intel = ROOT.var_SPY_mission_intel_add
						}
						add_intel = {
							target = PREV
							airforce_intel = ROOT.var_SPY_mission_intel_add
						}
						PREV = {
							set_country_flag = {
								flag = spy_sat_mission_from_@ROOT
								days = 30
								value = 1
							}
						}
					}
				}
				update_SPY_mission_num = yes
				missile_ui_update = yes
			}
			spy_sat_small_plus_button_bg_click = {
				add_to_variable = { var_SPY_mission_num_gui = 1 }
				update_SPY_mission_plus_minus_button = yes
				missile_ui_update = yes
			}
			spy_sat_small_minus_button_bg_click = {
				subtract_from_variable = { var_SPY_mission_num_gui = 1 }
				update_SPY_mission_plus_minus_button = yes
				missile_ui_update = yes
			}
			spy_mission_button_click = {
				missile_ui_update = yes
			}
			country_view_flag_button_click = {
				set_country_flag = open_MD_satellite_orbit_country_selection
				clear_array = temp_countries
				every_country = {
					ROOT = { add_to_array = { temp_countries = PREV.id } }
				}
				missile_ui_update = yes
			}
			country_view_flag_button_right_click = {
				set_variable = { orbit_selected_TAG = ROOT.id }
				set_sat_access_arrays_selected_TAG = yes
				set_satellites_gui = yes
				missile_ui_update = yes
			}
			### sat access buttons
			GNSS_mil_access_flags_button_click = {
				set_variable = { orbit_selected_TAG = selected_TAG_GNSS_mil_access_array^i.id }
				set_sat_access_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			GNSS_civ_access_flags_button_click = {
				set_variable = { orbit_selected_TAG = selected_TAG_GNSS_civ_access_array^i.id }
				set_sat_access_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			COM_mil_access_flags_button_click = {
				set_variable = { orbit_selected_TAG = selected_TAG_COM_mil_access_array^i.id }
				set_sat_access_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			COM_civ_access_flags_button_click = {
				set_variable = { orbit_selected_TAG = selected_TAG_COM_civ_access_array^i.id }
				set_sat_access_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			SPY_mil_access_flags_button_click = {
				set_variable = { orbit_selected_TAG = selected_TAG_SPY_mil_access_array^i.id }
				set_sat_access_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			SPY_civ_access_flags_button_click = {
				set_variable = { orbit_selected_TAG = selected_TAG_SPY_civ_access_array^i.id }
				set_sat_access_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			close_button_click = {
				if = {
					limit = {
						NOT = { has_country_flag = rods_search_target }
					}
					set_country_flag = rods_search_target
				}
				else = {
					clr_country_flag = rods_search_target
				}
				missile_ui_update = yes
			}
		}
		triggers = {
			### sat
			sat_1_button_visible = {
				var:orbit_selected_TAG = {
					check_variable = { sat_1_array^i > -1 }
					NOT = { check_variable = { sat_1_array^i < 0 } }
				}
				NOT = { has_country_flag = globe_back_view }
			}
			### sat
			sat_2_button_visible = {
				var:orbit_selected_TAG = {
					check_variable = { sat_2_array^i > -1 }
					NOT = { check_variable = { sat_2_array^i < 0 } }
				}
				NOT = { has_country_flag = globe_back_view }
			}
			### sat
			sat_3_button_visible = {
				var:orbit_selected_TAG = {
					check_variable = { sat_3_array^i > -1 }
					NOT = { check_variable = { sat_3_array^i < 0 } }
				}
				NOT = { has_country_flag = globe_back_view }
			}
			### sat
			sat_4_button_visible = {
				var:orbit_selected_TAG = {
					check_variable = { sat_4_array^i > -1 }
					NOT = { check_variable = { sat_4_array^i < 0 } }
				}
				NOT = { has_country_flag = globe_back_view }
			}
			### sat
			sat_5_button_visible = {
				var:orbit_selected_TAG = {
					check_variable = { sat_5_array^i > -1 }
					NOT = { check_variable = { sat_5_array^i < 0 } }
				}
				NOT = { has_country_flag = globe_back_view }
			}

			##################
			### front view ###
			##################
			globe_icon_visible = {
				NOT = { has_country_flag = globe_back_view }
			}
			#################
			### back view ###
			#################
			globe_icon_2_visible = {
				has_country_flag = globe_back_view
			}
			### sat
			sat_6_button_visible = {
				var:orbit_selected_TAG = {
					check_variable = { sat_6_array^i > 0 }
					NOT = { check_variable = { sat_6_array^i < 1 } }
				}
				has_country_flag = globe_back_view
			}
			rotete_globe_1_visible = {
				OR = {
					var:orbit_selected_TAG = {
						check_variable = { sat_6_array^num > 0 }
					}
					has_country_flag = globe_back_view
				}
			}
			####################
			### spy missions ###
			####################
			spy_mission_start_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = spy_mission_start_button_trigger_1_TT
					var:orbit_selected_TAG = {
						NOT = { original_tag = ROOT }
						NOT = { has_country_flag = spy_sat_mission_from_@ROOT }
					}
				}
				check_variable = { ROOT.var_SPY_mission_num_gui > 0 }
				custom_trigger_tooltip = {
					tooltip = spy_mission_start_button_trigger_2_TT
					OR = {
						check_variable = { var_SPY_mission_num_available > ROOT.var_SPY_mission_num_gui }
						check_variable = { var_SPY_mission_num_available = ROOT.var_SPY_mission_num_gui }
					}
				}
			}
			spy_sat_small_plus_button_bg_click_enabled = {
				check_variable = { ROOT.var_SPY_mission_intel_ratio < 1 }
			}
			spy_sat_small_minus_button_bg_click_enabled = {
				check_variable = { ROOT.var_SPY_mission_intel_ratio > 0 }
			}
		}
		dynamic_lists = {
			sat_1_gridbox = {
				array = sat_1_array
				entry_container = sat_1_entry
			}
			sat_2_gridbox = {
				array = sat_2_array
				entry_container = sat_2_entry
			}
			sat_3_gridbox = {
				array = sat_3_array
				entry_container = sat_3_entry
			}
			sat_4_gridbox = {
				array = sat_4_array
				entry_container = sat_4_entry
			}
			sat_5_gridbox = {
				array = sat_5_array
				entry_container = sat_5_entry
			}
			sat_6_gridbox = {
				array = sat_6_array
				entry_container = sat_6_entry
			}
			### sat treaties
			## GNSS
			GNSS_mil_access_gridbox = {
				array = selected_TAG_GNSS_mil_access_array
				entry_container = selected_TAG_GNSS_mil_access_entry
			}
			GNSS_civ_access_gridbox = {
				array = selected_TAG_GNSS_civ_access_array
				entry_container = selected_TAG_GNSS_civ_access_entry
			}
			## COM
			COM_mil_access_gridbox = {
				array = selected_TAG_COM_mil_access_array
				entry_container = selected_TAG_COM_mil_access_entry
			}
			COM_civ_access_gridbox = {
				array = selected_TAG_COM_civ_access_array
				entry_container = selected_TAG_COM_civ_access_entry
			}
			## SPY
			SPY_mil_access_gridbox = {
				array = selected_TAG_SPY_mil_access_array
				entry_container = selected_TAG_SPY_mil_access_entry
			}
			SPY_civ_access_gridbox = {
				array = selected_TAG_SPY_civ_access_array
				entry_container = selected_TAG_SPY_civ_access_entry
			}
			sat_target_gridbox = {
				array = THIS.sat_target_array
				entry_container = sat_target_entry
			}
			spy_mission_gridbox = {
				array = THIS.spy_mission_array
				entry_container = spy_mission_entry
			}
		}

		properties = {
			sat_1_button = {
				image = "[sat_1_type_icon]"
			}
			sat_2_button = {
				image = "[sat_2_type_icon]"
			}
			sat_3_button = {
				image = "[sat_3_type_icon]"
			}
			sat_4_button = {
				image = "[sat_4_type_icon]"
			}
			sat_5_button = {
				image = "[sat_5_type_icon]"
			}
			sat_6_button = {
				image = "[sat_6_type_icon]"
			}
			country_view_flag_button = {
				image = "[?orbit_selected_TAG.GetFlag]"
			}
			GNSS_mil_access_flags_button = {
				image = "[?selected_TAG_GNSS_mil_access_array^i.GetFlag]"
			}
			GNSS_civ_access_flags_button = {
				image = "[?selected_TAG_GNSS_civ_access_array^i.GetFlag]"
			}
			COM_mil_access_flags_button = {
				image = "[?selected_TAG_COM_mil_access_array^i.GetFlag]"
			}
			COM_civ_access_flags_button = {
				image = "[?selected_TAG_COM_civ_access_array^i.GetFlag]"
			}
			SPY_mil_access_flags_button = {
				image = "[?selected_TAG_SPY_mil_access_array^i.GetFlag]"
			}
			SPY_civ_access_flags_button = {
				image = "[?selected_TAG_SPY_civ_access_array^i.GetFlag]"
			}
		}
	}

	MD_satellite_orbit_country_selection_gui = {
		window_name = MD_satellite_orbit_country_selection
		context_type = player_context
		#context_type = selected_country_context
		parent_window_token = MD_satellite_orbit_view

		dirty = global.missile_ui_updated

		visible = {
			ROOT = {
				check_variable = { var_open_MD_missiles_gui_ledger_4 = 2 }
				has_country_flag = open_MD_countrymissilesview
				has_country_flag = open_MD_satellite_orbit_country_selection
			}
		}
		effects = {
			country_list_flag_button_click = {
				set_variable = { orbit_selected_TAG = ROOT.temp_countries^i }
				set_sat_access_arrays_selected_TAG = yes
				var:orbit_selected_TAG = {
					set_variable = { ROOT.var_SPY_mission_num_gui = num_controlled_states }
				}
				update_SPY_mission_start_button = yes
				clr_country_flag = open_MD_satellite_orbit_country_selection
				missile_ui_update = yes
			}
			close_button_click = {
				if = {
					limit = {
						has_country_flag = open_MD_satellite_orbit_country_selection
					}
					clr_country_flag = open_MD_satellite_orbit_country_selection
				}
				clear_array = ROOT.temp_countries
				missile_ui_update = yes
			}
		}

		dynamic_lists = {
			country_list_gridbox = {
				array = temp_countries
				entry_container = country_list_entry
			}
		}
		properties = {
			country_list_flag_button = {
				#text = "test" #[?ROOT.temp_countries^i.GetFlag]
			}
		}
	}

	MD_CT_system_gui = {
		window_name = MD_CT_system_window
		context_type = player_context
		parent_window_name = MD_countrymissilesview

		dirty = global.missile_ui_updated

		visible = {
			check_variable = { var_open_MD_CT_gui = 2 }
			has_country_flag = open_MD_countrymissilesview
		}

		effects = {

		}

		properties = {

		}

		dynamic_lists = {

		}
	}
	#PMC System
	MD_PMC_system_gui = {
		window_name = MD_PMC_system_window
		context_type = player_context
		parent_window_name = MD_countrymissilesview

		dirty = global.missile_ui_updated

		visible = {
			check_variable = { var_open_MD_PMC_gui = 2 }
			has_country_flag = open_MD_countrymissilesview
		}

		triggers = {
			remove_light_inf_button_visible = {
				is_major_company = yes
			}
			remove_light_inf_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_hired_tt
					if = { limit = { has_country_flag = blackwater_sel }
						has_country_flag = pmc_recruited_blackwater_light
					}
					else_if = { limit = { has_country_flag = aegis_sel }
						has_country_flag = pmc_recruited_aegis_light
					}
					else_if = { limit = { has_country_flag = constellis_sel }
						has_country_flag = pmc_recruited_constellis_light
					}
					else_if = { limit = { has_country_flag = wagner_sel }
						has_country_flag = pmc_recruited_wagner_light
					}
					else_if = { limit = { has_country_flag = md_sel }
						has_country_flag = pmc_recruited_md_light
					}
				}
			}
			remove_mot_inf_button_visible = {
				is_major_company = yes
			}
			remove_mot_inf_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_hired_tt
					if = { limit = { has_country_flag = blackwater_sel }
						has_country_flag = pmc_blackwater_mot
					}
					else_if = { limit = { has_country_flag = aegis_sel }
						has_country_flag = pmc_aegis_mot
					}
					else_if = { limit = { has_country_flag = constellis_sel }
						has_country_flag = pmc_constellis_mot
					}
					else_if = { limit = { has_country_flag = wagner_sel }
						has_country_flag = pmc_wagner_mot
					}
					else_if = { limit = { has_country_flag = md_sel }
						has_country_flag = pmc_md_mot
					}
				}
			}
			remove_mech_inf_button_visible = {
				is_major_company = yes
			}
			remove_mech_inf_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_hired_tt
					if = { limit = { has_country_flag = blackwater_sel }
						has_country_flag = pmc_blackwater_mech
					}
					else_if = { limit = { has_country_flag = aegis_sel }
						has_country_flag = pmc_aegis_mech
					}
					else_if = { limit = { has_country_flag = constellis_sel }
						has_country_flag = pmc_constellis_mech
					}
					else_if = { limit = { has_country_flag = wagner_sel }
						has_country_flag = pmc_wagner_mech
					}
					else_if = { limit = { has_country_flag = md_sel }
						has_country_flag = pmc_md_mech
					}
				}
			}
			remove_hvy_inf_button_visible = {
				is_major_company = yes
			}
			remove_hvy_inf_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_hired_tt
					if = { limit = { has_country_flag = blackwater_sel }
						has_country_flag = pmc_blackwater_heavy_mech
					}
					else_if = { limit = { has_country_flag = aegis_sel }
						has_country_flag = pmc_aegis_heavy_mech
					}
					else_if = { limit = { has_country_flag = constellis_sel }
						has_country_flag = pmc_constellis_heavy_mech
					}
					else_if = { limit = { has_country_flag = wagner_sel }
						has_country_flag = pmc_wagner_heavy_mech
					}
					else_if = { limit = { has_country_flag = md_sel }
						has_country_flag = pmc_md_heavy_mech
					}
				}
			}
			remove_spec_inf_button_visible = {
				is_major_company = yes
			}
			remove_spec_inf_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_hired_tt
					if = { limit = { has_country_flag = blackwater_sel }
						has_country_flag = pmc_blackwater_special_unit
					}
					else_if = { limit = { has_country_flag = aegis_sel }
						has_country_flag = pmc_aegis_special_unit
					}
					else_if = { limit = { has_country_flag = constellis_sel }
						has_country_flag = pmc_constellis_special_unit
					}
					else_if = { limit = { has_country_flag = wagner_sel }
						has_country_flag = pmc_wagner_special_unit
					}
					else_if = { limit = { has_country_flag = md_sel }
						has_country_flag = pmc_md_special_unit
					}
				}
			}
			remove_tank_button_visible = {
				is_major_company = yes
			}
			remove_tank_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_hired_tt
					if = { limit = { has_country_flag = blackwater_sel }
						has_country_flag = pmc_blackwater_tank
					}
					else_if = { limit = { has_country_flag = aegis_sel }
						has_country_flag = pmc_aegis_tank
					}
					else_if = { limit = { has_country_flag = constellis_sel }
						has_country_flag = pmc_constellis_tank
					}
					else_if = { limit = { has_country_flag = wagner_sel }
						has_country_flag = pmc_wagner_tank
					}
					else_if = { limit = { has_country_flag = md_sel }
						has_country_flag = pmc_md_tank
					}
				}
			}
			remove_sf_inf_button_visible = {
				is_major_company = yes
			}

			remove_sf_inf_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_hired_tt
					if = { limit = { has_country_flag = blackwater_sel }
						has_country_flag = pmc_blackwater_specops
					}
					else_if = { limit = { has_country_flag = aegis_sel }
						has_country_flag = pmc_aegis_specops
					}
					else_if = { limit = { has_country_flag = constellis_sel }
						has_country_flag = pmc_constellis_specops
					}
					else_if = { limit = { has_country_flag = wagner_sel }
						has_country_flag = pmc_wagner_specops
					}
					else_if = { limit = { has_country_flag = md_sel }
						has_country_flag = pmc_md_specops
					}
				}
			}
		}

		effects = {

		}

		properties = {

		}

		dynamic_lists = {

		}
	}
	#UN System
	MD_UN_system_gui = {
		window_name = MD_UN_system_window
		context_type = player_context
		parent_window_name = MD_UN_main_gui

		dirty = global.missile_ui_updated

		visible = {
			check_variable = { var_open_MD_state_recog = 2 }
			check_variable = { var_open_MD_UN_gui = 2 }
			has_country_flag = open_MD_countrymissilesview
		}

		triggers = {
			switch_recog_button_click_enabled = {
				NOT = {
					has_idea = Non_State_Actor
					has_idea = Lacks_International_Recognition
					has_idea = Lacks_International_Recognition_Taiwan
					has_idea = rival_government
				}
				if = {
					limit = { original_tag = SWI }
					has_completed_focus = SWI_join_the_united_nations
				}
				country_exists = var:open_state
				var:open_state = {
					is_subject = no
				}
				meta_trigger = {
					text = {
						custom_trigger_tooltip = {
							tooltip = not_is_a_rival_government_tt
							NOT = { has_country_flag = rival_government_[stname] }
						}
						OR = {
							AND = {
								custom_trigger_tooltip = {
									tooltip = not_recognized_this_nation_tt
									NOT = { has_country_flag = Recognised_[stname] }
								}
								var:open_state = { has_idea = rival_government }
							}
							var:open_state = {
								custom_trigger_tooltip = {
									tooltip = not_recognized_the_opponent_nation_tt
									has_country_flag = recognised_opponent_[stroot]
								}
							}
						}
						any_country = {
							exists = yes
							custom_trigger_tooltip = {
								tooltip = is_a_rival_government_tt
								has_country_flag = rival_government_[stname]
							}
						}
					}
					stname = "[?var:open_state.GetTag]"
					stroot = "[?ROOT.GetTag]"
				}
			}
			pressure_countries_recog_button_click_enabled = {
				var:open_state = { has_idea = Lacks_International_Recognition }
				country_exists = var:open_state
				is_full_state = yes
				meta_trigger = {
					text = {
						custom_trigger_tooltip = {
							tooltip = has_recog_tt
							has_country_flag = Recognised_[stname]
						}
						custom_trigger_tooltip = {
							tooltip = recent_pressure_tt
							NOT = { has_country_flag = pressure_timer_[stname] }
						}
					}
					stname = "[?var:open_state.GetTag]"
				}
				if = {
					limit = { original_tag = SWI }
					has_completed_focus = SWI_join_the_united_nations
				}

				has_political_power > 100
			}
			grant_recog_button_click_enabled = {
				var:open_state = { has_idea = Lacks_International_Recognition }
				country_exists = var:open_state
				is_full_state = yes
				meta_trigger = {
					text = {
						custom_trigger_tooltip = {
							tooltip = not_recog_tt
							NOT = { has_country_flag = Recognised_[stname] }
						}
					}
					stname = "[?var:open_state.GetTag]"
				}

				has_political_power > 25
			}
			rescind_recog_button_click_enabled = {
				var:open_state = { has_idea = Lacks_International_Recognition }
				country_exists = var:open_state
				is_full_state = yes
				if = {
					limit = { original_tag = SWI }
					has_completed_focus = SWI_join_the_united_nations
				}
				meta_trigger = {
					text = {
						custom_trigger_tooltip = {
							tooltip = has_recog_tt
							has_country_flag = Recognised_[stname]
						}
					}
					stname = "[?var:open_state.GetTag]"
				}
				has_political_power > 25
			}
			move_embassy_ISR_button_visible = {
				NOT = {
					original_tag = ISR
					original_tag = PAL
					AND = {
						original_tag = HEZ
						OR = {
							emerging_hardline_shiite_are_in_power = yes
							emerging_moderate_shiite_are_in_power = yes
						}
					}
				}
				NOT = { has_country_flag = moved_ISR_embassy }
			}
			move_embassy_ISR_button_click_enabled = {
				country_exists = PAL
				country_exists = ISR
				ISR = {
					owns_state = 207
				}
				NOT = { has_country_flag = moved_ISR_embassy }
			}
			campaign_USA_button_visible = {
				OR = {
					has_idea = Lacks_International_Recognition
					has_idea = rival_government
				}
			}
			campaign_USA_button_click_enabled = {
				USA = {
					has_opinion = {
						target = ROOT
						value > 49
					}
				}
				if = {
					limit = {
						OR = {
							original_tag = KAC
							original_tag = KAR
							original_tag = SHN
							original_tag = NHN
							original_tag = WAA
						}
					}
					custom_trigger_tooltip = {
						tooltip = USA_recognition_BRM_tt
						USA = {
							if = {
								limit = {
									BRM = {
										has_opinion_modifier = declared_independence
									}
								}
								check_variable = { opinion@ROOT > opinion@BRM }
							}
						}
					}
				}
				else_if = {
					limit = { original_tag = TAI }
					custom_trigger_tooltip = {
						tooltip = USA_recognition_CHI_tt
						USA = {
							if = {
								limit = {
									CHI = {
										has_opinion_modifier = declared_independence
									}
								}
								check_variable = { opinion@ROOT > opinion@CHI }
							}
						}
					}
				}
				if = {
					limit = { NOT = { CHI = { has_government = democratic } } }
					custom_trigger_tooltip = {
						tooltip = CHI_influence_below_tt
						NOT = { check_variable = { influence_array^0 = CHI } }
					}
				}
				if = {
					limit = { NOT = { SOV = { has_government = democratic } } }
					custom_trigger_tooltip = {
						tooltip = SOV_influence_below_tt
						NOT = { check_variable = { influence_array^0 = SOV } }
					}
				}
				has_elections = yes

				has_political_power > 200
			}
			campaign_SOV_button_visible = {
				OR = {
					has_idea = Lacks_International_Recognition
					has_idea = rival_government
				}
			}
			campaign_SOV_button_click_enabled = {
				SOV = {
					has_opinion = {
						target = ROOT
						value > 49
					}
				}
				if = {
					limit = {
						OR = {
							original_tag = KAC
							original_tag = KAR
							original_tag = SHN
							original_tag = NHN
							original_tag = WAA
						}
					}
					custom_trigger_tooltip = {
						tooltip = SOV_recognition_BRM_tt
						SOV = {
							if = {
								limit = {
									BRM = {
										has_opinion_modifier = declared_independence
									}
								}
								check_variable = { opinion@ROOT > opinion@BRM }
							}
						}
					}
				}
				else_if = {
					limit = { original_tag = TAI }
					custom_trigger_tooltip = {
						tooltip = SOV_recognition_CHI_tt
						SOV = {
							if = {
								limit = {
									CHI = {
										has_opinion_modifier = declared_independence
									}
								}
								check_variable = { opinion@ROOT > opinion@CHI }
							}
						}
					}
				}
				if = {
					limit = { NOT = { SOV = { has_government = democratic } } }
					custom_trigger_tooltip = {
						tooltip = USA_influence_below_tt
						NOT = { check_variable = { influence_array^0 = USA } }
					}
				}
				if = {
					limit = { NOT = { SOV = { has_government = democratic } } }
					custom_trigger_tooltip = {
						tooltip = ENG_influence_below_tt
						NOT = { check_variable = { influence_array^0 = ENG } }
					}
				}
				if = {
					limit = { NOT = { SOV = { has_government = democratic } } }
					custom_trigger_tooltip = {
						tooltip = FRA_influence_below_tt
						NOT = { check_variable = { influence_array^0 = FRA } }
					}
				}
				if = {
					limit = { NOT = { SOV = { has_government = democratic } } }
					custom_trigger_tooltip = {
						tooltip = GER_influence_below_tt
						NOT = { check_variable = { influence_array^0 = GER } }
					}
				}

				has_political_power > 200
			}
			campaign_CHI_button_visible = {
				OR = {
					has_idea = Lacks_International_Recognition
					has_idea = rival_government
				}
			}
			campaign_CHI_button_click_enabled = {
				CHI = {
					has_opinion = {
						target = ROOT
						value > 49
					}
				}
				if = {
					limit = {
						OR = {
							original_tag = KAC
							original_tag = KAR
							original_tag = SHN
							original_tag = NHN
							original_tag = WAA
						}
					}
					custom_trigger_tooltip = {
						tooltip = CHI_recognition_BRM_tt
						CHI = {
							if = {
								limit = {
									BRM = {
										has_opinion_modifier = declared_independence
									}
								}
								check_variable = { opinion@ROOT > opinion@BRM }
							}
						}
					}
				}
				else_if = {
					limit = { original_tag = TAI }
					CHI = {
						NOT = {
							has_opinion_modifier = declared_independence
						}
					}
				}
				if = {
					limit = { NOT = { CHI = { has_government = democratic } } }
					custom_trigger_tooltip = {
						tooltip = USA_influence_below_tt
						NOT = { check_variable = { influence_array^0 = USA } }
					}
				}
				if = {
					limit = { NOT = { CHI = { has_completed_focus = CHI_Sign_Strategic_Partnership_Agreement } } }
					custom_trigger_tooltip = {
						tooltip = JAP_influence_below_tt
						NOT = { check_variable = { influence_array^0 = JAP } }
					}
				}
				if = {
					limit = { NOT = { CHI = { has_completed_focus = CHI_Sino_Indian_Treaty_of_Friendship } } }
					custom_trigger_tooltip = {
						tooltip = RAJ_influence_below_tt
						NOT = { check_variable = { influence_array^0 = RAJ } }
					}
				}

				has_political_power > 200
			}
			campaign_ENG_button_visible = {
				OR = {
					has_idea = Lacks_International_Recognition
					has_idea = rival_government
				}
			}
			campaign_ENG_button_click_enabled = {
				ENG = {
					has_opinion = {
						target = ROOT
						value > 49
					}
				}
				if = {
					limit = {
						OR = {
							original_tag = KAC
							original_tag = KAR
							original_tag = SHN
							original_tag = NHN
							original_tag = WAA
						}
					}
					custom_trigger_tooltip = {
						tooltip = ENG_recognition_BRM_tt
						ENG = {
							if = {
								limit = {
									BRM = {
										has_opinion_modifier = declared_independence
									}
								}
								check_variable = { opinion@ROOT > opinion@BRM }
							}
						}
					}
				}
				else_if = {
					limit = { original_tag = TAI }
					custom_trigger_tooltip = {
						tooltip = ENG_recognition_CHI_tt
						ENG = {
							if = {
								limit = {
									CHI = {
										has_opinion_modifier = declared_independence
									}
								}
								check_variable = { opinion@ROOT > opinion@CHI }
							}
						}
					}
				}
				if = {
					limit = { NOT = { CHI = { has_government = democratic } } }
					custom_trigger_tooltip = {
						tooltip = CHI_influence_below_tt
						NOT = { check_variable = { influence_array^0 = CHI } }
					}
				}
				if = {
					limit = { NOT = { SOV = { has_government = democratic } } }
					custom_trigger_tooltip = {
						tooltip = SOV_influence_below_tt
						NOT = { check_variable = { influence_array^0 = SOV } }
					}
				}
				has_elections = yes

				has_political_power > 200
			}
			campaign_FRA_button_visible = {
				OR = {
					has_idea = Lacks_International_Recognition
					has_idea = rival_government
				}
			}
			campaign_FRA_button_click_enabled = {
				FRA = {
					has_opinion = {
						target = ROOT
						value > 49
					}
				}
				if = {
					limit = {
						OR = {
							original_tag = KAC
							original_tag = KAR
							original_tag = SHN
							original_tag = NHN
							original_tag = WAA
						}
					}
					custom_trigger_tooltip = {
						tooltip = FRA_recognition_BRM_tt
						FRA = {
							if = {
								limit = {
									BRM = {
										has_opinion_modifier = declared_independence
									}
								}
								check_variable = { opinion@ROOT > opinion@BRM }
							}
						}
					}
				}
				else_if = {
					limit = { original_tag = TAI }
					custom_trigger_tooltip = {
						tooltip = FRA_recognition_CHI_tt
						FRA = {
							if = {
								limit = {
									CHI = {
										has_opinion_modifier = declared_independence
									}
								}
								check_variable = { opinion@ROOT > opinion@CHI }
							}
						}
					}
				}
				if = {
					limit = {
						NOT = { CHI = { has_government = democratic } }
					}
					custom_trigger_tooltip = {
						tooltip = CHI_influence_below_tt
						NOT = { check_variable = { influence_array^0 = CHI } }
					}
				}
				if = {
					limit = { NOT = { SOV = { has_government = democratic } } }
					custom_trigger_tooltip = {
						tooltip = SOV_influence_below_tt
						NOT = { check_variable = { influence_array^0 = SOV } }
					}
				}
				has_elections = yes

				has_political_power > 200
			}
			un_ascension_button_visible = {
				OR = {
					has_idea = Lacks_International_Recognition
					has_idea = rival_government
				}
			}
			un_ascension_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = two_thirds_tt
					check_variable = {
						var = Granted_Recognition
						value = 120
						compare = greater_than
					}
				}
				meta_trigger = {
					text = {
						custom_trigger_tooltip = {
							tooltip = security_council_support_tt
							USA = {
								has_country_flag = Recognised_[thname]
							}
							ENG = {
								has_country_flag = Recognised_[thname]
							}
							FRA = {
								has_country_flag = Recognised_[thname]
							}
							SOV = {
								has_country_flag = Recognised_[thname]
							}
							CHI = {
								has_country_flag = Recognised_[thname]
							}
						}
					}
					thname = "[?THIS.GetTag]"
				}

				has_political_power > 100
			}
		}

		effects = {
			move_embassy_ISR_button_click = {
				if = {
					limit = {
						OR = {
							has_idea = superpower
							has_idea = great_power
							has_idea = large_power
						}
					}
					ISR = { add_political_power = 50 }
				}
				else_if = {
					limit = { has_idea = regional_power }
					ISR = { add_political_power = 35 }
				}
				else = { ISR = { add_political_power = 20 } }
				set_country_flag = moved_ISR_embassy
				missile_ui_update = yes
			}
			# International System
			grant_recog_button_click = {
				add_political_power = -25
				meta_effect = {
					text = {
						THIS = { set_country_flag = Recognised_[stname] }

						if = {
							limit = {
								NOT = { has_country_flag = original_owner_[stname] }
							}
							every_country = {
								limit = {
									has_country_flag = original_owner_[stname]
									NOT = { has_country_flag = Recognised_[stname] }
								}
								add_opinion_modifier = {
									target = ROOT
									modifier = recognises_them
								}
								news_event = { id = recognition.1 }
							}
						}
						if = {
							limit = {
								NOT = {
									has_country_flag = original_owner_[stname]
									has_country_flag = supports_original_owner_[stname]
								}
							}
							every_country = {
								limit = {
									has_country_flag = supports_original_owner_[stname]
									NOT = { has_country_flag = Recognised_[stname] }
								}
								add_opinion_modifier = {
									target = ROOT
									modifier = recognises_them
								}
							}
						}
					}
					stname = "[?var:open_state.GetTag]"
				}
				var:open_state = {
					add_opinion_modifier = {
						target = ROOT
						modifier = recognises_us
					}
					news_event = { id = recognition.2 }
					add_to_variable = { Granted_Recognition = 1 }
				}
				missile_ui_update = yes
			}
			pressure_countries_recog_button_click = {
				meta_effect = {
					text = {
						every_country = {
							limit = {
								is_influencer = yes
								NOT = { has_country_flag = Recognised_[stname] }
								NOT = { tag = ROOT }
								is_full_state = yes
							}
							set_country_flag = pressured_to_recognize_[stname]
							country_event = { id = recognition.8 }
						}
						set_country_flag = {
							flag = pressure_timer_[stname]
							days = 180
						}
					}
					stname = "[?var:open_state.GetTag]"
				}
				add_political_power = -100
				missile_ui_update = yes
			}
			rescind_recog_button_click = {
				meta_effect = {
					text = {
						clr_country_flag = Recognised_[stname]

						every_country = {
							limit = {
								has_country_flag = original_owner_[stname]
								NOT = { has_country_flag = Recognised_[stname] }
							}
							add_opinion_modifier = {
								target = ROOT
								modifier = withdrew_recognition_them
							}
							news_event = { id = recognition.4 }
						}
					}
					stname = "[?var:open_state.GetTag]"
				}
				var:open_state = {
					add_opinion_modifier = { modifier = withdrew_recognition target = ROOT }
					subtract_from_variable = { var = Granted_Recognition value = 1 }
					news_event = { id = recognition.3 }
				}
				missile_ui_update = yes
			}
			switch_recog_button_click = {
				if = {
					limit = { FROM = { has_idea = rival_government } }
					set_country_flag = Recognised_@FROM
				}
				var:open_state = {
					add_opinion_modifier = { target = ROOT modifier = recognises_us }
					if = {
						limit = { original_tag = CHI }
						CHI = {
							remove_opinion_modifier = { target = ROOT modifier = recognize_taiwan_chi }
						}
					}
					if = {
						limit = {
							original_tag = CHI
							ROOT = { has_country_flag = loyal_to_ROC }
						}
						CHI = {
							remove_opinion_modifier = { target = ROOT modifier = harsh_sanctions }
						}
						ROOT = { clr_country_flag = loyal_to_ROC }
					}
					news_event = { id = recognition.5 }
					clr_country_flag = recognised_opponent_@ROOT
				}
				meta_effect = {
					text = {
						every_country = {
							limit = { has_country_flag = rival_government_[stname] }
							if = {
								limit = { original_tag = TAI }
								remove_opinion_modifier = { target = ROOT modifier = recognize_taiwan }
							}
							add_opinion_modifier = { target = ROOT modifier = recognises_them_rival }
							subtract_from_variable = { var = Granted_Recognition value = 1 }
							set_country_flag = recognised_opponent_[rname]
							news_event = { id = recognition.6 }
						}
					}
					stname = "[?var:open_state.GetTag]"
					rname = "[?ROOT.GetTag]"
				}
				add_to_variable = {
					var = var:open_state.Granted_Recognition
					value = 1
				}
				missile_ui_update = yes
			}
			campaign_USA_button_click = {
				set_country_flag = USA_recognition_campaign
				USA = {
					add_opinion_modifier = {
						target = ROOT
						modifier = is_trying_to_win_our_favour
					}
				}

				add_political_power = -200
				missile_ui_update = yes
			}
			campaign_SOV_button_click = {
				log = "[GetDateText]: [Root.GetName]: Decision campaign_for_recognition_SOV"
				set_country_flag = SOV_recognition_campaign
				SOV = {
					add_opinion_modifier = {
						target = ROOT
						modifier = is_trying_to_win_our_favour
					}
				}

				add_political_power = -200
				missile_ui_update = yes
			}
			campaign_CHI_button_click = {
				log = "[GetDateText]: [Root.GetName]: Decision campaign_for_recognition_CHI"
				set_country_flag = CHI_recognition_campaign
				CHI = {
					add_opinion_modifier = {
						target = ROOT
						modifier = is_trying_to_win_our_favour
					}
				}

				add_political_power = -200
			}
			campaign_ENG_button_click = {
				set_country_flag = ENG_recognition_campaign
				ENG = {
					add_opinion_modifier = {
						target = ROOT
						modifier = is_trying_to_win_our_favour
					}
				}

				add_political_power = -200
				missile_ui_update = yes
			}
			campaign_FRA_button_click = {
				set_country_flag = FRA_recognition_campaign
				FRA = {
					add_opinion_modifier = {
						target = ROOT
						modifier = is_trying_to_win_our_favour
					}
				}

				add_political_power = -200
				missile_ui_update = yes
			}
			un_ascension_button_click = {
				log = "[GetDateText]: [Root.GetName]: Decision un_ascension_button_click"
				remove_ideas = Lacks_International_Recognition
				if = { limit = { has_idea = rival_government }
					remove_ideas = rival_government
				}
				remove_from_array = {
					global.Unrecognised_States = THIS
				}
				set_temp_variable = { percent_change = 5 }
				change_domestic_influence_percentage = yes
				every_country = {
					news_event = { id = recognition.7 }
				}

				add_political_power = -100
				missile_ui_update = yes
			}
		}

		properties = {

		}

		dynamic_lists = {

		}
	}

	MD_UN_main_gui = {
		window_name = MD_UN_main_window
		context_type = player_context
		parent_window_name = MD_countrymissilesview

		dirty = global.missile_ui_updated

		visible = {
			check_variable = { var_open_MD_UN_gui = 2 }
			has_country_flag = open_MD_countrymissilesview
		}

		effects = {
			un_state_recog_btn_click = {
				set_variable = { var_open_MD_state_recog = 2 }
				clear_variable = var_open_MD_un_aid
				clear_variable = var_open_MD_un_council
				missile_ui_update = yes
			}
			un_human_aid_btn_click = {
				set_variable = { var_open_MD_un_aid = 2 }
				clear_variable = var_open_MD_state_recog
				clear_variable = var_open_MD_un_council
				missile_ui_update = yes
			}
			un_sec_con_btn_click = {
				set_variable = { var_open_MD_un_council = 2 }
				clear_variable = var_open_MD_state_recog
				clear_variable = var_open_MD_un_aid
				missile_ui_update = yes
			}
		}
	}
	#Dynamic Lists
	international_pmc_units_dynamic_lists = {
		context_type = player_context
		parent_scripted_gui = MD_PMC_system_gui
		window_name = "IS_pmc_units_container"

		dirty = global.missile_ui_updated
		ai_enabled = { always = no }
		ai_test_interval = 168
		ai_max_weight_taken_per_test = 1

		visible = {
			check_variable = { var_open_MD_PMC_gui = 2 }
			has_country_flag = open_MD_countrymissilesview
		}

		dynamic_lists = {
			list_of_available_pmc_units = {
				array = THIS.selected_units
				entry_container = IS_available_pmc_units_list
				ai_weights = {
					#TODO: For further international system updates, detail this out further for better ai utilization
					name_of_pmc_units_button_click = {
						ai_will_do = {
							factor = 1

							modifier = {
								add = 25
								has_army_size = { size < 40 }
							}
							modifier = {
								add = 50
								has_army_size = { size < 30 }
							}
							modifier = {
								add = 75
								has_army_size = { size < 20 }
							}
							modifier = {
								add = 100
								has_army_size = { size < 10 }
							}
							#buy armor if you need it bois
							modifier = {
								add = 100
								has_army_size = {
									size < 5
									type = armor
								}
								check_variable = { v = 006 }
							}
							#killswitch for recently grabbing a major pmc
							modifier = {
								factor = 0
								has_country_flag = hold_major_pmc_purchase
							}
							#killswitch for not having a major selected, just in case
							modifier = {
								factor = 0
								NOT = {
									has_country_flag = blackwater_sel
									has_country_flag = aegis_sel
									has_country_flag = wagner_sel
									has_country_flag = constellis_sel
								}
							}
						}
					}
				}
			}

		}

		triggers = {
			name_of_pmc_units_button_click_enabled = {
				OR = {
					has_country_flag = blackwater_sel
					has_country_flag = aegis_sel
					has_country_flag = wagner_sel
					has_country_flag = constellis_sel
				}

				OR = {
					if = { limit = { check_variable = { v = 001 } }
						set_temp_variable = { up_chk = 0 }
						NOT = { has_country_flag = inf_hire }
					}
					else_if = { limit = { check_variable = { v = 002 } }
						set_temp_variable = { up_chk = 0 }
						NOT = { has_country_flag = mot_inf_hire }
					}
					else_if = { limit = { check_variable = { v = 003 } }
						set_temp_variable = { up_chk = 0 }
						NOT = { has_country_flag = mech_inf_hire }
					}
					else_if = { limit = { check_variable = { v = 004 } }
						set_temp_variable = { up_chk = 1 }
						NOT = { has_country_flag = hvy_inf_hire }
					}
					else_if = { limit = { check_variable = { v = 005 } }
						set_temp_variable = { up_chk = 1 }
						NOT = { has_country_flag = spec_inf_hire }
					}
					else_if = { limit = { check_variable = { v = 006 } }
						set_temp_variable = { up_chk = 2 }
						NOT = { has_country_flag = tank_hire }
					}
					else_if = { limit = { check_variable = { v = 007 } }
						set_temp_variable = { up_chk = 2 }
						NOT = { has_country_flag = sf_hire }
					}
				}

				if = {
					limit = {
						NOT = { tag = USA }
						has_country_flag = blackwater_sel
					}
					USA = { has_opinion = { target = ROOT value > 0 } }
				}
				else_if = {
					limit = {
						NOT = { tag = ENG }
						has_country_flag = aegis_sel
					}
					ENG = { has_opinion = { target = ROOT value > 0 } }
				}
				else_if = {
					limit = {
						NOT = { tag = USA }
						has_country_flag = constellis_sel
					}
					USA = { has_opinion = { target = ROOT value > 0 } }
				}
				else_if = {
					limit = {
						NOT = { tag = SOV }
						has_country_flag = wagner_sel
					}
					SOV = { has_opinion = { target = ROOT value > 0 } }
				}

				meta_trigger = {
					text = {
						custom_trigger_tooltip = {
							tooltip = pmc_upgrade_tt
							check_variable = { global.merc_upgrade^[compcheck] > [upchk] }
						}
						set_temp_variable = { sum = global.merc_deploy_cost^1 }
						add_to_temp_variable = { sum = global.merc_deployed^[compcheck] }
						pmc_can_recruit = yes
						custom_trigger_tooltip = {
							tooltip = pmc_surpassing_TT
							NOT = { check_variable = { sum > global.merc_capacity^[compcheck] } }
						}
					}
					compcheck = "[?comp_check]"
					upchk = "[?up_chk]"
				}
			}
		}

		effects = {
			name_of_pmc_units_button_click = {
				if = { limit = { check_variable = { v = 001 } }
					if = { limit = { has_country_flag = blackwater_sel }
						set_country_flag = inf_hire
						activate_mission = get_blackwater_light_infantry
					}
					else_if = { limit = { has_country_flag = aegis_sel }
						set_country_flag = inf_hire
						activate_mission = get_aegis_light_infantry
					}
					else_if = { limit = { has_country_flag = constellis_sel }
						set_country_flag = inf_hire
						activate_mission = get_constellis_light_infantry
					}
					else_if = { limit = { has_country_flag = wagner_sel }
						set_country_flag = inf_hire
						activate_mission = get_wagner_light_infantry
					}
				}
				if = { limit = { check_variable = { v = 002 } }
					if = { limit = { has_country_flag = blackwater_sel }
						set_country_flag = mot_inf_hire
						activate_mission = get_blackwater_mot_infantry
					}
					else_if = { limit = { has_country_flag = aegis_sel }
						set_country_flag = mot_inf_hire
						activate_mission = get_aegis_mot_infantry
					}
					else_if = { limit = { has_country_flag = constellis_sel }
						set_country_flag = mot_inf_hire
						activate_mission = get_constellis_mot_infantry
					}
					else_if = { limit = { has_country_flag = wagner_sel }
						set_country_flag = mot_inf_hire
						activate_mission = get_wagner_mot_infantry
					}
				}
				if = { limit = { check_variable = { v = 003 } }
					if = { limit = { has_country_flag = blackwater_sel }
						set_country_flag = mech_inf_hire
						activate_mission = get_blackwater_mech_infantry
					}
					else_if = { limit = { has_country_flag = aegis_sel }
						set_country_flag = mech_inf_hire
						activate_mission = get_aegis_mech_infantry
					}
					else_if = { limit = { has_country_flag = constellis_sel }
						set_country_flag = mech_inf_hire
						activate_mission = get_constellis_mech_infantry
					}
					else_if = { limit = { has_country_flag = wagner_sel }
						set_country_flag = mech_inf_hire
						activate_mission = get_wagner_mech_infantry
					}
				}
				if = { limit = { check_variable = { v = 004 } }
					if = { limit = { has_country_flag = blackwater_sel }
						set_country_flag = hvy_inf_hire
						activate_mission = get_blackwater_heavy_mech_infantry
					}
					else_if = { limit = { has_country_flag = aegis_sel }
						set_country_flag = hvy_inf_hire
						activate_mission = get_aegis_heavy_mech_infantry
					}
					else_if = { limit = { has_country_flag = constellis_sel }
						set_country_flag = hvy_inf_hire
						activate_mission = get_constellis_heavy_mech_infantry
					}
					else_if = { limit = { has_country_flag = wagner_sel }
						set_country_flag = hvy_inf_hire
						activate_mission = get_wagner_heavy_mech_infantry
					}
				}
				if = { limit = { check_variable = { v = 005 } }
					if = { limit = { has_country_flag = blackwater_sel }
						set_country_flag = spec_inf_hire
						activate_mission = get_blackwater_special_infantry
					}
					else_if = { limit = { has_country_flag = aegis_sel }
						set_country_flag = spec_inf_hire
						activate_mission = get_aegis_special_infantry
					}
					else_if = { limit = { has_country_flag = constellis_sel }
						set_country_flag = spec_inf_hire
						activate_mission = get_constellis_special_infantry
					}
					else_if = { limit = { has_country_flag = wagner_sel }
						set_country_flag = spec_inf_hire
						activate_mission = get_wagner_special_infantry
					}
				}
				if = { limit = { check_variable = { v = 006 } }
					if = { limit = { has_country_flag = blackwater_sel }
						set_country_flag = tank_hire
						activate_mission = get_blackwater_tank
					}
					else_if = { limit = { has_country_flag = aegis_sel }
						set_country_flag = tank_hire
						activate_mission = get_aegis_tank
					}
					else_if = { limit = { has_country_flag = constellis_sel }
						set_country_flag = tank_hire
						activate_mission = get_constellis_tank
					}
					else_if = { limit = { has_country_flag = wagner_sel }
						set_country_flag = tank_hire
						activate_mission = get_wagner_tank
					}
				}
				if = { limit = { check_variable = { v = 007 } }
					if = { limit = { has_country_flag = blackwater_sel }
						set_country_flag = sf_hire
						activate_mission = get_blackwater_specops
					}
					else_if = { limit = { has_country_flag = aegis_sel }
						set_country_flag = sf_hire
						activate_mission = get_aegis_specops
					}
					else_if = { limit = { has_country_flag = constellis_sel }
						set_country_flag = sf_hire
						activate_mission = get_constellis_specops
					}
					else_if = { limit = { has_country_flag = wagner_sel }
						set_country_flag = sf_hire
						activate_mission = get_wagner_specops
					}
				}
				if = { limit = { is_ai = yes }
					set_country_flag = {
						flag = hold_major_pmc_purchase
						days = 90
					}
				}
				missile_ui_update = yes
			}
		}
	}

	international_pmc_companies_dynamic_lists = {
		context_type = player_context
		parent_scripted_gui = MD_PMC_system_gui
		window_name = "IS_pmc_companies_container"

		dirty = global.missile_ui_updated
		ai_enabled = { always = no }
		ai_test_interval = 168
		ai_max_weight_taken_per_test = 1

		visible = {
			check_variable = { var_open_MD_PMC_gui = 2 }
			has_country_flag = open_MD_countrymissilesview
		}

		dynamic_lists = {
			list_of_available_pmc_companies = {
				array = global.PMC_companies
				entry_container = IS_available_pmc_companies_list
				ai_weights = {
					name_of_pmc_companies_button_click = {
						ai_will_do = {
							factor = 1
							#Get Buffs
							modifier = {
								add = 5
								is_in_array = { global.PMC_buffs = v }
								has_idea = superpower
							}
							modifier = {
								add = 5
								is_in_array = { global.PMC_buffs = v }
								has_idea = great_power
							}
							modifier = {
								add = 10
								is_in_array = { global.PMC_buffs = v }
								has_idea = large_power
							}
							modifier = {
								add = 20
								is_in_array = { global.PMC_buffs = v }
								has_idea = regional_power
							}
							modifier = {
								add = 30
								is_in_array = { global.PMC_buffs = v }
								has_idea = minor_power
							}
							modifier = {
								add = 30
								is_in_array = { global.PMC_buffs = v }
								has_idea = non_power
							}
							modifier = {
								add = 30
								has_army_size = { size > 20 }
							}
							modifier = {
								add = -30
								has_army_size = { size < 21 }
							}
							#Get Units (Smol)
							modifier = {
								add = 0
								is_in_array = { global.PMC_buffs = v }
								has_idea = superpower
							}
							modifier = {
								add = 0
								is_in_array = { global.PMC_buffs = v }
								has_idea = great_power
							}
							modifier = {
								add = 5
								is_in_array = { global.PMC_buffs = v }
								has_idea = large_power
							}
							modifier = {
								add = 20
								is_in_array = { global.PMC_buffs = v }
								has_idea = regional_power
							}
							modifier = {
								add = 30
								is_in_array = { global.PMC_buffs = v }
								has_idea = minor_power
							}
							modifier = {
								add = 30
								is_in_array = { global.PMC_buffs = v }
								has_idea = non_power
							}
							modifier = {
								add = 30
								has_army_size = { size < 20 }
							}
							modifier = {
								add = -30
								has_army_size = { size > 19 }
							}
							#Get Units (Lorg)
							modifier = {
								add = 5
								is_in_array = { global.PMC_buffs = v }
								has_idea = superpower
							}
							modifier = {
								add = 5
								is_in_array = { global.PMC_buffs = v }
								has_idea = great_power
							}
							modifier = {
								add = 10
								is_in_array = { global.PMC_buffs = v }
								has_idea = large_power
							}
							modifier = {
								add = 20
								is_in_array = { global.PMC_buffs = v }
								has_idea = regional_power
							}
							modifier = {
								add = 30
								is_in_array = { global.PMC_buffs = v }
								has_idea = minor_power
							}
							modifier = {
								add = 30
								is_in_array = { global.PMC_buffs = v }
								has_idea = non_power
							}
							modifier = {
								add = 30
								has_army_size = { size < 20 }
							}
							modifier = {
								add = -30
								has_army_size = { size > 19 }
							}
							#when at war, hire what you can get
							modifier = {
								factor = 5
								has_war = yes
							}
							#killswitch for recent hires or selections
							modifier = {
								factor = 0
								has_country_flag = ai_recent_pmc_select
							}
							#killswitch for being broke
							modifier = {
								factor = 0
								check_variable = { treasury_rate < -10 }
								NOT = { has_war = yes }
							}
							modifier = {
								factor = 0
								check_variable = { treasury_rate < -20 }
								has_war = yes
							}
							#killswitch for non-state actor / unrecognized state
							modifier = {
								factor = 0
								has_idea = non_state_actor
							}
							modifier = {
								factor = 0
								has_idea = Lacks_International_Recognition
							}
							modifier = {
								factor = 0
								has_idea = Lacks_International_Recognition_Taiwan
							}
						}
					}
				}
			}
		}

		triggers = {
			name_of_pmc_companies_button_click_enabled = {
				if = { limit = { check_variable = { v = 001 } }
					OR = {
						USA = { has_opinion = { target = ROOT value > 0 } }
						tag = USA
					}
					NOT = { has_global_flag = constellis_pmc_formed }
				}
				else_if = { limit = { check_variable = { v = 002 } }
					OR = {
						ENG = { has_opinion = { target = ROOT value > 0 } }
						tag = ENG
					}
				}
				else_if = { limit = { check_variable = { v = 003 } }
					OR = {
						USA = { has_opinion = { target = ROOT value > 0 } }
						tag = USA
					}
					has_global_flag = constellis_pmc_formed
				}
				else_if = { limit = { check_variable = { v = 004 } }
					SOV = {
						has_completed_focus = SOV_slavic_corps
						NOT = { has_country_flag = SOV_wagner_rebeliion_flag }
					}
					OR = {
						SOV = { has_opinion = { target = ROOT value > 0 } }
						tag = SOV
					}
					custom_trigger_tooltip = {
						tooltip = banned_pmc_operations_TT
						NOT = { SOV = { has_country_flag = banned_pmc_operations } }
					}
				}
				else_if = { limit = { check_variable = { v = 005 } }
					NOT = { has_war_with = USA }
					OR = {
						USA = { has_opinion = { target = ROOT value > 10 } }
						tag = USA
					}
					custom_trigger_tooltip = {
						tooltip = pmc_mpri_TT
						USA = { NOT = { has_country_flag = mpri_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 006 } }
					if = { limit = { NOT = { tag = TUR } }
						country_exists = TUR
						NOT = { has_war_with = TUR }
						TUR = { has_opinion = { target = ROOT value > 10 } }
					}
					else = {
						original_tag = TUR
					}
					custom_trigger_tooltip = {
						tooltip = pmc_sadat_TT
						TUR = { NOT = { has_country_flag = sadat_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 007 } }
					if = { limit = { NOT = { tag = SOV } }
						country_exists = SOV
						NOT = {	has_war_with = SOV }
						SOV = { has_opinion = { target = ROOT value > 10 } }
					}
					else = {
						original_tag = SOV
					}
					custom_trigger_tooltip = {
						tooltip = pmc_rsb_TT
						SOV = { NOT = { has_country_flag = rsb_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 008 } }
					if = { limit = { NOT = { tag = ENG } }
						country_exists = ENG
						NOT = { has_war_with = ENG }
						ENG = { has_opinion = { target = ROOT value > 10 } }
					}
					else = {
						original_tag = ENG
					}
					custom_trigger_tooltip = {
						tooltip = pmc_sadline_TT
						ENG = { NOT = { has_country_flag = sadline_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 009 } }
					if = { limit = { NOT = { tag = USA } }
						country_exists = USA
						NOT = { has_war_with = USA }
						USA = { has_opinion = { target = ROOT value > 10 } }
					}
					else = {
						original_tag = USA
					}
					custom_trigger_tooltip = {
						tooltip = pmc_kbr_TT
						USA = { NOT = { has_country_flag = kbr_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 010 } }
					if = { limit = { NOT = { tag = ISR } }
						country_exists = ISR
						NOT = { has_war_with = ISR }
						ISR = { has_opinion = { target = ROOT value > 10 } }
					}
					else = {
						original_tag = ISR
					}
					custom_trigger_tooltip = {
						tooltip = pmc_nirtal_TT
						ISR = { NOT = { has_country_flag = nirtal_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 011 } }
					if = { limit = { NOT = { tag = USA tag = ENG } }
						country_exists = USA
						country_exists = ENG
						NOT = { has_war_with = USA }
						NOT = { has_war_with = ENG }
						USA = { has_opinion = { target = ROOT value > 10 } }
						ENG = { has_opinion = { target = ROOT value > 10 } }
					}
					else = {
						if = { limit = { original_tag = USA }
							country_exists = ENG
							NOT = { has_war_with = ENG }
							ENG = { has_opinion = { target = ROOT value > 10 } }
						}
						else = {
							country_exists = USA
							NOT = { has_war_with = USA }
							USA = { has_opinion = { target = ROOT value > 10 } }
						}
					}
					has_war = yes
					custom_trigger_tooltip = {
						tooltip = pmc_halo_TT
						USA = { NOT = { has_country_flag = halo_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 012 } }
					if = { limit = { NOT = { tag = FRA } }
						country_exists = FRA
						NOT = { has_war_with = FRA }
						FRA = { has_opinion = { target = ROOT value > 14 } }
					}
					else = {
						original_tag = FRA
					}
					has_war = yes
					custom_trigger_tooltip = {
						tooltip = pmc_dci_TT
						FRA = { NOT = { has_country_flag = dci_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 013 } }
					if = { limit = { NOT = { tag = CAN } }
						country_exists = CAN
						NOT = { has_war_with = CAN }
						CAN = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = CAN
					}
					custom_trigger_tooltip = {
						tooltip = pmc_garda_TT
						CAN = { NOT = { has_country_flag = garda_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 014 } }
					if = { limit = { NOT = { tag = POL } }
						country_exists = POL
						NOT = { has_war_with = POL }
						POL = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = POL
					}
					custom_trigger_tooltip = {
						tooltip = pmc_eu_TT
						POL = { NOT = { has_country_flag = eu_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 015 } }
					if = { limit = { NOT = { tag = GER } }
						country_exists = GER
						NOT = { has_war_with = GER }
						GER = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = GER
					}
					custom_trigger_tooltip = {
						tooltip = pmc_itt_TT
						GER = { NOT = { has_country_flag = itt_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 016 } }
					date > 2007.1.1
					if = { limit = { NOT = { tag = GER } }
						country_exists = GER
						NOT = { has_war_with = GER }
						GER = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = GER
					}
					custom_trigger_tooltip = {
						tooltip = pmc_asgard_TT
						GER = { NOT = { has_country_flag = asgrad_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 017 } }
					EGY = { has_country_flag = sinai_create }
					if = { limit = { NOT = { tag = EGY } }
						country_exists = EGY
						NOT = { has_war_with = EGY }
						EGY = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = EGY
					}
					custom_trigger_tooltip = {
						tooltip = pmc_sinai_TT
						EGY = { NOT = { has_country_flag = sinai_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 018 } }
					BLR = { has_country_flag = gard_create }
					if = { limit = { NOT = { tag = BLR } }
						country_exists = BLR
						NOT = { has_war_with = BLR }
						BLR = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = BLR
					}
					custom_trigger_tooltip = {
						tooltip = pmc_gard_TT
						BLR = { NOT = { has_country_flag = gard_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 019 } }
					SOV = { has_country_flag = patriot_create }
					if = { limit = { NOT = { tag = SOV } }
						country_exists = SOV
						NOT = { has_war_with = SOV }
						SOV = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = SOV
					}
					custom_trigger_tooltip = {
						tooltip = pmc_patriot_TT
						SOV = { NOT = { has_country_flag = patriot_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 020 } }
					CHI = { has_country_flag = dewe_create }
					if = { limit = { NOT = { tag = CHI } }
						country_exists = CHI
						NOT = { has_war_with = CHI }
						CHI = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = CHI
					}
					custom_trigger_tooltip = {
						tooltip = pmc_dewe_TT
						CHI = { NOT = { has_country_flag = dewe_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 021 } }
					CHI = { has_country_flag = over_create }
					if = { limit = { NOT = { tag = CHI } }
						country_exists = CHI
						NOT = { has_war_with = CHI }
						CHI = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = CHI
					}
					custom_trigger_tooltip = {
						tooltip = pmc_over_TT
						CHI = { NOT = { has_country_flag = over_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 022 } }
					CHI = { has_country_flag = front_create }
					NOT = { tag = CHI }
					country_exists = CHI
					NOT = {	has_war_with = CHI }
					CHI = { has_opinion = { target = ROOT value > 15 } }
					custom_trigger_tooltip = {
						tooltip = pmc_front_TT
						CHI = { NOT = { has_country_flag = front_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 023 } }
					SOV = { has_country_flag = redut_create }
					if = { limit = { NOT = { tag = SOV } }
						country_exists = SOV
						NOT = { has_war_with = SOV }
						SOV = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = SOV
					}
					custom_trigger_tooltip = {
						tooltip = pmc_redut_TT
						SOV = { NOT = { has_country_flag = redut_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 024 } }
					SOV = { has_country_flag = gazprom_create }
					if = { limit = { NOT = { tag = SOV } }
						country_exists = SOV
						NOT = { has_war_with = SOV }
						SOV = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = SOV
					}
					custom_trigger_tooltip = {
						tooltip = pmc_gazprom_TT
						SOV = { NOT = { has_country_flag = gazprom_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 025 } }
					EST = { has_country_flag = iron_create }
					if = { limit = { NOT = { tag = EST } }
						country_exists = EST
						NOT = { has_war_with = EST }
						EST = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = EST
					}
					custom_trigger_tooltip = {
						tooltip = pmc_iron_TT
						EST = { NOT = { has_country_flag = iron_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 026 } }
					PMR = { has_country_flag = sheriff_create }
					if = { limit = { NOT = { tag = PMR } }
						country_exists = PMR
						NOT = { has_war_with = PMR }
						PMR = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = PMR
					}
					custom_trigger_tooltip = {
						tooltip = pmc_sheriff_TT
						PMR = { NOT = { has_country_flag = sheriff_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 027 } }
					SOV = { has_country_flag = lukoil_create }
					if = {
						limit = { NOT = { tag = SOV } }
						country_exists = SOV
						NOT = { has_war_with = SOV }
						SOV = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = SOV
					}
					custom_trigger_tooltip = {
						tooltip = pmc_lukoil_TT
						SOV = { NOT = { has_country_flag = lukoil_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 028 } }
					SOV = { has_country_flag = rosneft_create }
					if = {
						limit = { NOT = { tag = SOV } }
						country_exists = SOV
						NOT = {	has_war_with = SOV }
						SOV = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = SOV
					}
					custom_trigger_tooltip = {
						tooltip = pmc_rosneft_TT
						SOV = { NOT = { has_country_flag = rosneft_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 029 } }
					SOV = { has_country_flag = sberbank_create }
					if = { limit = { NOT = { tag = SOV } }
						country_exists = SOV
						NOT = {	has_war_with = SOV }
						SOV = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = SOV
					}
					custom_trigger_tooltip = {
						tooltip = pmc_sberbank_TT
						SOV = { NOT = { has_country_flag = sberbank_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 030 } }
					SOV = { has_country_flag = vtb_create }
					if = { limit = { NOT = { tag = SOV } }
						country_exists = SOV
						NOT = { has_war_with = SOV }
						SOV = { has_opinion = { target = ROOT value > 20 } }
					}
					else = {
						original_tag = SOV
					}
					custom_trigger_tooltip = {
						tooltip = pmc_vtb_TT
						SOV = { NOT = { has_country_flag = vtb_yes } }
					}
				}
				else_if = { limit = { check_variable = { v = 031 } }
					check_variable = { global.merc_upgrade^4 > -1 }
					set_temp_variable = { sum = global.merc_deploy_cost^0 }
					add_to_temp_variable = { sum = global.merc_deployed^4 }
					pmc_can_recruit = yes
					custom_trigger_tooltip = {
						tooltip = pmc_surpassing_TT
						NOT = { check_variable = { sum > global.merc_capacity^4 } }
					}
				}
			}
		}

		effects = {
			name_of_pmc_companies_button_click = {
				if = { limit = { check_variable = { v = 001 } }
					clr_country_pmc_flag = yes
					set_country_flag = blackwater_sel
					set_sel_pmc_units = yes
					custom_effect_tooltip = pmc_open_units_list
				}
				if = { limit = { check_variable = { v = 002 } }
					clr_country_pmc_flag = yes
					set_country_flag = aegis_sel
					set_sel_pmc_units = yes
					custom_effect_tooltip = pmc_open_units_list
				}
				if = { limit = { check_variable = { v = 003 } }
					clr_country_pmc_flag = yes
					set_country_flag = constellis_sel
					set_sel_pmc_units = yes
					custom_effect_tooltip = pmc_open_units_list
				}
				if = { limit = { check_variable = { v = 004 } }
					clr_country_pmc_flag = yes
					set_country_flag = wagner_sel
					set_sel_pmc_units = yes
					custom_effect_tooltip = pmc_open_units_list
				}
				if = { limit = { check_variable = { v = 031 } }
					clr_country_pmc_flag = yes
					set_country_flag = md_sel
					set_sel_pmc_units = yes
					custom_effect_tooltip = pmc_open_units_list
				}
				if = { limit = { check_variable = { v = 005 } }
					clr_country_pmc_flag = yes
					set_country_flag = mpri_sel
					set_sel_pmc_units = yes
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_mrpi_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_mrpi_idea
							days = 365
						}
					}
					set_temp_variable = { treasury_change = -5.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						USA = { country_event = pmc_events.2 }
					}
					USA = { set_country_flag = mpri_yes }
					activate_mission = pmc_mpri
				}
				if = { limit = { check_variable = { v = 006 } }
					clr_country_pmc_flag = yes
					set_country_flag = sadat_sel
					set_sel_pmc_units = yes
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_sadat_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_sadat_idea
							days = 365
						}
					}
					set_temp_variable = { treasury_change = -4 }
					modify_treasury_effect = yes
					hidden_effect = {
						TUR = { country_event = pmc_events.5 }
					}
					TUR = { set_country_flag = sadat_yes }
					activate_mission = pmc_sadat
				}
				if = { limit = { check_variable = { v = 007 } }
					clr_country_pmc_flag = yes
					set_country_flag = rsb_sel
					set_sel_pmc_units = yes
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_rsb_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_rsb_idea
							days = 365
						}
					}
					set_temp_variable = { treasury_change = -3.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						SOV = { country_event = pmc_events.4 }
					}
					SOV = { set_country_flag = rsb_yes }
					activate_mission = pmc_rsb
				}
				if = { limit = { check_variable = { v = 008 } }
					clr_country_pmc_flag = yes
					set_country_flag = sandline_sel
					set_sel_pmc_units = yes
					hidden_effect = {
						division_template = {
							name = "Mercenary SpecOps SandLine Unit"
							is_locked = yes
							priority = 2
							regiments = {
								Special_Forces = { x = 0 y = 0 }
								Special_Forces = { x = 0 y = 1 }
								Special_Forces = { x = 0 y = 2 }
								Special_Forces = { x = 0 y = 3 }
								Arty_Bat = { x = 1 y = 0 }
								Arty_Bat = { x = 1 y = 1 }
							}
							support = {
								H_Engi_Comp = { x = 0 y = 0 }
								L_Recce_Comp = { x = 0 y = 1 }
								SP_AA_Battery = { x = 0 y = 3 }
							}
						}
						random_owned_controlled_state = {
							limit = { ROOT = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Mercenary SpecOps SandLine Unit\" division_template = \"Mercenary SpecOps SandLine Unit\" start_experience_factor = 1.0"
								owner = ROOT
							}
						}
					}
					set_temp_variable = { treasury_change = -2.5 }
					modify_treasury_effect = yes
					if = {
						limit = { NOT = { original_tag = ENG } }
						hidden_effect = {
							ENG = { country_event = pmc_events.3 }
						}
					}
					ENG = { set_country_flag = sadline_yes }
					activate_mission = pmc_sadline
				}
				if = { limit = { check_variable = { v = 009 } }
					clr_country_pmc_flag = yes
					set_country_flag = kbr_sel
					set_sel_pmc_units = yes
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_kbr_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_kbr_idea
							days = 365
						}
					}
					set_temp_variable = { treasury_change = -3.5 }
					modify_treasury_effect = yes
					if = {
						limit = { NOT = { original_tag = USA } }
						hidden_effect = {
							USA = { country_event = pmc_events.4 }
						}
					}
					USA = { set_country_flag = kbr_yes }
					activate_mission = pmc_kbr
				}
				if = { limit = { check_variable = { v = 010 } }
					clr_country_pmc_flag = yes
					set_country_flag = nirtal_sel
					set_sel_pmc_units = yes
					add_equipment_to_stockpile = {
						type = Inf_equipment
						amount = 1500
					}
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_nirtal_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_nirtal_idea
							days = 365
						}
					}
					hidden_effect = {
						ISR = { country_event = pmc_events.4 }
					}
					set_temp_variable = { treasury_change = -3.5 }
					modify_treasury_effect = yes
					ISR = { set_country_flag = nirtal_yes }
					activate_mission = pmc_nirtal
				}
				if = { limit = { check_variable = { v = 011 } }
					clr_country_pmc_flag = yes
					set_country_flag = halo_sel
					set_sel_pmc_units = yes
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_halo_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_halo_idea
							days = 365
						}
					}
					set_temp_variable = { treasury_change = -1.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						USA = { country_event = pmc_events.6 }
						ENG = { country_event = pmc_events.6 }
					}
					USA = { set_country_flag = halo_yes }
					activate_mission = pmc_halo
				}
				if = { limit = { check_variable = { v = 012 } }
					clr_country_pmc_flag = yes
					set_country_flag = defense_sel
					set_sel_pmc_units = yes
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_dci_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_dci_idea
							days = 365
						}
					}
					set_temp_variable = { treasury_change = -4 }
					modify_treasury_effect = yes
					hidden_effect = {
						FRA = { country_event = pmc_events.4 }
					}
					FRA = { set_country_flag = dci_yes }
					activate_mission = pmc_dci
				}
				if = { limit = { check_variable = { v = 013 } }
					clr_country_pmc_flag = yes
					set_country_flag = gardaworld_sel
					set_sel_pmc_units = yes
					hidden_effect = {
						division_template = {
							name = "Mercenary SpecOps GardaWorld Unit"
							is_locked = yes
							priority = 2
							regiments = {
								Special_Forces = { x = 0 y = 0 }
								Special_Forces = { x = 0 y = 1 }
								Special_Forces = { x = 0 y = 2 }
								Special_Forces = { x = 0 y = 3 }
							}
							support = {
								H_Engi_Comp = { x = 0 y = 0 }
								L_Recce_Comp = { x = 0 y = 1 }
							}
						}
						random_owned_controlled_state = {
							limit = { ROOT = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Mercenary SpecOps GardaWorld Unit\" division_template = \"Mercenary SpecOps GardaWorld Unit\" start_experience_factor = 0.7"
								owner = ROOT
							}
						}
					}
					set_temp_variable = { treasury_change = -2.5 }
					modify_treasury_effect = yes
					CAN = { set_country_flag = garda_yes }
					if = {
						limit = { NOT = { original_tag = CAN } }
						hidden_effect = {
							CAN = { country_event = pmc_events.3 }
						}
					}
					activate_mission = pmc_garda
				}
				if = { limit = { check_variable = { v = 014 } }
					clr_country_pmc_flag = yes
					set_country_flag = esa_sel
					set_sel_pmc_units = yes
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_eu_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_eu_idea
							days = 365
						}
					}
					set_temp_variable = { treasury_change = -4 }
					modify_treasury_effect = yes
					hidden_effect = {
						POL = { country_event = pmc_events.5 }
					}
					POL = { set_country_flag = eu_yes }
					activate_mission = pmc_eu
				}
				if = { limit = { check_variable = { v = 015 } }
					clr_country_pmc_flag = yes
					set_country_flag = g4s_sel
					set_sel_pmc_units = yes
					hidden_effect = {
						division_template = {
							name = "Mercenary SpecOps G4S Unit"
							is_locked = yes
							priority = 2
							regiments = {
								Special_Forces = { x = 0 y = 0 }
								Special_Forces = { x = 0 y = 1 }
								Special_Forces = { x = 0 y = 2 }
								Special_Forces = { x = 0 y = 3 }
								Special_Forces = { x = 1 y = 0 }
								Special_Forces = { x = 1 y = 1 }
								Special_Forces = { x = 1 y = 2 }
								Special_Forces = { x = 1 y = 3 }
								Arty_Bat = { x = 2 y = 0 }
								Arty_Bat = { x = 2 y = 1 }
							}
							support = {
								H_Engi_Comp = { x = 0 y = 0 }
								L_Recce_Comp = { x = 0 y = 1 }
								SP_AA_Battery = { x = 0 y = 3 }
							}
						}
						random_owned_controlled_state = {
							limit = { ROOT = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Mercenary SpecOps G4S Unit\" division_template = \"Mercenary SpecOps G4S Unit\" start_experience_factor = 1.0"
								owner = ROOT
							}
						}
					}
					set_temp_variable = { treasury_change = -3.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						GER = { country_event = pmc_events.4 }
					}
					GER = { set_country_flag = itt_yes }
					activate_mission = pmc_itt
				}
				if = { limit = { check_variable = { v = 016 } }
					clr_country_pmc_flag = yes
					set_country_flag = asgard_sel
					set_sel_pmc_units = yes
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_asgard_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_asgard_idea
							days = 365
						}
					}
					set_temp_variable = { treasury_change = -3.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						GER = { country_event = pmc_events.4 }
					}
					GER = { set_country_flag = asgrad_yes }
					activate_mission = pmc_asgard
				}
				if = { limit = { check_variable = { v = 017 } }
					clr_country_pmc_flag = yes
					set_country_flag = union_sel
					set_sel_pmc_units = yes
					hidden_effect = {
						division_template = {
							name = "Mercenary The Union of the Tribes of Sinai"
							is_locked = yes
							priority = 2
							regiments = {
								Special_Forces = { x = 0 y = 0 }
								Special_Forces = { x = 0 y = 1 }
								Special_Forces = { x = 0 y = 2 }
								Special_Forces = { x = 0 y = 3 }
							}
							support = {
								H_Engi_Comp = { x = 0 y = 0 }
								L_Recce_Comp = { x = 0 y = 1 }
							}
						}
						random_owned_controlled_state = {
							limit = { ROOT = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Mercenary The Union of the Tribes of Sinai\" division_template = \"Mercenary The Union of the Tribes of Sinai\" start_experience_factor = 0.3"
								owner = ROOT
							}
						}
					}
					set_temp_variable = { treasury_change = -2.5 }
					modify_treasury_effect = yes
					if = {
						limit = { NOT = { original_tag = EGY } }
						hidden_effect = {
							EGY = { country_event = pmc_events.3 }
						}
					}
					EGY = { set_country_flag = sinai_yes }
					activate_mission = pmc_sinai
				}
				if = { limit = { check_variable = { v = 018 } }
					clr_country_pmc_flag = yes
					set_country_flag = gard_sel
					set_sel_pmc_units = yes
					hidden_effect = {
						division_template = {
							name = "Mercenary of Gard Service"
							is_locked = yes
							priority = 2
							regiments = {
								Special_Forces = { x = 0 y = 0 }
								Special_Forces = { x = 0 y = 1 }
								Special_Forces = { x = 0 y = 2 }
								Special_Forces = { x = 0 y = 3 }
							}
							support = {
								H_Engi_Comp = { x = 0 y = 0 }
								L_Recce_Comp = { x = 0 y = 1 }
							}
						}
						random_owned_controlled_state = {
							limit = { ROOT = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Mercenary of Gard Service\" division_template = \"Mercenary of Gard Service\" start_experience_factor = 0.8"
								owner = ROOT
							}
						}
					}
					set_temp_variable = { treasury_change = -2.5 }
					modify_treasury_effect = yes
					if = {
						limit = { NOT = { original_tag = BLR } }
						hidden_effect = {
							BLR = { country_event = pmc_events.3 }
						}
					}
					BLR = { set_country_flag = gard_yes }
					activate_mission = pmc_gard
				}
				if = { limit = { check_variable = { v = 019 } }
					clr_country_pmc_flag = yes
					set_country_flag = patriot_sel
					set_sel_pmc_units = yes
					hidden_effect = {
						division_template = {
							name = "Patriot Heavy Mechanized Unit"
							is_locked = yes
							priority = 2
							regiments = {
								Arm_Inf_Bat = { x = 0 y = 0 }
								Arm_Inf_Bat = { x = 0 y = 1 }
								Arm_Inf_Bat = { x = 0 y = 2 }
								Arm_Inf_Bat = { x = 1 y = 0 }
								Arm_Inf_Bat = { x = 1 y = 1 }
								Arm_Inf_Bat = { x = 1 y = 2 }
							}
							support = {
								armor_Comp = { x = 0 y = 0 }
								Arm_Recce_Comp = { x = 0 y = 1 }
								H_Engi_Comp = { x = 0 y = 2 }
							}
						}
						random_owned_controlled_state = {
							limit = { ROOT = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Patriot Heavy Mechanized Unit\" division_template = \"Patriot Heavy Mechanized Unit\" start_experience_factor = 1.0"
								owner = ROOT
							}
						}
					}
					set_temp_variable = { treasury_change = -5.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						SOV = { country_event = pmc_events.2 }
					}
					SOV = { set_country_flag = patriot_yes }
					activate_mission = pmc_patriot
				}
				if = { limit = { check_variable = { v = 020 } }
					clr_country_pmc_flag = yes
					set_country_flag = dewe_sel
					set_sel_pmc_units = yes
					hidden_effect = {
						division_template = {
							name = "Mercenary of Dewe Security Services"
							is_locked = yes
							priority = 2
							regiments = {
								Special_Forces = { x = 0 y = 0 }
								Special_Forces = { x = 0 y = 1 }
								Special_Forces = { x = 0 y = 2 }
								Special_Forces = { x = 0 y = 3 }
							}
							support = {
								H_Engi_Comp = { x = 0 y = 0 }
								L_Recce_Comp = { x = 0 y = 1 }
							}
						}
						random_owned_controlled_state = {
							limit = { ROOT = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Mercenary of Dewe Security Services\" division_template = \"Mercenary of Dewe Security Services\" start_experience_factor = 0.3"
								owner = ROOT
							}
						}
					}
					set_temp_variable = { treasury_change = -3.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						CHI = { country_event = pmc_events.4 }
					}
					CHI = { set_country_flag = dewe_yes }
					activate_mission = pmc_dewe
				}
				if = { limit = { check_variable = { v = 021 } }
					clr_country_pmc_flag = yes
					set_country_flag = over_sel
					set_sel_pmc_units = yes
					set_temp_variable = { treasury_change = -2.5 }
					modify_treasury_effect = yes
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_over_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_over_idea
							days = 365
						}
					}
					if = {
						limit = { NOT = { original_tag = CHI } }
						hidden_effect = {
							CHI = { country_event = pmc_events.3 }
						}
					}
					CHI = { set_country_flag = over_yes }
					activate_mission = pmc_over
				}
				if = { limit = { check_variable = { v = 022 } }
					clr_country_pmc_flag = yes
					set_country_flag = front_sel
					set_sel_pmc_units = yes
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_front_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_front_idea
							days = 365
						}
					}
					add_equipment_to_stockpile = {
						type = infantry_weapons1
						amount = 1000
						producer = CHI
					}
					add_equipment_to_stockpile = {
						type = command_control_equipment
						amount = 500
						producer = CHI
					}
					set_temp_variable = { treasury_change = -7.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						CHI = { country_event = pmc_events.2 }
					}
					CHI = { set_country_flag = front_yes }
					activate_mission = pmc_front
				}
				if = { limit = { check_variable = { v = 023 } }
					clr_country_pmc_flag = yes
					set_country_flag = redut_sel
					set_sel_pmc_units = yes
					hidden_effect = {
						division_template = {
							name = "Redut PMC Battalion"
							regiments = {
								L_Inf_Bat = { x = 0 y = 0 }
								L_Inf_Bat = { x = 0 y = 1 }
								L_Inf_Bat = { x = 0 y = 2 }
								L_Inf_Bat = { x = 0 y = 3 }
								Arty_Bat = { x = 0 y = 4 }
								L_Inf_Bat = { x = 1 y = 0 }
								L_Inf_Bat = { x = 1 y = 1 }
								L_Inf_Bat = { x = 1 y = 2 }
								L_Inf_Bat = { x = 1 y = 3 }
								Arty_Bat = { x = 1 y = 4 }
							}
							support = {
								L_Recce_Comp = { x = 0 y = 0 }
								L_Engi_Comp = { x = 0 y = 1 }
							}
							priority = 2
						}
						random_owned_controlled_state = {
							limit = { ROOT = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Redut PMC Battalion\" division_template = \"Redut PMC Battalion\" start_experience_factor = 1.0"
								owner = ROOT
							}
						}
					}
					set_temp_variable = { treasury_change = -5.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						SOV = { country_event = pmc_events.2 }
					}
					SOV = { set_country_flag = redut_yes }
					activate_mission = pmc_redut
				}
				if = { limit = { check_variable = { v = 024 } }
					clr_country_pmc_flag = yes
					set_country_flag = gaz_sel
					set_sel_pmc_units = yes
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_gazprom_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_gazprom_idea
							days = 365
						}
					}
					hidden_effect = {
						division_template = {
							name = "Gazprom PMC Battalion"
							regiments = {
								L_Inf_Bat = { x = 0 y = 0 }
								L_Inf_Bat = { x = 0 y = 1 }
								L_Inf_Bat = { x = 0 y = 2 }
								L_Inf_Bat = { x = 0 y = 3 }
								L_Inf_Bat = { x = 1 y = 0 }
								L_Inf_Bat = { x = 1 y = 1 }
							}
							support = {
								L_Recce_Comp = { x = 0 y = 0 }
								L_Engi_Comp = { x = 0 y = 1 }
							}
							priority = 2
						}
						random_owned_controlled_state = {
							limit = { ROOT = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Gazprom PMC Battalion\" division_template = \"Gazprom PMC Battalion\" start_experience_factor = 0.3"
								owner = ROOT
							}
						}
					}
					set_temp_variable = { treasury_change = -5.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						SOV = { country_event = pmc_events.2 }
					}
					SOV = { set_country_flag = gazprom_yes }
					activate_mission = pmc_gazprom
				}
				if = { limit = { check_variable = { v = 025 } }
					clr_country_pmc_flag = yes
					set_country_flag = iron_sel
					set_sel_pmc_units = yes
					hidden_effect = {
						division_template = {
							name = "Iron Navy PMC Battalion"
							regiments = {
								L_Inf_Bat = { x = 0 y = 0 }
								L_Inf_Bat = { x = 0 y = 1 }
							}
							support = {
								L_Recce_Comp = { x = 0 y = 0 }
								L_Engi_Comp = { x = 0 y = 1 }
							}
							priority = 2
						}
						random_owned_controlled_state = {
							limit = { ROOT = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Iron Navy PMC Battalion\" division_template = \"Iron Navy PMC Battalion\" start_experience_factor = 0.1"
								owner = ROOT
							}
						}
					}
					set_temp_variable = { treasury_change = -1.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						EST = { country_event = pmc_events.6 }
					}
					EST = { set_country_flag = iron_yes }
					activate_mission = pmc_iron
				}
				if = { limit = { check_variable = { v = 026 } }
					clr_country_pmc_flag = yes
					set_country_flag = sheriff_sel
					set_sel_pmc_units = yes
					hidden_effect = {
						division_template = {
							name = "Sheriff PMC Battalion"
							regiments = {
								L_Inf_Bat = { x = 0 y = 0 }
								L_Inf_Bat = { x = 0 y = 1 }
							}
							support = {
								L_Recce_Comp = { x = 0 y = 0 }
								L_Engi_Comp = { x = 0 y = 1 }
							}
							priority = 2
						}
						random_owned_controlled_state = {
							limit = { ROOT = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Sheriff PMC Battalion\" division_template = \"Sheriff PMC Battalion\" start_experience_factor = 0.1"
								owner = ROOT
							}
						}
					}
					set_temp_variable = { treasury_change = -1.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						PMR = { country_event = pmc_events.6 }
					}
					PMR = { set_country_flag = sheriff_yes }
					activate_mission = pmc_sheriff
				}
				if = { limit = { check_variable = { v = 027 } }
					clr_country_pmc_flag = yes
					set_country_flag = lukoil_sel
					set_sel_pmc_units = yes
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_lukoil_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_lukoil_idea
							days = 365
						}
					}
					hidden_effect = {
						division_template = {
							name = "Lukoil PMC Battalion"
							regiments = {
								L_Inf_Bat = { x = 0 y = 0 }
								L_Inf_Bat = { x = 0 y = 1 }
								L_Inf_Bat = { x = 0 y = 2 }
								L_Inf_Bat = { x = 0 y = 3 }
								L_Inf_Bat = { x = 1 y = 0 }
								L_Inf_Bat = { x = 1 y = 1 }
							}
							support = {
								L_Recce_Comp = { x = 0 y = 0 }
								L_Engi_Comp = { x = 0 y = 1 }
							}
							priority = 2
						}
						random_owned_controlled_state = {
							limit = { ROOT = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Lukoil PMC Battalion\" division_template = \"Lukoil PMC Battalion\" start_experience_factor = 0.1"
								owner = ROOT
							}
						}
					}
					set_temp_variable = { treasury_change = -5.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						SOV = { country_event = pmc_events.2 }
					}
					SOV = { set_country_flag = lukoil_yes }
					activate_mission = pmc_lukoil
				}
				if = { limit = { check_variable = { v = 028 } }
					clr_country_pmc_flag = yes
					set_country_flag = rosneft_sel
					set_sel_pmc_units = yes
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_rosneft_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_rosneft_idea
							days = 365
						}
					}
					hidden_effect = {
						division_template = {
							name = "Rosneft PMC Battalion"
							regiments = {
								L_Inf_Bat = { x = 0 y = 0 }
								L_Inf_Bat = { x = 0 y = 1 }
								L_Inf_Bat = { x = 0 y = 2 }
								L_Inf_Bat = { x = 0 y = 3 }
								L_Inf_Bat = { x = 1 y = 0 }
								L_Inf_Bat = { x = 1 y = 1 }
							}
							support = {
								L_Recce_Comp = { x = 0 y = 0 }
								L_Engi_Comp = { x = 0 y = 1 }
							}
							priority = 2
						}
						random_owned_controlled_state = {
							limit = { ROOT = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Rosneft PMC Battalion\" division_template = \"Rosneft PMC Battalion\" start_experience_factor = 0.1"
								owner = ROOT
							}
						}
					}
					set_temp_variable = { treasury_change = -5.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						SOV = { country_event = pmc_events.2 }
					}
					SOV = { set_country_flag = rosneft_yes }
					activate_mission = pmc_rosneft
				}
				if = { limit = { check_variable = { v = 029 } }
					clr_country_pmc_flag = yes
					set_country_flag = sberbank_sel
					set_sel_pmc_units = yes
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_sberbank_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_sberbank_idea
							days = 365
						}
					}
					hidden_effect = {
						division_template = {
							name = "Sber PMC Battalion"
							regiments = {
								L_Inf_Bat = { x = 0 y = 0 }
								L_Inf_Bat = { x = 0 y = 1 }
								L_Inf_Bat = { x = 0 y = 2 }
								L_Inf_Bat = { x = 0 y = 3 }
								L_Inf_Bat = { x = 1 y = 0 }
								L_Inf_Bat = { x = 1 y = 1 }
							}
							support = {
								L_Recce_Comp = { x = 0 y = 0 }
								L_Engi_Comp = { x = 0 y = 1 }
							}
							priority = 2
						}
						random_owned_controlled_state = {
							limit = { ROOT = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Sber PMC Battalion\" division_template = \"Sber PMC Battalion\" start_experience_factor = 0.1"
								owner = ROOT
							}
						}
					}
					set_temp_variable = { treasury_change = -5.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						SOV = { country_event = pmc_events.2 }
					}
					SOV = { set_country_flag = sberbank_yes }
					activate_mission = pmc_sberbank
				}
				if = { limit = { check_variable = { v = 030 } }
					clr_country_pmc_flag = yes
					set_country_flag = vtb_sel
					set_sel_pmc_units = yes
					if = {
						limit = {
							OR = {
								has_idea = large_power
								has_idea = great_power
								has_idea = superpower
							}
						}
						add_timed_idea = {
							idea = pmc_vtb_idea1
							days = 365
						}
					}
					else = {
						add_timed_idea = {
							idea = pmc_vtb_idea
							days = 365
						}
					}
					hidden_effect = {
						division_template = {
							name = "Vtb PMC Battalion"
							regiments = {
								L_Inf_Bat = { x = 0 y = 0 }
								L_Inf_Bat = { x = 0 y = 1 }
								L_Inf_Bat = { x = 0 y = 2 }
								L_Inf_Bat = { x = 0 y = 3 }
								L_Inf_Bat = { x = 1 y = 0 }
								L_Inf_Bat = { x = 1 y = 1 }
							}
							support = {
								L_Recce_Comp = { x = 0 y = 0 }
								L_Engi_Comp = { x = 0 y = 1 }
							}
							priority = 2
						}
						random_owned_controlled_state = {
							limit = { ROOT = { has_full_control_of_state = PREV } }
							create_unit = {
								division = "name = \"Vtb PMC Battalion\" division_template = \"Vtb PMC Battalion\" start_experience_factor = 0.1"
								owner = ROOT
							}
						}
					}
					set_temp_variable = { treasury_change = -5.5 }
					modify_treasury_effect = yes
					hidden_effect = {
						SOV = { country_event = pmc_events.2 }
					}
					SOV = { set_country_flag = vtb_yes }
					activate_mission = pmc_vtb
				}
				if = { limit = { is_ai = yes }
					set_country_flag = {
						flag = ai_recent_pmc_select
						days = 120
					}
				}
				missile_ui_update = yes
			}
		}
	}

	international_state_unrecognized_countries_dynamic_lists = {
		context_type = player_context
		parent_scripted_gui = MD_UN_system_gui
		window_name = "IS_unrecognized_states_container"

		dirty = global.missile_ui_updated
		ai_enabled = { always = no }
		ai_test_interval = 168
		ai_max_weight_taken_per_test = 1

		visible = {
			check_variable = { var_open_MD_UN_gui = 2 }
			has_country_flag = open_MD_countrymissilesview
		}

		dynamic_lists = {
			list_of_unrecognized_states = {
				array = global.Unrecognised_States
				entry_container = IS_states_to_recognize_list
				ai_weights = {
					name_of_state_button_click = {
						ai_will_do = {
							factor = 1

							modifier = {
								add = 25
								var:ct_state_selected = { ROOT = { has_opinion = { target = PREV value  > 10 } } }
							}
							modifier = {
								add = 50
								var:ct_state_selected = { ROOT = { has_opinion = { target = PREV value  > 25 } } }
							}
							modifier = {
								add = 100
								var:ct_state_selected = { ROOT = { has_opinion = { target = PREV value  > 50 } } }
							}
							#dont select them if there is negative opinion
							modifier = {
								add = -100
								var:ct_state_selected = { ROOT = { has_opinion = { target = PREV value  < 0 } } }
							}
							#killswitch if a nation has recently picked a nation
							modifier = {
								factor = 0
								has_country_flag = state_swap_slow_flag
							}
						}
					}
				}
			}
		}

		triggers = {
			name_of_state_button_click_enabled = {
				NOT = { has_war_with = var:v }
			}
		}

		effects = {
			name_of_state_button_click = {
				set_variable = { open_state = v }
				set_country_flag = has_nation_selected
				if = { limit = { is_ai = yes }
					set_country_flag = {
						flag = state_swap_slow_flag
						days = 120
					}
				}
				missile_ui_update = yes
			}
		}
	}

	international_ct_orgs_dynamic_lists = {
		context_type = player_context
		parent_scripted_gui = MD_CT_system_gui
		window_name = "IS_CT_orgs_container"

		dirty = global.missile_ui_updated

		visible = {
			has_country_flag = open_MD_countrymissilesview
		}

		dynamic_lists = {
			CT_terror_orgs_list = {
				array = global.active_terror_orgs
				entry_container = IS_CT_org_list
			}
		}

		effects = {
			name_of_org_button_click = {
				set_variable = { selected_org = i }
				missile_ui_update = yes
			}
		}
	}
}
