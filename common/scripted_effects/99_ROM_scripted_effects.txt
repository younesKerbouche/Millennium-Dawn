ROM_anti_corruption_progress = {
	if = {
		limit = { has_idea = ROM_corruption_modifier }
		swap_ideas = {
			remove_idea = ROM_corruption_modifier add_idea = ROM_anti_corruption_fight
		}
	}
	else_if = {
		limit = { has_idea = ROM_anti_corruption_fight }
		swap_ideas = {
			remove_idea = ROM_anti_corruption_fight add_idea = ROM_anti_corruption_fight2
		}
	}
	else_if = {
		limit = { has_idea = ROM_anti_corruption_fight2 }
		swap_ideas = {
			remove_idea = ROM_anti_corruption_fight2 add_idea = ROM_anti_corruption_fight3
		}
	}
	else_if = {
		limit = { has_idea = ROM_anti_corruption_fight3 }
		swap_ideas = {
			remove_idea = ROM_anti_corruption_fight3 add_idea = ROM_anti_corruption_fight4
		}
	}
	else_if = {
		limit = { has_idea = ROM_anti_corruption_fight4 }
		swap_ideas = {
			remove_idea = ROM_anti_corruption_fight4 add_idea = ROM_anti_corruption_fight5
		}
	}
	else_if = {
		limit = { has_idea = ROM_anti_corruption_fight5 }
		swap_ideas = {
			remove_idea = ROM_anti_corruption_fight5 add_idea = ROM_transparent_state
		}
	}
}

ROM_corruption_increase = {
	if = {
		limit = { has_idea = ROM_corruption_modifier }
		swap_ideas = {
			remove_idea = ROM_corruption_modifier add_idea = ROM_corruption_entrenched
		}
	}
	else_if = {
		limit = { has_idea = ROM_corruption_entrenched }
		swap_ideas = {
			remove_idea = ROM_corruption_entrenched add_idea = ROM_corruption_entrenched2
		}
	}
	else_if = {
		limit = { has_idea = ROM_corruption_entrenched2 }
		swap_ideas = {
			remove_idea = ROM_corruption_entrenched2 add_idea = ROM_corruption_entrenched3
		}
	}
	else_if = {
		limit = { has_idea = ROM_corruption_entrenched3 }
		swap_ideas = {
			remove_idea = ROM_corruption_entrenched3 add_idea = ROM_corruption_entrenched4
		}
	}
	else_if = {
		limit = { has_idea = ROM_corruption_entrenched4 }
		swap_ideas = {
			remove_idea = ROM_corruption_entrenched4 add_idea = ROM_corruption_entrenched5
		}
	}
	else_if = {
		limit = { has_idea = ROM_corruption_entrenched5 }
		swap_ideas = {
			remove_idea = ROM_corruption_entrenched5 add_idea = ROM_kleptocratic_state_idea
		}
	}
}
ROM_random_ai = {
	hidden_effect = {
		if = {
			limit = {
				ROM = {
					is_ai = yes
				}
			}
			if = {
				limit = {
					has_global_flag = ROM_FASCIST
				}
				if = {
					limit = { NOT = { is_in_array = { ruling_party = 20 } } }
					set_temp_variable = { rul_party_temp = 20 }
					change_ruling_party_effect = yes
					set_politics = {
						ruling_party = nationalist
						elections_allowed = yes
					}
				}
				set_temp_variable = { party_index = 20 }
				set_temp_variable = { party_popularity_increase = 0.35 }
				set_temp_variable = { temp_outlook_increase = 0.35 }
				add_relative_party_popularity = yes
			}
			if = {
				limit = {
					has_global_flag = ROM_CENTER
				}
				random_list = {
					50 = {
						if = {
							limit = { NOT = { is_in_array = { ruling_party = 18 } } }
							set_temp_variable = { rul_party_temp = 18 }
							change_ruling_party_effect = yes
							set_politics = {
								ruling_party = neutrality
								elections_allowed = yes
							}
						}
						set_temp_variable = { party_index = 18 }
						set_temp_variable = { party_popularity_increase = 0.35 }
						set_temp_variable = { temp_outlook_increase = 0.35 }
						add_relative_party_popularity = yes
					}
					50 = {
						if = {
							limit = { NOT = { is_in_array = { ruling_party = 14 } } }
							set_temp_variable = { rul_party_temp = 14 }
							change_ruling_party_effect = yes
							set_politics = {
								ruling_party = neutrality
								elections_allowed = yes
							}
						}
						set_temp_variable = { party_index = 14 }
						set_temp_variable = { party_popularity_increase = 0.35 }
						set_temp_variable = { temp_outlook_increase = 0.35 }
						add_relative_party_popularity = yes
					}
				}
			}
			if = {
				limit = {
					has_global_flag = ROM_DEMOCRATIC
				}
				random_list = {
					50 = {
						if = {
							limit = { NOT = { is_in_array = { ruling_party = 2 } } }
							set_temp_variable = { rul_party_temp = 2 }
							change_ruling_party_effect = yes
							set_politics = {
								ruling_party = democratic
								elections_allowed = yes
							}
						}
						set_temp_variable = { party_index = 2 }
						set_temp_variable = { party_popularity_increase = 0.35 }
						set_temp_variable = { temp_outlook_increase = 0.35 }
						add_relative_party_popularity = yes
					}
					50 = {
						if = {
							limit = { NOT = { is_in_array = { ruling_party = 3 } } }
							set_temp_variable = { rul_party_temp = 3 }
							change_ruling_party_effect = yes
							set_politics = {
								ruling_party = democratic
								elections_allowed = yes
							}
						}
						set_temp_variable = { party_index = 3 }
						set_temp_variable = { party_popularity_increase = 0.35 }
						set_temp_variable = { temp_outlook_increase = 0.35 }
						add_relative_party_popularity = yes
					}
				}
			}
		}
	}
}

