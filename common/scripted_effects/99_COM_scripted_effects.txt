# Author(s): AngriestBird
# Focus Tree Effects
COM_establish_naval_base_effect = {
	country_event = comoros.7
	newline = yes
	custom_effect_tooltip = TT_IF_THEY_ACCEPT
	effect_tooltip = {
		if = { limit = { NOT = { has_guaranteed = COM } }
			give_guarantee = COM
		}
		if = { limit = { NOT = { has_military_access_to = COM } }
			COM = { give_military_access = PREV }
		}
		diplomatic_relation = {
			country = COM
			relation = docking_rights
			active = yes
		}
		set_temp_variable = { percent_change = 4 }
		set_temp_variable = { tag_index = THIS }
		set_temp_variable = { influence_target = COM }
		change_influence_percentage = yes

		set_temp_variable = { treasury_change = -5 }
		modify_treasury_effect = yes
		COM = {
			set_temp_variable = { treasury_change = 5 }
			modify_treasury_effect = yes
			if = {
				limit = { PREV = { original_tag = CHI } }
				add_ideas = COM_naval_treaty_with_china_idea
			}
			if = {
				limit = { PREV = { original_tag = FRA } }
				add_ideas = COM_naval_treaty_with_france_idea
			}
		}
	}
}

# Constitutional Referendum
COM_change_federalist_constitutionalist_support_effect = {
	custom_effect_tooltip = COM_change_federalist_constitutionalist_support_effect_tt
	add_to_variable = { COM_federalist_constitutional_support = temp_change }
}

COM_change_anti_federalist_constitutionalist_support_effect = {
	custom_effect_tooltip = COM_change_anti_federalist_constitutionalist_support_effect_tt
	add_to_variable = { COM_anti_federalist_constitutional_support = temp_change }
}

# Mahoran Referendum

COM_mayotte_referendum_independence_effect = {
	custom_effect_tooltip = COM_mayotte_referendum_independence_effect_tt
	add_to_variable = { COM.mayotte_referendum_independence = temp_change }
}
COM_mayotte_referendum_france_effect = {
	custom_effect_tooltip = COM_mayotte_referendum_france_effect_tt
	add_to_variable = { FRA.mayotte_referendum_france = temp_change }
}
COM_mayotte_referendum_comoros_effect = {
	custom_effect_tooltip = COM_mayotte_referendum_comoros_effect_tt
	add_to_variable = { COM.mayotte_referendum_comoros = temp_change }
}

# Ag Districts
COM_update_agricultural_development_ideas = {
	if = {
		limit = { has_idea = COM_agricultural_developments_idea }
		swap_ideas = {
			remove_idea = COM_agricultural_developments_idea
			add_idea = COM_agricultural_developments_1_idea
		}
	}
	else_if = {
		limit = { has_idea = COM_agricultural_developments_1_idea }
		swap_ideas = {
			remove_idea = COM_agricultural_developments_1_idea
			add_idea = COM_agricultural_developments_2_idea
		}
	}
	else_if = {
		limit = { has_idea = COM_agricultural_developments_2_idea }
		swap_ideas = {
			remove_idea = COM_agricultural_developments_2_idea
			add_idea = COM_agricultural_developments_3_idea
		}
	}
	else = {
		add_ideas = COM_agricultural_developments_idea
	}
}