create_religion_pie_chart = {
	clear_array = religion_chart
	resize_array = {
		array = religion_chart
		value = 1
		size = 100
	}

	# ISLAM
		#sunni
		#shia
		#sufi
		#ibadi
	# CHRISTIAN
		#christian
		#orthodox
	#pluralist
	#buddhism
	#hindu
	#judaism
	#shinto
	#cheondo
	#secular
	#traditional african


	set_temp_variable = { islam_predominance = ROOT.islam_percent }
	multiply_temp_variable = { islam_predominance = 100 }
	round_temp_variable = islam_predominance


}

# Effect: configure_religious_setup
# Purpose: Configures religious ideas setup
# Parameters:
#   - nation_to_copy_from - The nation to copy from
configure_religious_setup = {
	var:nation_to_copy_from = {
		if = { limit = { has_idea = sunni }
			PREV = { add_ideas = sunni }
		}
		else_if = {
			limit = { has_idea = shia }
			PREV = { add_ideas = shia }
		}
		else_if = {
			limit = { has_idea = sufi_islam }
			PREV = { add_ideas = sufi_islam }
		}
		else_if = {
			limit = { has_idea = ibadi }
			PREV = { add_ideas = ibadi }
		}
		else_if = {
			limit = { has_idea = christian }
			PREV = { add_ideas = christian }
		}
		else_if = {
			limit = { has_idea = orthodox_christian }
			PREV = { add_ideas = orthodox_christian }
		}
		else_if = {
			limit = { has_idea = buddism }
			PREV = { add_ideas = buddism }
		}
		else_if = {
			limit = { has_idea = hindu }
			PREV = { add_ideas = hindu }
		}
		else_if = {
			limit = { has_idea = judaism }
			PREV = { add_ideas = judaism }
		}
		else_if = {
			limit = { has_idea = shinto }
			PREV = { add_ideas = shinto }
		}
		else_if = {
			limit = { has_idea = cheondo }
			PREV = { add_ideas = cheondo }
		}
		else_if = {
			limit = { has_idea = uniate_church }
			PREV = { add_ideas = uniate_church }
		}
		else_if = {
			limit = { has_idea = zoroastrian }
			PREV = { add_ideas = zoroastrian }
		}
		else = {
			PREV = { add_ideas = pluralist }
		}
	}
}
