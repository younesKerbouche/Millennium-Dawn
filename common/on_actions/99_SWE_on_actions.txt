on_actions = {
	on_monthly_SWE = {
		effect = {
			if = { limit = { has_country_flag = SWE_Crypto_invest }
				if = {
					limit = {
						has_war = yes
						has_stability < 0.5
					}
					set_variable = { SWE_Crypto_income_effect = 0 }
				}
				else_if = {
					limit = {
						has_stability > 0.5
					}
					random_list = {
						5 = {
							modifier = {
								factor = 3
								has_idea = depression
							}
							modifier = {
								factor = 2
								has_idea = recession
							}
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = -0.01 }
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
						50 = {
							modifier = {
								factor = 1.25
								has_idea = stagnation
							}
							set_variable = { SWE_Crypto_income_effect = 0 }
						}
						20 = {
							set_variable = { SWE_Crypto_income_effect = SWE.int_investments }
							multiply_variable = { SWE_Crypto_income_effect = 0.01 }
							add_to_variable = { additional_income_rate = SWE_Crypto_income_effect }
						}
					}
				}
			}
			### Swedish BOP effects ###
			if = {
				limit = { threat > 0.3 }

				# Western countries
				set_temp_variable = { temp_country = USA }
				set_temp_variable = { temp_change = 1 }
				SWE_check_western_alignment = yes
				set_temp_variable = { temp_country = ENG }
				SWE_check_western_alignment = yes
				set_temp_variable = { temp_country = GER }
				SWE_check_western_alignment = yes
				set_temp_variable = { temp_country = FRA }
				SWE_check_western_alignment = yes

				# Eastern countries
				set_temp_variable = { temp_country = SOV }
				set_temp_variable = { temp_change = 2 }
				SWE_check_eastern_alignment = yes
				set_temp_variable = { temp_country = CHI }
				SWE_check_eastern_alignment = yes
			}

			if = {
				limit = { threat > 0.5 }

				# Western countries
				set_temp_variable = { temp_country = USA }
				set_temp_variable = { temp_change = 1 }
				SWE_check_western_alignment = yes
				set_temp_variable = { temp_country = ENG }
				SWE_check_western_alignment = yes
				set_temp_variable = { temp_country = GER }
				SWE_check_western_alignment = yes
				set_temp_variable = { temp_country = FRA }
				SWE_check_western_alignment = yes

				# Eastern countries
				set_temp_variable = { temp_country = SOV }
				set_temp_variable = { temp_change = 2 }
				SWE_check_eastern_alignment = yes
				set_temp_variable = { temp_country = CHI }
				SWE_check_eastern_alignment = yes
			}

			if = {
				limit = { threat > 0.70 }

				# Western countries
				set_temp_variable = { temp_country = USA }
				set_temp_variable = { temp_change = 1 }
				SWE_check_western_alignment = yes
				set_temp_variable = { temp_country = ENG }
				SWE_check_western_alignment = yes
				set_temp_variable = { temp_country = GER }
				SWE_check_western_alignment = yes
				set_temp_variable = { temp_country = FRA }
				SWE_check_western_alignment = yes

				# Eastern countries
				set_temp_variable = { temp_country = SOV }
				set_temp_variable = { temp_change = 2 }
				SWE_check_eastern_alignment = yes
				set_temp_variable = { temp_country = CHI }
				SWE_check_eastern_alignment = yes
			}
			# Influencer Monthly Tick for BOP when 40% threat or more
			if = { limit = { threat > 40 }
				if = {
					limit = {
						set_temp_variable = { temp_country = SOV.id }
						is_top3_thirty_influencer_var = yes
					}
					add_power_balance_value = { id = SWE_balance_of_power value = 0.02 }
				}
				if = {
					limit = {
						set_temp_variable = { temp_country = CHI.id }
						is_top3_thirty_influencer_var = yes
					}
					add_power_balance_value = { id = SWE_balance_of_power value = 0.02 }
				}
				if = {
					limit = {
						set_temp_variable = { temp_country = USA.id }
						is_top3_thirty_influencer_var = yes
					}
					add_power_balance_value = { id = SWE_balance_of_power value = -0.01 }
				}
				if = {
					limit = {
						set_temp_variable = { temp_country = FRA.id }
						is_top3_thirty_influencer_var = yes
					}
					add_power_balance_value = { id = SWE_balance_of_power value = -0.01 }
				}
				if = {
					limit = {
						set_temp_variable = { temp_country = ENG.id }
						is_top3_thirty_influencer_var = yes
					}
					add_power_balance_value = { id = SWE_balance_of_power value = -0.01 }
				}
				if = {
					limit = {
						set_temp_variable = { temp_country = GER.id }
						is_top3_thirty_influencer_var = yes
					}
					add_power_balance_value = { id = SWE_balance_of_power value = -0.01 }
				}
			}
		}
	}
}
