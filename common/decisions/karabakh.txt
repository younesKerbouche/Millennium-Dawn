karabakh_decisions_category = {
	NKR_armenia_send_nkr_guns = {
		icon = GFX_decision_ISR_military_button
		days_remove = 150
		visible = {
			original_tag = ARM
		}
		available = {
			has_equipment = {
				Inf_equipment > 1000
			}
			NOT = {
				has_war = yes
			}
			country_exists = NKR
			country_exists = ARM
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NKR_armenia_send_nkr_guns"
			add_equipment_to_stockpile = {
				type = infantry_weapons
				amount = -1000
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NKR_armenia_send_nkr_guns"
			NKR = {
				add_equipment_to_stockpile = {
					type = infantry_weapons
					amount = 1000
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	NKR_attack_stepanakert = {
		icon = GFX_decision_arm_kalash_button
		days_remove = 10

		visible = {
			has_country_flag = gu_stepanakert_select
		}

		available = {
			NOT = {
				has_country_flag = attack_recent_was
			}
			if = {
				limit = {
					original_tag = ARM
				}
				OR = {
					has_government = nationalist
					has_idea = intervention_regional_interventionism
					has_idea = intervention_global_interventionism
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NKR_attack_stepanakert"
			add_threat = 1.5
			set_country_flag = {
				flag = attack_recent_was
				days = 200
				value = 1
			}
			if = {
				limit = {
					original_tag = ARM
				}
				AZE = {
					country_event = karabakh.1
				}
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = 710
						num_provinces = 1
						on_win = karabakh.2
						on_lose = karabakh.3
						on_cancel = karabakh.4
						dig_in_factor = 1
						terrain_factor = 1
					}
					defender = {
						state = 712
						num_provinces = 1
						on_win = karabakh.3
						on_lose = karabakh.2
						on_cancel = karabakh.4
					}
				}
			}
			if = {
				limit = {
					original_tag = AZE
				}
				ARM = {
					country_event = karabakh.5
				}
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = 712
						num_provinces = 1
						on_win = karabakh.6
						on_lose = karabakh.7
						on_cancel = karabakh.4
						dig_in_factor = 1
						terrain_factor = 1
					}
					defender = {
						state = 710
						num_provinces = 1
						on_win = karabakh.7
						on_lose = karabakh.6
						on_cancel = karabakh.4
					}
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	NKR_attack_karvachar = {
		icon = GFX_decision_arm_kalash_button
		days_remove = 10
		visible = {
			has_country_flag = gu_karvachar_select
		}
		available = {
			NOT = {
				has_country_flag = attack_recent_was
			}
			if = {
				limit = {
					original_tag = ARM
				}
				OR = {
					has_government = nationalist
					has_idea = intervention_regional_interventionism
					has_idea = intervention_global_interventionism
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NKR_attack_karvachar"
			add_threat = 1.5
			set_country_flag = {
				flag = attack_recent_was
				days = 200
				value = 1
			}
			if = {
				limit = {
					original_tag = ARM
				}
				AZE = {
					country_event = karabakh.1
				}
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = 1036
						num_provinces = 1
						on_win = karabakh.2
						on_lose = karabakh.3
						on_cancel = karabakh.4
						dig_in_factor = 1
						terrain_factor = 1
					}
					defender = {
						state = 712
						num_provinces = 1
						on_win = karabakh.3
						on_lose = karabakh.2
						on_cancel = karabakh.4
					}
				}
			}
			if = {
				limit = {
					original_tag = AZE
				}
				ARM = {
					country_event = karabakh.5
				}
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = 712
						num_provinces = 1
						on_win = karabakh.6
						on_lose = karabakh.7
						on_cancel = karabakh.4
						dig_in_factor = 1
						terrain_factor = 1
					}
					defender = {
						state = 1036
						num_provinces = 1
						on_win = karabakh.7
						on_lose = karabakh.6
						on_cancel = karabakh.4
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	NKR_attack_hadrut = {
		icon = GFX_decision_arm_kalash_button
		days_remove = 10
		visible = {
			has_country_flag = gu_hadrut_select
		}

		available = {
			NOT = {
				has_country_flag = attack_recent_was
			}
			if = {
				limit = {
					original_tag = ARM
				}
				OR = {
					has_government = nationalist
					has_idea = intervention_regional_interventionism
					has_idea = intervention_global_interventionism
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NKR_attack_hadrut"
			add_threat = 1.5
			set_country_flag = {
				flag = attack_recent_was
				days = 200
				value = 1
			}
			if = {
				limit = {
					original_tag = ARM
				}
				AZE = {
					country_event = karabakh.1
				}
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = 1037
						num_provinces = 1
						on_win = karabakh.2
						on_lose = karabakh.3
						on_cancel = karabakh.4
						dig_in_factor = 1
						terrain_factor = 1
					}
					defender = {
						state = 712
						num_provinces = 1
						on_win = karabakh.3
						on_lose = karabakh.2
						on_cancel = karabakh.4
					}
				}
			}
			if = {
				limit = {
					original_tag = AZE
				}
				ARM = {
					country_event = karabakh.5
				}
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = 712
						num_provinces = 1
						on_win = karabakh.6
						on_lose = karabakh.7
						on_cancel = karabakh.4
						dig_in_factor = 1
						terrain_factor = 1
					}
					defender = {
						state = 1037
						num_provinces = 1
						on_win = karabakh.7
						on_lose = karabakh.6
						on_cancel = karabakh.4
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	NKR_conduct_drone_recon = {
		icon = GFX_decision_arm_drone_button
		days_remove = 10
		visible = {
			OR = {
				has_country_flag = gu_hadrut_select
				has_country_flag = gu_karvachar_select
				has_country_flag = gu_stepanakert_select
			}
		}
		available = {
			NOT = {
				has_country_flag = drone_recent_was
			}
			has_tech = land_Drone_equipment
			custom_trigger_tooltip = {
				tooltip = incres_tech_incr_succ_tt
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NKR_conduct_drone_recon"
			add_threat = 1.5
			set_country_flag = {
				flag = drone_recent_was
				days = 200
				value = 1
			}
			if = {
				limit = {
					original_tag = ARM
				}
				random_list = {
					60 = {
						country_event = karabakh.8
					}
					40 = {
						country_event = karabakh.9
					}
				}
			}
			if = {
				limit = {
					original_tag = AZE
				}
				random_list = {
					60 = {
						country_event = karabakh.8
					}
					40 = {
						country_event = karabakh.9
					}
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	#######NEGOTIATIONS
	NKR_armenia_first_posistion = {
		icon = GFX_decision_arm_azearm_button
		days_remove = 15
		cost = 75

		visible = {
			original_tag = ARM
			NOT = {
				has_country_flag = gu_first_stage
				has_country_flag = gu_second_stage
				has_country_flag = gu_third_stage
			}
		}

		available = {
			NOT = {
				has_war = yes
			}
			country_exists = NKR
			country_exists = AZE
			NOT = {
				has_country_flag = negot_recent_was
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NKR_armenia_first_posistion"
			country_event = karabakh.10
		}

		ai_will_do = {
			factor = 1
		}
	}
	NKR_armenia_second_posistion = {
		icon = GFX_decision_arm_azearm_button
		days_remove = 15
		cost = 75

		visible = {
			original_tag = AZE
			has_country_flag = gu_first_stage
			NOT = {
				has_country_flag = gu_second_stage
				has_country_flag = gu_third_stage
			}
		}

		available = {
			NOT = {
				has_war = yes
			}
			country_exists = NKR
			country_exists = ARM
			NOT = {
				has_country_flag = negot_recent_was
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NKR_armenia_second_posistion"
			country_event = karabakh.14
		}

		ai_will_do = {
			factor = 1
		}
	}
	NKR_armenia_third_posistion = {
		icon = GFX_decision_arm_azearm_button
		days_remove = 15
		cost = 75


		visible = {
			original_tag = AZE
			has_country_flag = gu_second_stage
			NOT = {
				has_country_flag = gu_third_stage
			}
		}

		available = {
			NOT = {
				has_war = yes
			}
			country_exists = NKR
			country_exists = ARM
			NOT = {
				has_country_flag = negot_recent_was
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NKR_armenia_third_posistion"
			country_event = karabakh.17
		}

		ai_will_do = {
			factor = 1
		}
	}

	NKR_armenia_fourth_posistion = {
		icon = GFX_decision_arm_azearm_button
		days_remove = 15
		cost = 75


		visible = {
			original_tag = AZE
			has_country_flag = gu_third_stage
		}

		available = {
			NOT = {
				has_war = yes
			}
			country_exists = NKR
			country_exists = ARM
			NOT = {
				has_country_flag = negot_recent_was
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: NKR_armenia_fourth_posistion"
			country_event = karabakh.17
		}

		ai_will_do = {
			factor = 1
		}
	}

	NKR_armenia_annex_nkr = {
		icon = GFX_decision_category_armenia_nkr
		days_remove = 15
		fire_only_once = yes
		cost = 100


		visible = {
			original_tag = ARM
		}

		available = {
			NOT = {
				has_war = yes
			}
			country_exists = NKR
			country_exists = ARM
			OR = {
				has_government = nationalist
				has_idea = intervention_regional_interventionism
				has_idea = intervention_global_interventionism
				NOT = {
					country_exists = AZE
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: NKR_armenia_annex_nkr"
			add_country_leader_trait = ARM_united_armenians_trait
			set_country_flag = karabakh_regulated_flag
			annex_country = {
				target = NKR
				transfer_troops = yes
			}
			if = {
				limit = {
					country_exists = AZE
				}
				effect_tooltip = {
					declare_war_on = {
						target = AZE
						type = puppet_wargoal_focus
					}
				}
				AZE = {
					set_country_flag = karabakh_regulated_flag
					country_event = karabakh.24
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	NKR_azer_attack_nkr = {
		icon = GFX_decisions_war_campaign_button
		days_remove = 15
		fire_only_once = yes
		custom_cost_trigger = {
			command_power > 100
		}
		custom_cost_text = command_power_more_than_100

		visible = {
			original_tag = AZE
			country_exists = NKR
		}

		available = {
			NOT = {
				has_war = yes
				has_country_flag = negot_recent_was
			}
			country_exists = NKR
			OR = {
				has_added_tension_amount > 5
				has_idea = intervention_regional_interventionism
				has_idea = intervention_global_interventionism
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: NKR_azer_attack_nkr"
			add_political_power = -100
			news_event = karabakh_news.3
			set_country_flag = karabakh_regulated_flag
			NKR = {
				declare_war_on = {
					target = AZE
					type = puppet_wargoal_focus
				}
			}
			if = {
				limit = {
					country_exists = ARM
				}
				ARM = {
					set_country_flag = karabakh_regulated_flag
				}
			}
			hidden_effect = {
				SOV = {
					country_event = { id = karabakh.25 days = 42 }
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
}