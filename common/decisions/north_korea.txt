NKO_united_front_department = {
	NKO_close_kaesong_industrial_park = {
		cost = 200
		days_remove = 30
		days_re_enable = 365
		icon = GFX_decision_nko_unite_korea_button
		visible = {
			has_idea = NKO_kaesong_industrial_park
		}

		highlight_states = {
			highlight_states_trigger = {
				state = 603
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove closed_kaesong "
			set_country_flag = closed_kaesong
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			change_the_military_opinion = yes
			KOR = {
				remove_opinion_modifier = {
					target = NKO
					modifier = kaesong_industrial_park
				}
				support_for_reunification_2_less = yes
				remove_ideas = KOR_kaesong_industrial_park
			}
			NKO = {
				remove_opinion_modifier = {
					target = KOR
					modifier = kaesong_industrial_park
				}
				remove_ideas = NKO_kaesong_industrial_park
			}
		}
		ai_will_do = {
			factor = 0
		}
	}

	NKO_reopen_kaesong_industrial_park = {
		icon = GFX_decision_nko_unite_korea_button
		cost = 200
		days_remove = 30
		days_re_enable = 365

		visible = {
			has_country_flag = closed_kaesong
		}

		highlight_states = {
			highlight_states_trigger = {
				state = 603
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove closed_kaesong "
			clr_country_flag = closed_kaesong
			set_temp_variable = { temp_opinion = -5 }
			change_communist_cadres_opinion = yes
			change_the_military_opinion = yes
			KOR = {
				add_opinion_modifier = {
					target = NKO
					modifier = kaesong_industrial_park
				}
				support_for_reunification_2 = yes
				add_ideas = KOR_kaesong_industrial_park
			}
			NKO = {
				add_opinion_modifier = {
					target = KOR
					modifier = kaesong_industrial_park
				}
				add_ideas = NKO_kaesong_industrial_park
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

	NKO_restart_peace_talks = {
		icon = GFX_decision_nko_unite_korea_button
		days_remove = 30
		days_re_enable = 365
		cost = 200
		visible = {
			always = yes
		}

		highlight_states = {
			highlight_states_trigger = {
				state = 603
			}
		}

		available = {
			has_country_flag = NKO_peace_talks_failed
			NOT = { has_war_with = KOR }
			country_exists = KOR
			KOR = {
				has_opinion = {
					target = NKO
					value > -51
				}
			}

			OR = {
				KOR = { KOR_has_progressive_government = yes }
				KOR = {
					custom_trigger_tooltip = {
						tooltip = KOR_democratic_party_governing_tt
						is_in_array = { ruling_party = 3 }
					}
				}
				NKO = { has_government = democratic }
				NKO = { has_government = neutrality }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_reunification_talks_failed "
			clr_country_flag = NKO_peace_talks_failed
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Country Event Korea.33 "

			KOR = {
				country_event = {
					id = korea.33
				}
			}
		}
	}

	NKO_propose_north_led_reunification_decision = {
		icon = GFX_decision_nko_unite_korea_button
		cost = 200
		days_remove = 30
		days_re_enable = 365
		highlight_states = {
			highlight_states_trigger = {
				state = 603
			}
		}

		visible = {
			always = yes

		}

		available = {
			has_completed_focus = NKO_propose_north_led_unification
			NOT = { has_war_with = KOR }
			country_exists = KOR
			KOR = {
				has_opinion = {
					target = NKO
					value > -26
				}
			}

			OR = {
				KOR = { KOR_has_progressive_government = yes }
				KOR = {
					custom_trigger_tooltip = {
						tooltip = KOR_democratic_party_governing_tt
						is_in_array = { ruling_party = 3 }
					}
				}
				NKO = { has_government = democratic }
				NKO = { has_government = neutrality }
			}
			custom_trigger_tooltip = {
				tooltip = NKO_KOR_Koren_War_Ceasefire_tt
				NOT = { has_opinion_modifier = NKO_KOR_Koren_War_Ceasefire }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_reunification_talks_failed ,  add NKO_proposed_unity_reunification"

			clr_country_flag = NKO_reunification_talks_failed
			set_country_flag = NKO_proposed_north_reunification
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Country Event Korea.34 "
			KOR = {
				country_event = {
					id = korea.34
				}
			}
		}

	}

}
###########ARDUOUS MARCH MECHANIC DECISIONS###########
NKO_Arduous_March = {
	#Send Citizens to Countryside
	NKO_medicine_relief = {
		icon = GFX_decision_nko_medicine_relief_button
		days_remove = 100
		days_re_enable = 45
		visible = {
			has_completed_focus = NKO_healthcare_reform
			NOT = { has_country_flag = NKO_international_assistance_active }
			NOT = { has_country_flag = NKO_accept_money_active }
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision add NKO_medicine_relief_active"
			add_political_power = -25
			random_owned_state = {
				add_manpower = 2000
			}
			set_country_flag = NKO_medicine_relief_active
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_medicine_relief_active"
			clr_country_flag = NKO_medicine_relief_active
		}
		modifier = {
			research_speed_factor = 0.1
			political_power_factor = 0.05
		}
		ai_will_do = {
			factor = 300
			modifier = {
				check_variable = {
					var = treasury
					value = 6
					compare = greater_than_or_equals
				}
				factor = 0
			}
		}
	}
	NKO_accept_money = {
		icon = GFX_decision_bancru_ask_button
		days_remove = 10
		fire_only_once = yes
		visible = {
			has_completed_focus = NKO_punish_corruption
			NOT = { has_country_flag = NKO_international_assistance_active }
			NOT = { has_country_flag = NKO_medicine_relief_active }
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision add NKO_accept_money"
			add_political_power = -25
			set_temp_variable = { treasury_change = 3 }
			modify_treasury_effect = yes
			set_country_flag = NKO_accept_money_active
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_accept_money"

			clr_country_flag = NKO_accept_money_active
		}
		ai_will_do = {
			factor = 300
			modifier = {
				check_variable = { var = treasury value = 6 compare = greater_than_or_equals }
				factor = 0
			}
		}
	}
	NKO_build_factory1 = {
		icon = GFX_decision_nko_build_factory_button
		days_remove = 150
		days_re_enable = 1
		visible = {
			always = no
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_build_factory1"
			add_political_power = -50
			one_random_industrial_complex = yes
		}
		ai_will_do = {
			factor = 300
			modifier = {
				check_variable = { var = treasury value = 6 compare = greater_than_or_equals }
				factor = 0
			}
		}
	}
	# Request International Assistance
	NKO_international_assistance = {
		icon = GFX_decision_nkp_international_assistance_button
		days_remove = 90
		days_re_enable = 45
		visible = {
			has_completed_focus = NKO_humanitarian_aid
			NOT = { has_country_flag = NKO_accept_money_active }
			NOT = { has_country_flag = NKO_medicine_relief_active }
		}
		available = {
			OR = {
				USA = {
					has_opinion = {
						target = FROM
						value > -6
					}
				}
				SOV = {
					has_opinion = {
						target = FROM
						value > -6
					}
				}
				ENG = {
					has_opinion = {
						target = FROM
						value > -6
					}
				}
				FRA = {
					has_opinion = {
						target = FROM
						value > -6
					}
				}
				CHI = {
					has_opinion = {
						target = FROM
						value > -6
					}
				}
				GER = {
					has_opinion = {
						target = FROM
						value > -6
					}
				}
				BRA = {
					has_opinion = {
						target = FROM
						value > -6
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision add NKO_international_assistance_active"
			add_political_power = -25
			set_country_flag = NKO_international_assistance_active
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_international_assistance_active"

			clr_country_flag = NKO_international_assistance_active
		}
		modifier = {
			monthly_population = 0.07
			population_tax_income_multiplier_modifier = 0.05
		}
		ai_will_do = {
			factor = 300
		}
	}
	NKO_resource_extraction = {
		icon = GFX_decision_nko_resource_extraction_button
		cost = 150
		days_remove = 180
		days_re_enable = 180
		fixed_random_seed = no
		visible = {
			has_completed_focus = NKO_modern_mining_operations
			emerging_communist_state_are_in_power = yes
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BNKO_resource_extraction"
			set_temp_variable = { treasury_change = -20 }
			modify_treasury_effect = yes
			random_owned_state = {
				random_list = {
					10 = {
						add_resource = {
							type = aluminium
							amount = 1
						}
					}
					10 = {
						add_resource = {
							type = steel
							amount = 1
						}
					}
					10 = {
						add_resource = {
							type = oil
							amount = 1
						}
					}
					10 = {
						add_resource = {
							type = rubber
							amount = 1
						}
					}
					10 = {
						add_resource = {
							type = tungsten
							amount = 1
						}
					}
					10 = {
						add_resource = {
							type = chromium
							amount = 1
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 10
		}
	}
}


###########POWER STRUGGLE MECHANIC DECISIONS###########
NKO_Power_struggle = {
	Kim_Jong_Nam_support = {
		icon = GFX_decision_nko_nam_support_button
		cost = 100
		days_remove = 60
		fixed_random_seed = no
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: add NKO_2_5_increase_Kim_Jong_Nam_tt "

			custom_effect_tooltip = NKO_2_5_increase_Kim_Jong_Nam_tt
			hidden_effect = {
				random_list = {
					50 = {
						add_to_variable = {
						 	var = Kim_Jong_Nam
							value = 2
						}
						clamp_variable = {
							var = Kim_Jong_Nam
							min = 0
							max = 100
						}
			 			subtract_from_variable = {
							var = Kim_Jong_un
							value = 2
						}
						clamp_variable = {
							var = Kim_Jong_un
							min = 0
							max = 100
						}
					}
					30 = {
						add_to_variable = {
						 	var = Kim_Jong_Nam
							value = 3
						}
						clamp_variable = {
							var = Kim_Jong_Nam
							min = 0
							max = 100
						}
			 			subtract_from_variable = {
							var = Kim_Jong_un
							value = 3
						}
						clamp_variable = {
							var = Kim_Jong_un
							min = 0
							max = 100
						}
					}
					15 = {
						add_to_variable = {
						 	var = Kim_Jong_Nam
							value = 4
						}
						clamp_variable = {
							var = Kim_Jong_Nam
							min = 0
							max = 100
						}
			 			subtract_from_variable = {
							var = Kim_Jong_un
							value = 4
						}
						clamp_variable = {
							var = Kim_Jong_un
							min = 0
							max = 100
						}
					}
					5 = {
						add_to_variable = {
						 	var = Kim_Jong_Nam
							value = 5
						}
						clamp_variable = {
							var = Kim_Jong_Nam
							min = 0
							max = 100
						}
			 			subtract_from_variable = {
							var = Kim_Jong_un
							value = 5
						}
						clamp_variable = {
							var = Kim_Jong_un
							min = 0
							max = 100
						}
					}
				}
			}
		}
	}

	Kim_Jong_un_support = {
		icon = GFX_decision_nko_un_support_button
		days_remove = 60
		fixed_random_seed = no
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: add NKO_2_5_increase_Kim_Jong_Nam_tt "
			add_political_power = -100
			custom_effect_tooltip = NKO_2_5_increase_Kim_Jong_un_tt
			hidden_effect = {
				random_list = {
					50 = {
						add_to_variable = { var = Kim_Jong_un value = 2 }
						clamp_variable = { var = Kim_Jong_un min = 0 max = 100 }
			 			subtract_from_variable = { var = Kim_Jong_Nam value = 2 }
						clamp_variable = { var = Kim_Jong_Nam min = 0 max = 100 }
					}
					30 = {
						add_to_variable = { var = Kim_Jong_un value = 3 }
						clamp_variable = { var = Kim_Jong_un min = 0 max = 100 }
			 			subtract_from_variable = { var = Kim_Jong_Nam value = 3 }
						clamp_variable = { var = Kim_Jong_Nam min = 0 max = 100 }
					}
					15 = {
						add_to_variable = { var = Kim_Jong_un value = 4 }
						clamp_variable = { var = Kim_Jong_un min = 0 max = 100 }
			 			subtract_from_variable = { var = Kim_Jong_Nam value = 4 }
						clamp_variable = { var = Kim_Jong_Nam min = 0 max = 100 }
					}
					5 = {
						add_to_variable = { var = Kim_Jong_un value = 5 }
						clamp_variable = { var = Kim_Jong_un min = 0 max = 100 }
			 			subtract_from_variable = { var = Kim_Jong_Nam value = 5 }
						clamp_variable = { var = Kim_Jong_Nam min = 0 max = 100 }
					}
				}
			}
		}
	}

	Kim_Jong_il_Death = {
		icon = GFX_decision_nko_jong_death_button
		days_mission_timeout = 60
		fire_only_once = yes
		activation = {
			has_country_flag = Kim_Jong_il_Death_tt
			NOT = {
				OR = {
					has_completed_focus = NKO_Kim_Jong_Nam
					has_completed_focus = NKO_Kim_Jong_un
					has_completed_focus = NKO_Junta
				}
			}
		}
		available = { always = no }
		fixed_random_seed = no
		timeout_effect = {
			if = {
				limit = {
					has_stability > 0.55
					check_variable = {
						var = Kim_Jong_Nam
						value = 75
						compare = greater_than_or_equals
					}
				}
				if = {
					limit = {
						has_completed_focus = NKO_Place_Loyalists_in_KPA
						NOT = { has_completed_focus = NKO_People_Army }
						has_stability < 0.70
					}
					random_list = {
						60 = {
							set_country_flag = Kim_Jong_Nam
							news_event = kim_jong_il_death.4
						}
						40 = {
							set_country_flag = NKO_Junta
							news_event = kim_jong_il_death.6
						}
					}
				}
				else = {
					random_list = {
						85 = {
							set_country_flag = Kim_Jong_Nam
							news_event = kim_jong_il_death.4
						}
						15 = {
							set_country_flag = NKO_Junta
							news_event = kim_jong_il_death.6
						}
					}
				}
			}
			else_if = {
				limit = {
					has_stability > 0.45
					check_variable = { var = Kim_Jong_un value = 65 compare = greater_than_or_equals }
				}
				if = {
					limit = {
						has_completed_focus = NKO_Bribe_KPA_seniors
						NOT = { has_completed_focus = NKO_People_Army }
						has_stability < 0.75
					}
					random_list = {
						85 = {
							set_country_flag = Kim_Jong_un
							news_event = kim_jong_il_death.5
						}
						15 = {
							set_country_flag = NKO_Junta
							news_event = kim_jong_il_death.6
						}
					}
				}
				else = { set_country_flag = Kim_Jong_un }
			}
			else_if = {
				limit = {
					check_variable = { var = Kim_Jong_un value = 50 compare = less_than_or_equals }
					check_variable = { var = Kim_Jong_Nam value = 50 compare = less_than_or_equals }
				}
				set_country_flag = NKO_Junta
				news_event = kim_jong_il_death.6
			}
			else = {
				set_country_flag = NKO_Junta
				news_event = kim_jong_il_death.6
			}
		}
	}
}
###########BLACK MARKET MECHANIC DECISIONS###########
NKO_black_market = {
	##########BLACK MARKET - BAD FOR ENEMIES###########
	###########Black Market Mechanic Bad For Enemies - Open###########
	NKO_black_market_bad_open = {
		icon = GFX_decision_nko_west_fallen_button
		days_remove = 1
		fire_only_once = no
		visible = {
			has_completed_focus = NKO_bureau_39
			has_country_flag = NKO_black_market_bad_mechanic_close
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NKO_black_market_bad_open"
			clr_country_flag = NKO_black_market_bad_mechanic_close
			set_country_flag = NKO_black_market_bad_mechanic_open
		}
		ai_will_do = {
			factor = 355
		}
	}
	###########Black Market Mechanic Bad For Enemies - Close###########
	NKO_black_market_bad_close = {
		icon = GFX_decision_nko_west_fallen_button
		days_remove = 1
		fire_only_once = no
		visible = {
			has_completed_focus = NKO_bureau_39
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NKO_black_market_bad_close"
			clr_country_flag = NKO_black_market_bad_mechanic_open
			set_country_flag = NKO_black_market_bad_mechanic_close
		}
	}
	##########BLACK MARKET - HACKS BANKS###########
	#USA
	NKO_hacks_bank_usa = {
		icon = GFX_decision_nko_hack_bank_button
		days_remove = 30
		days_re_enable = 250
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_smuggling_operations
			USA = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
			USA = { influence_higher_5 = yes }
		}
		visible = {
			country_exists = USA
			has_completed_focus = NKO_bureau_39
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			add_political_power = -25
			set_temp_variable = { percent_change = -12 }
			set_temp_variable = { tag_index = NKO.id }
			set_temp_variable = { influence_target = USA.id }
			change_influence_percentage = yes
			random_list = {
				20 = {
					set_temp_variable = { treasury_change = 25 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 20 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 15 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 10 }
					modify_treasury_effect = yes
				}
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Japan
	NKO_hacks_bank_japan = {
		icon = GFX_decision_nko_hack_bank_button
		days_remove = 30
		days_re_enable = 250
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_smuggling_operations
			JAP = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
			JAP = { influence_higher_15 = yes }
		}
		visible = {
			country_exists = JAP
			has_completed_focus = NKO_bureau_39
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_hacks_bank_japan"
			add_political_power = -25
			set_temp_variable = { percent_change = -12 }
			set_temp_variable = { tag_index = NKO.id }
			set_temp_variable = { influence_target = JAP.id }
			change_influence_percentage = yes
			random_list = {
				20 = {
					set_temp_variable = { treasury_change = 15 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 10 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 5 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 3 }
					modify_treasury_effect = yes
				}
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#South Korea
	NKO_hacks_bank_korea = {
		icon = GFX_decision_nko_hack_bank_button
		days_remove = 30
		days_re_enable = 250
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_smuggling_operations
			KOR = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
			KOR = { influence_higher_15 = yes }
		}
		visible = {
			country_exists = KOR
			has_completed_focus = NKO_bureau_39
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_hacks_bank_korea"
			add_political_power = -25
			set_temp_variable = { percent_change = -12 }
			set_temp_variable = { tag_index = NKO.id }
			set_temp_variable = { influence_target = KOR.id }
			change_influence_percentage = yes
			random_list = {
				20 = {
					set_temp_variable = { treasury_change = 10 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 7 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 5 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 3 }
					modify_treasury_effect = yes
				}
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Germany
	NKO_hacks_bank_germany = {
		icon = GFX_decision_nko_hack_bank_button
		days_remove = 30
		days_re_enable = 250
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_smuggling_operations
			GER = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
			GER = { influence_higher_10 = yes }
		}
		visible = {
			country_exists = GER
			has_completed_focus = NKO_bureau_39
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_hacks_bank_germany"
			add_political_power = -25
			set_temp_variable = { percent_change = -12 }
			set_temp_variable = { tag_index = NKO.id }
			set_temp_variable = { influence_target = GER.id }
			change_influence_percentage = yes
			random_list = {
				20 = {
					set_temp_variable = { treasury_change = 15 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 10 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 5 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 3 }
					modify_treasury_effect = yes
				}
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#France
	NKO_hacks_bank_france = {
		icon = GFX_decision_nko_hack_bank_button
		days_remove = 30
		days_re_enable = 250
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_smuggling_operations
			FRA = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
			FRA = { influence_higher_10 = yes }
		}
		visible = {
			country_exists = FRA
			has_completed_focus = NKO_bureau_39
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_hacks_bank_france"
			add_political_power = -25
			set_temp_variable = { percent_change = -12 }
			set_temp_variable = { tag_index = NKO.id }
			set_temp_variable = { influence_target = FRA.id }
			change_influence_percentage = yes
			random_list = {
				20 = {
					set_temp_variable = { treasury_change = 16 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 11 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 8 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 3 }
					modify_treasury_effect = yes
				}
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#England
	NKO_hacks_bank_england = {
		icon = GFX_decision_nko_hack_bank_button
		days_remove = 30
		days_re_enable = 250
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_smuggling_operations
			ENG = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
			ENG = { influence_higher_10 = yes }
		}
		visible = {
			country_exists = ENG
			has_completed_focus = NKO_bureau_39
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_hacks_bank_england "
			add_political_power = -25
			set_temp_variable = { percent_change = -12 }
			set_temp_variable = { tag_index = NKO.id }
			set_temp_variable = { influence_target = ENG.id }
			change_influence_percentage = yes
			random_list = {
				20 = {
					set_temp_variable = { treasury_change = 13 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 7 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 5 }
					modify_treasury_effect = yes
				}
				20 = {
					set_temp_variable = { treasury_change = 2 }
					modify_treasury_effect = yes
				}
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	##########BLACK MARKET - DRUGS###########
	#USA
	NKO_smuggles_drugs_abroad_usa = {
		icon = GFX_decision_nko_drugs_button
		days_remove = 30
		days_re_enable = 180
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_government_directed_drug_manufacture
			USA = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}
		visible = {
			country_exists = USA
			has_completed_focus = NKO_bureau_39
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_smuggles_drugs_abroad_usa"
			add_political_power = -25
			set_temp_variable = { treasury_change = 0.5 }
			modify_treasury_effect = yes
			random_list = {
				20 = {
					USA = {
						set_temp_variable = { temp_productivity_change = -10 }
						flat_productivity_change_effect = yes
						set_temp_variable = { percent_change = 4 }
						set_temp_variable = { tag_index = NKO.id }
						set_temp_variable = { influence_target = USA.id }
						change_influence_percentage = yes
					}
				}
				80 = {
					# nothing
				}
			}
			custom_effect_tooltip = NKO_smuggles_drugs_abroad_tt
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Japan
	NKO_smuggles_drugs_abroad_japan = {
		icon = GFX_decision_nko_drugs_button
		days_remove = 30
		days_re_enable = 180
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_government_directed_drug_manufacture
			JAP = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}
		visible = {
			country_exists = JAP
			has_completed_focus = NKO_bureau_39
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_smuggles_drugs_abroad_japan"
			add_political_power = -25
			set_temp_variable = { treasury_change = 0.5 }
			modify_treasury_effect = yes
			random_list = {
				20 = {
					JAP = {
						set_temp_variable = { temp_productivity_change = -10 }
						flat_productivity_change_effect = yes
						set_temp_variable = { percent_change = 4 }
						set_temp_variable = { tag_index = NKO.id }
						set_temp_variable = { influence_target = JAP.id }
						change_influence_percentage = yes
					}
				}
				80 = {
					# nothing
				}
			}
			custom_effect_tooltip = NKO_smuggles_drugs_abroad_tt
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#South Korea
	NKO_smuggles_drugs_abroad_korea = {
		icon = GFX_decision_nko_drugs_button
		days_remove = 30
		days_re_enable = 150
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_government_directed_drug_manufacture
			KOR = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}
		visible = {
			country_exists = KOR
			has_completed_focus = NKO_bureau_39
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_smuggles_drugs_abroad_korea"
			add_political_power = -25
			set_temp_variable = { treasury_change = 0.5 }
			modify_treasury_effect = yes
			random_list = {
				20 = {
					KOR = {
						set_temp_variable = { temp_productivity_change = -10 }
						flat_productivity_change_effect = yes
						set_temp_variable = { percent_change = 4 }
						set_temp_variable = { tag_index = NKO.id }
						set_temp_variable = { influence_target = KOR.id }
						change_influence_percentage = yes
					}
				}
				80 = {
					# nothing
				}
			}
			custom_effect_tooltip = NKO_smuggles_drugs_abroad_tt
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#England
	NKO_smuggles_drugs_abroad_england = {
		icon = GFX_decision_nko_drugs_button
		days_remove = 30
		days_re_enable = 250
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_government_directed_drug_manufacture
			ENG = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}
		visible = {
			country_exists = ENG
			has_completed_focus = NKO_bureau_39
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_smuggles_drugs_abroad_england"
			add_political_power = -25
			set_temp_variable = { treasury_change = 0.5 }
			modify_treasury_effect = yes
			random_list = {
				20 = {
					ENG = {
						set_temp_variable = { temp_productivity_change = -10 }
						flat_productivity_change_effect = yes
						set_temp_variable = { percent_change = 4 }
						set_temp_variable = { tag_index = NKO.id }
						set_temp_variable = { influence_target = ENG.id }
						change_influence_percentage = yes
					}
				}
				80 = {
					# nothing
				}
			}
			custom_effect_tooltip = NKO_smuggles_drugs_abroad_tt
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Germany
	NKO_smuggles_drugs_abroad_germany = {
		icon = GFX_decision_nko_drugs_button
		days_remove = 30
		days_re_enable = 360
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_government_directed_drug_manufacture
			GER = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}
		visible = {
			country_exists = GER
			has_completed_focus = NKO_bureau_39
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_smuggles_drugs_abroad_germany"
			add_political_power = -25
			set_temp_variable = { treasury_change = 0.5 }
			modify_treasury_effect = yes
			random_list = {
				20 = {
					GER = {
						set_temp_variable = { temp_productivity_change = -10 }
						flat_productivity_change_effect = yes
						set_temp_variable = { percent_change = 4 }
						set_temp_variable = { tag_index = NKO.id }
						set_temp_variable = { influence_target = GER.id }
						change_influence_percentage = yes
					}
				}
				80 = {
					# nothing
				}
			}
			custom_effect_tooltip = NKO_smuggles_drugs_abroad_tt
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#France
	NKO_smuggles_drugs_abroad_france = {
		icon = GFX_decision_nko_drugs_button
		days_remove = 30
		days_re_enable = 360
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_government_directed_drug_manufacture
			FRA = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}
		visible = {
			country_exists = FRA
			has_completed_focus = NKO_bureau_39
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_smuggles_drugs_abroad_france"
			add_political_power = -25
			set_temp_variable = { treasury_change = 0.5 }
			modify_treasury_effect = yes
			random_list = {
				20 = {
					FRA = {
						set_temp_variable = { temp_productivity_change = -10 }
						flat_productivity_change_effect = yes
						set_temp_variable = { percent_change = 4 }
						set_temp_variable = { tag_index = NKO.id }
						set_temp_variable = { influence_target = FRA.id }
						change_influence_percentage = yes
					}
				}
				80 = {
					# nothing
				}
			}
			custom_effect_tooltip = NKO_smuggles_drugs_abroad_tt
		}
		ai_will_do = {
			factor = 1000
		}
	}
	##########BLACK MARKET - PRINT MONEY###########
	#USA
	NKO_print_money_usa = {
		icon = GFX_decision_nko_fake_currency_button
		days_remove = 30
		days_re_enable = 250
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_counterfeit_production
			USA = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}
		visible = {
			country_exists = USA
			has_completed_focus = NKO_counterfeit_production
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_print_money_usa"
			add_political_power = -25
			set_temp_variable = { treasury_change = 0.2 }
			modify_treasury_effect = yes
			random_list = {
				20 = {
					USA = {
						set_temp_variable = { treasury_change = -35 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 4 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = USA.id }
					change_influence_percentage = yes
				}
				20 = {
					USA = {
						set_temp_variable = { treasury_change = -25 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 2.5 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = USA.id }
					change_influence_percentage = yes
				}
				20 = {
					USA = {
						set_temp_variable = { treasury_change = -15 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 1.5 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = USA.id }
					change_influence_percentage = yes
				}
				20 = {
					USA = {
						set_temp_variable = { treasury_change = -5 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 1 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = USA.id }
					change_influence_percentage = yes
				}
				20 = {
					# nothing
				}
			}
			custom_effect_tooltip = NKO_print_money_tt
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Japan
	NKO_print_money_japan = {
		icon = GFX_decision_nko_fake_currency_button
		days_remove = 30
		days_re_enable = 150
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_counterfeit_production
			JAP = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}
		visible = {
			country_exists = JAP
			has_completed_focus = NKO_counterfeit_production
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_print_money_japan"
			add_political_power = -25
			set_temp_variable = { treasury_change = 0.2 }
			modify_treasury_effect = yes
			random_list = {
				20 = {
					JAP = {
						set_temp_variable = { treasury_change = -30 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 4 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = JAP.id }
					change_influence_percentage = yes
				}
				20 = {
					JAP = {
						set_temp_variable = { treasury_change = -20 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 2.5 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = JAP.id }
					change_influence_percentage = yes
				}
				20 = {
					JAP = {
						set_temp_variable = { treasury_change = -10 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 1.5 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = JAP.id }
					change_influence_percentage = yes
				}
				20 = {
					JAP = {
						set_temp_variable = { treasury_change = -3 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 1 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = JAP.id }
					change_influence_percentage = yes
				}
				20 = {
					# nothing
				}
			}
			custom_effect_tooltip = NKO_print_money_tt
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#South Korea
	NKO_print_money_korea = {
		icon = GFX_decision_nko_fake_currency_button
		days_remove = 30
		days_re_enable = 120
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_counterfeit_production
			KOR = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}
		visible = {
			country_exists = KOR
			has_completed_focus = NKO_counterfeit_production
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_print_money_korea"
			add_political_power = -25
			set_temp_variable = { treasury_change = 0.2 }
			modify_treasury_effect = yes
			random_list = {
				20 = {
					KOR = {
						set_temp_variable = { treasury_change = -15 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 4 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = KOR.id }
					change_influence_percentage = yes
				}
				20 = {
					KOR = {
						set_temp_variable = { treasury_change = -10 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 2.5 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = KOR.id }
					change_influence_percentage = yes
				}
				20 = {
					KOR = {
						set_temp_variable = { treasury_change = -5 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 1.5 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = KOR.id }
					change_influence_percentage = yes
				}
				20 = {
					KOR = {
						set_temp_variable = { treasury_change = -1 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 1 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = KOR.id }
					change_influence_percentage = yes
				}
				20 = {
					# nothing
				}
			}
			custom_effect_tooltip = NKO_print_money_tt
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Germany
	NKO_print_money_germany = {
		icon = GFX_decision_nko_fake_currency_button
		days_remove = 30
		days_re_enable = 180
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_counterfeit_production
			GER = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}
		visible = {
			country_exists = GER
			has_completed_focus = NKO_counterfeit_production
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_print_money_germany"
			add_political_power = -25
			set_temp_variable = { treasury_change = 0.2 }
			modify_treasury_effect = yes
			random_list = {
				20 = {
					GER = {
						set_temp_variable = { treasury_change = -10 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 4 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = GER.id }
					change_influence_percentage = yes
				}
				20 = {
					GER = {
						set_temp_variable = { treasury_change = -6 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 2.5 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = GER.id }
					change_influence_percentage = yes
				}
				20 = {
					GER = {
						set_temp_variable = { treasury_change = -3 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 1.5 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = GER.id }
					change_influence_percentage = yes
				}
				20 = {
					GER = {
						set_temp_variable = { treasury_change = -1 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 1 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = GER.id }
					change_influence_percentage = yes
				}
				20 = {
					# nothing
				}
			}
			custom_effect_tooltip = NKO_print_money_tt
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#France
	NKO_print_money_france = {
		icon = GFX_decision_nko_fake_currency_button
		days_remove = 30
		days_re_enable = 180
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_counterfeit_production
			FRA = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}
		visible = {
			country_exists = FRA
			has_completed_focus = NKO_counterfeit_production
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_print_money_france"
			add_political_power = -25
			set_temp_variable = { treasury_change = 0.2 }
			modify_treasury_effect = yes
			random_list = {
				20 = {
					FRA = {
						set_temp_variable = { treasury_change = -21 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 4 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = FRA.id }
					change_influence_percentage = yes
				}
				20 = {
					FRA = {
						set_temp_variable = { treasury_change = -15 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 2.5 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = FRA.id }
					change_influence_percentage = yes
				}
				20 = {
					FRA = {
						set_temp_variable = { treasury_change = -7 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 1.5 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = FRA.id }
					change_influence_percentage = yes
				}
				20 = {
					FRA = {
						set_temp_variable = { treasury_change = -1 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 1 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = FRA.id }
					change_influence_percentage = yes
				}
				20 = {
					# nothing
				}
			}
			custom_effect_tooltip = NKO_print_money_tt
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#England
	NKO_print_money_england = {
		icon = GFX_decision_nko_fake_currency_button
		days_remove = 30
		days_re_enable = 180
		fixed_random_seed = no
		available = {
			has_completed_focus = NKO_counterfeit_production
			ENG = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}
		visible = {
			country_exists = ENG
			has_completed_focus = NKO_counterfeit_production
			has_country_flag = NKO_black_market_bad_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_print_money_england"
			add_political_power = -25
			set_temp_variable = { treasury_change = 0.2 }
			modify_treasury_effect = yes
			random_list = {
				20 = {
					ENG = {
						set_temp_variable = { treasury_change = -25 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 4 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = ENG.id }
					change_influence_percentage = yes
				}
				20 = {
					ENG = {
						set_temp_variable = { treasury_change = -18 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 2.5 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = ENG.id }
					change_influence_percentage = yes
				}
				20 = {
					ENG = {
						set_temp_variable = { treasury_change = -9 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 1.5 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = ENG.id }
					change_influence_percentage = yes
				}
				20 = {
					ENG = {
						set_temp_variable = { treasury_change = -4 }
						modify_treasury_effect = yes
					}
					set_temp_variable = { percent_change = 1 }
					set_temp_variable = { tag_index = NKO.id }
					set_temp_variable = { influence_target = ENG.id }
					change_influence_percentage = yes
				}
				20 = {
					# nothing
				}
			}
			custom_effect_tooltip = NKO_print_money_tt
		}
		ai_will_do = {
			factor = 1000
		}
	}
	##########BLACK MARKET - GOOD FOR FRIENDS###########
	###########Black Market Mechanic Good For Friends - Open###########
	NKO_black_market_good_open = {
		icon = GFX_decision_nko_west_fallen_button
		days_remove = 1
		fire_only_once = no
		visible = {
			has_completed_focus = NKO_bureau_38
			has_country_flag = NKO_black_market_good_mechanic_close
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NKO_black_market_good_open"
			clr_country_flag = NKO_black_market_good_mechanic_close
			set_country_flag = NKO_black_market_good_mechanic_open
		}
		ai_will_do = {
			factor = 355
		}
	}
	###########Black Market Mechanic Bad For Enemies - Close###########
	NKO_black_market_good_close = {
		icon = GFX_decision_nko_west_fallen_button
		days_remove = 1
		fire_only_once = no
		visible = {
			has_completed_focus = NKO_bureau_38
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NKO_black_market_good_close"
			clr_country_flag = NKO_black_market_good_mechanic_open
			set_country_flag = NKO_black_market_good_mechanic_close
		}
	}
	##########BLACK MARKET - WEAPON EXPORT###########
	#Eritrea
	NKO_send_weapon_eri = {
		icon = GFX_decision_generic_prepare_civil_war_new
		custom_cost_trigger = {
			command_power > 75
		}
		custom_cost_text = command_power_more_than_75
		days_remove = 30
		days_re_enable = 250
		available = {
			ERI = {
				OR = {
					has_government = communism
					has_government = nationalist
				}
			}
		}
		visible = {
			country_exists = ERI
			has_completed_focus = NKO_create_komid
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_send_weapon_eri"
			add_command_power = -75
			ERI = {
				country_event = { id = korea_north.11 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Ethiopia
	NKO_send_weapon_ethi = {
		icon = GFX_decision_generic_prepare_civil_war_new
		custom_cost_trigger = {
			command_power > 75
		}
		custom_cost_text = command_power_more_than_75
		days_remove = 30
		days_re_enable = 250
		available = {
			ETH = {
				OR = {
					has_government = communism
					has_government = nationalist
				}
			}
		}
		visible = {
			country_exists = ETH
			has_completed_focus = NKO_create_komid
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_send_weapon_ethi"
			add_command_power = -75
			ETH = {
				country_event = { id = korea_north.11 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Somali
	NKO_send_weapon_somali = {
		icon = GFX_decision_generic_prepare_civil_war_new
		custom_cost_trigger = {
			command_power > 75
		}
		custom_cost_text = command_power_more_than_75
		days_remove = 30
		days_re_enable = 250
		available = {
			SOM = {
				OR = {
					has_government = communism
					has_government = nationalist
				}
			}
		}
		visible = {
			country_exists = SOM
			has_completed_focus = NKO_create_komid
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_send_weapon_somali"
			add_command_power = -75
			SOM = {
				country_event = { id = korea_north.11 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Syria
	NKO_send_weapon_syr = {
		icon = GFX_decision_generic_prepare_civil_war_new
		custom_cost_trigger = {
			command_power > 75
		}
		custom_cost_text = command_power_more_than_75
		days_remove = 30
		days_re_enable = 250
		available = {
			has_completed_focus = NKO_illict_trade_routes
			SYR = {
				OR = {
					has_government = communism
					has_government = nationalist
				}
			}
		}
		visible = {
			country_exists = SYR
			has_completed_focus = NKO_bureau_38
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_send_weapon_syr"
			add_command_power = -75
			SYR = {
				country_event = { id = korea_north.11 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Hezbolla
	NKO_send_weapon_hez = {
		icon = GFX_decision_generic_prepare_civil_war_new
		custom_cost_trigger = {
			command_power > 75
		}
		custom_cost_text = command_power_more_than_75
		days_remove = 30
		days_re_enable = 250
		available = {
			has_completed_focus = NKO_illict_trade_routes
			HEZ = {
				OR = {
					has_government = communism
					has_government = nationalist
				}
			}
		}
		visible = {
			country_exists = HEZ
			has_completed_focus = NKO_bureau_38
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_send_weapon_hez"
			add_command_power = -75
			HEZ = {
				country_event = { id = korea_north.11 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Iraq
	NKO_send_weapon_iraq = {
		icon = GFX_decision_generic_prepare_civil_war_new
		custom_cost_trigger = {
			command_power > 75
		}
		custom_cost_text = command_power_more_than_75
		days_remove = 30
		days_re_enable = 200
		available = {
			has_completed_focus = NKO_illict_trade_routes
			IRQ = {
				OR = {
					has_government = communism
					has_government = nationalist
				}
			}
		}
		visible = {
			country_exists = IRQ
			has_completed_focus = NKO_bureau_38
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_send_weapon_iraq"
			add_command_power = -75
			IRQ = {
				country_event = { id = korea_north.11 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Iran
	NKO_send_weapon_iran = {
		icon = GFX_decision_generic_prepare_civil_war_new
		custom_cost_trigger = {
			command_power > 75
		}
		custom_cost_text = command_power_more_than_75
		days_remove = 30
		days_re_enable = 150
		available = {
			has_completed_focus = NKO_illict_trade_routes
			PER = {
				OR = {
					has_government = communism
					has_government = nationalist
				}
			}
		}
		visible = {
			country_exists = PER
			has_completed_focus = NKO_bureau_38
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_send_weapon_iran"
			add_command_power = -75
			PER = {
				country_event = { id = korea_north.11 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Egypt
	NKO_send_weapon_egypt = {
		icon = GFX_decision_generic_prepare_civil_war_new
		custom_cost_trigger = {
			command_power > 75
		}
		custom_cost_text = command_power_more_than_75
		days_remove = 30
		days_re_enable = 250
		available = {
			has_completed_focus = NKO_illict_trade_routes
			EGY = {
				OR = {
					has_government = communism
					has_government = nationalist
				}
			}
		}
		visible = {
			country_exists = EGY
			has_completed_focus = NKO_bureau_38
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_send_weapon_egypt"
			add_command_power = -75
			EGY = {
				country_event = { id = korea_north.11 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#RUSSIAN PUPPETS
	#Wagner
	NKO_send_weapon_wagner = {
		icon = GFX_decision_generic_prepare_civil_war_new
		custom_cost_trigger = {
			command_power > 75
		}
		custom_cost_text = command_power_more_than_75
		days_remove = 30
		days_re_enable = 360
		available = {
			has_completed_focus = NKO_create_komid
		}
		visible = {
			country_exists = WAG
			WAG = {
				is_subject_of = SOV
			}
			has_completed_focus = NKO_bureau_38
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_send_weapon_wagner "

			add_command_power = -75
			WAG = {
				country_event = { id = korea_north.11 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#DPR
	NKO_send_weapon_donetsk = {
		icon = GFX_decision_generic_prepare_civil_war_new
		custom_cost_trigger = {
			command_power > 75
		}
		custom_cost_text = command_power_more_than_75
		days_remove = 30
		days_re_enable = 360
		available = {
			has_completed_focus = NKO_create_komid
		}
		visible = {
			country_exists = DPR
			OR = {
				DPR = {
					is_subject_of = SOV
				}
				is_subject = no
			}
			has_completed_focus = NKO_bureau_38
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_send_weapon_donetsk"
			add_command_power = -75
			DPR = {
				country_event = { id = korea_north.11 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#LPR
	NKO_send_weapon_lugansk = {
		icon = GFX_decision_generic_prepare_civil_war_new
		custom_cost_trigger = {
			command_power > 75
		}
		custom_cost_text = command_power_more_than_75
		days_remove = 30
		days_re_enable = 360
		available = {
			has_completed_focus = NKO_create_komid
		}
		visible = {
			country_exists = LPR
			OR = {
				LPR = {
					is_subject_of = SOV
				}
				is_subject = no
			}
			has_completed_focus = NKO_bureau_38
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_send_weapon_lugansk "

			add_command_power = -75
			LPR = {
				country_event = { id = korea_north.11 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#EXPANDED
	#Lybia
	NKO_send_weapon_lybia = {
		icon = GFX_decision_generic_prepare_civil_war_new
		custom_cost_trigger = {
			command_power > 75
		}
		custom_cost_text = command_power_more_than_75
		days_remove = 30
		days_re_enable = 360
		available = {
			has_completed_focus = NKO_create_komid
			LBA = {
				OR = {
					has_government = communism
					has_government = nationalist
				}
			}
		}
		visible = {
			country_exists = LBA
			has_completed_focus = NKO_expand_black_market
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_send_weapon_lybia"
			add_command_power = -75
			LBA = {
				country_event = { id = korea_north.11 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Cuba
	NKO_send_weapon_cuba = {
		icon = GFX_decision_generic_prepare_civil_war_new
		custom_cost_trigger = {
			command_power > 75
		}
		custom_cost_text = command_power_more_than_75
		days_remove = 30
		days_re_enable = 360
		available = {
			has_completed_focus = NKO_create_komid
			CUB = {
				OR = {
					has_government = communism
					has_government = nationalist
				}
			}
		}
		visible = {
			country_exists = CUB
			has_completed_focus = NKO_expand_black_market
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_send_weapon_cuba"
			add_command_power = -75
			CUB = {
				country_event = { id = korea_north.11 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Yemen
	NKO_send_weapon_yemen = {
		icon = GFX_decision_generic_prepare_civil_war_new
		custom_cost_trigger = {
			command_power > 75
		}
		custom_cost_text = command_power_more_than_75
		days_remove = 30
		days_re_enable = 360
		available = {
			has_completed_focus = NKO_create_komid
			YEM = {
				OR = {
					has_government = communism
					has_government = nationalist
				}
			}
		}
		visible = {
			country_exists = YEM
			has_completed_focus = NKO_expand_black_market
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_send_weapon_yemen"
			add_command_power = -75
			YEM = {
				country_event = { id = korea_north.11 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	#Uganda
	NKO_send_weapon_uganda = {
		icon = GFX_decision_generic_prepare_civil_war_new
		custom_cost_trigger = {
			command_power > 75
		}
		custom_cost_text = command_power_more_than_75
		days_remove = 30
		days_re_enable = 360
		available = {
			has_completed_focus = NKO_create_komid
			UGA = {
				OR = {
					has_government = communism
					has_government = nationalist
				}
			}
		}
		visible = {
			country_exists = UGA
			has_completed_focus = NKO_expand_black_market
			has_country_flag = NKO_black_market_good_mechanic_open
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Finished NKO_send_weapon_uganda"
			add_command_power = -75
			UGA = {
				country_event = { id = korea_north.11 }
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
}
###########RUSSIAN-KOREA FRIENDSHIP MECHANIC DECISIONS###########
NKO_rus_friend_category = {
	NKO_coop_russian_energy = {
		icon = GFX_decision_sov_interrao_button
		custom_cost_trigger = {
			check_variable = { treasury > 5 }
		}
		custom_cost_text = cost_5_0
		days_remove = 35
		fire_only_once = yes
		available = {
			SOV = {
				has_completed_focus = SOV_economic_interrao
			}
		}
		visible = {
			tag = NKO
			has_idea = NKO_korean_russian_frienship
			SOV = {
				has_idea = NKO_korean_russian_frienship
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_coop_russian_energy"
			602 = {
				add_building_construction = {
					type = fossil_powerplant
					level = 2
					instant_build = yes
				}
			}
			set_temp_variable = { treasury_change = -5 }
			modify_treasury_effect = yes
			set_temp_variable = { percent_change = 6 }
			set_temp_variable = { tag_index = SOV }
			set_temp_variable = { influence_target = NKO }
			change_influence_percentage = yes
		}
		ai_will_do = {
			factor = 355
		}
	}
	NKO_coop_russian_gas_pipeline = {
		icon = GFX_decision_sov_gazrpom_button
		days_remove = 25
		fire_only_once = no
		cost = 75

		available = {
			SOV = {
				has_completed_focus = SOV_economic_gazprom_stream
			}
		}
		visible = {
			tag = NKO
			country_exists = SOV
			has_idea = NKO_korean_russian_frienship
			SOV = {
				has_idea = NKO_korean_russian_frienship
			}
			NOT = {
				SOV = {
					has_country_flag = SOV_gazprom_mechanic_korean_stream_agree
				}
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_coop_russian_gas_pipeline"
			SOV = {
				country_event = { id = korea_russia.7 }
			}
		}
		ai_will_do = {
			factor = 355
		}
	}
	NKO_coop_russian_gas_pipeline_start = {
		icon = GFX_decision_sov_gazrpom_button
		custom_cost_trigger = {
			check_variable = { treasury > 5 }
		}
		custom_cost_text = cost_5_0
		days_remove = 20
		available = {
			SOV = {
				has_completed_focus = SOV_economic_gazprom_stream
			}
		}
		visible = {
			tag = NKO
			country_exists = SOV
			has_idea = NKO_korean_russian_frienship
			SOV = {
				has_idea = NKO_korean_russian_frienship
			}
			has_country_flag = SOV_gazprom_mechanic_korean_stream
			NOT = {
				NKO = {
					has_idea = SOV_korean_stream_idea
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_coop_russian_gas_pipeline"
			add_ideas = SOV_korean_stream_idea
			hidden_effect = {
				SOV = {
					add_ideas = SOV_korean_stream_sov_idea
				}
			}
			set_temp_variable = { treasury_change = -5 }
			modify_treasury_effect = yes
			SOV = {
				add_opinion_modifier = {
					modifier = economic_mission
					target = NKO
				}
			}
			NKO = {
				add_opinion_modifier = {
					modifier = economic_mission
					target = SOV
				}
			}
		}
		ai_will_do = {
			factor = 355
		}
	}
	NKO_coop_russian_new_gas = {
		icon = GFX_decision_sov_gazrpom_button
		custom_cost_trigger = {
			check_variable = { treasury > 3 }
		}
		custom_cost_text = cost_3_0
		fire_only_once = yes
		days_remove = 60
		available = {
			SOV = {
				OR = {
					has_completed_focus = SOV_economic_reform_gazprom
					has_completed_focus = SOV_economic_reform_rosneft
				}
			}
		}
		visible = {
			tag = NKO
			country_exists = SOV
			has_idea = NKO_korean_russian_frienship
			SOV = {
				has_idea = NKO_korean_russian_frienship
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_coop_russian_new_gas"
			random_owned_state = {
				add_resource = {
					type = oil
					amount = 3
				}
			}
			set_temp_variable = { percent_change = 3 }
			set_temp_variable = { tag_index = SOV }
			set_temp_variable = { influence_target = NKO }
			change_influence_percentage = yes
			set_temp_variable = { treasury_change = -3 }
			modify_treasury_effect = yes
		}
		ai_will_do = {
			factor = 355
		}
	}
	NKO_coop_russian_nuclear = {
		icon = GFX_decision_sov_rosatom_button
		fire_only_once = yes
		days_remove = 35
		cost = 75

		available = {
			SOV = {
				has_completed_focus = SOV_found_rosatom
			}
		}
		visible = {
			tag = NKO
			country_exists = SOV
			has_idea = NKO_korean_russian_frienship
			SOV = {
				has_idea = NKO_korean_russian_frienship
			}
			NOT = {
				has_country_flag = SOV_agree_nuclear
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_coop_russian_nuclear"
			SOV = {
				country_event = { id = korea_russia.4 }
			}
			add_political_power = -250
		}
		ai_will_do = {
			factor = 355
		}
	}
	NKO_coop_russian_nuclear_build = {
		icon = GFX_decision_sov_rosatom_button
		fire_only_once = yes
		days_remove = 380

		cost = 75

		available = {
			SOV = {
				has_completed_focus = SOV_found_rosatom
			}
		}
		visible = {
			tag = NKO
			country_exists = SOV
			has_idea = NKO_korean_russian_frienship
			SOV = {
				has_idea = NKO_korean_russian_frienship
			}
			has_country_flag = SOV_agree_nuclear
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_coop_russian_nuclear_build"
			602 = {
				add_building_construction = {
					type = nuclear_reactor
					level = 1
					instant_build = yes
				}
			}
			set_temp_variable = { percent_change = 7 }
			set_temp_variable = { tag_index = SOV }
			set_temp_variable = { influence_target = NKO }
			change_influence_percentage = yes
		}
		ai_will_do = {
			factor = 355
		}
	}
	NKO_coop_russian_exerices = {
		icon = GFX_decision_russian_base
		fire_only_once = no
		days_remove = 10
		days_re_enable = 368

		custom_cost_trigger = {
			command_power > 20
		}
		custom_cost_text = command_power_more_than_20

		visible = {
			tag = NKO
			country_exists = SOV
			has_idea = NKO_korean_russian_frienship
			SOV = {
				has_idea = NKO_korean_russian_frienship
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_coop_russian_exerices"
			add_command_power = -25
			SOV = {
				country_event = { id = korea_russia.22 }
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				add = -1
			}
			modifier = {
				SOV = {
					has_war = yes
				}
				add = -1
			}
		}
	}
	##########RUSSIAN-KOREA FRIENDSHIP - RUSSIAN PART###########
	NKO_coop_korean_build_korean_pipeline = {
		icon = GFX_decision_sov_gazrpom_button
		custom_cost_trigger = {
			check_variable = { treasury > 15 }
		}
		custom_cost_text = cost_15_0
		days_remove = 980
		fire_only_once = yes
		available = {
			SOV = {
				has_completed_focus = SOV_economic_gazprom_stream
			}
		}
		visible = {
			tag = SOV
			country_exists = NKO
			has_idea = NKO_korean_russian_frienship
			NKO = {
				has_idea = NKO_korean_russian_frienship
			}
			SOV = {
				has_country_flag = SOV_gazprom_mechanic_korean_stream_agree
			}
			NOT = {
				NKO = {
					has_country_flag = SOV_gazprom_mechanic_korean_stream
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_coop_korean_build_korean_pipeline"
			NKO = {
				set_country_flag = SOV_gazprom_mechanic_korean_stream
			}
			set_temp_variable = { treasury_change = -15 }
			modify_treasury_effect = yes
		}
		ai_will_do = {
			factor = 355
		}
	}
	NKO_coop_korean_frontline_workers = {
		icon = GFX_decision_nko_works_button
		custom_cost_trigger = {
			check_variable = { treasury > 2 }
		}
		custom_cost_text = cost_2_0
		days_remove = 35
		visible = {
			tag = SOV
			country_exists = NKO
			has_idea = NKO_korean_russian_frienship
			NKO = {
				has_idea = NKO_korean_russian_frienship
			}
			NOT = {
				has_idea = NKO_korean_repair_frontline_workers
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_coop_korean_frontline_workers"
			add_ideas = NKO_korean_repair_frontline_workers
			set_temp_variable = { treasury_change = -2 }
			modify_treasury_effect = yes
			NKO = {
				country_event = { id = korea_russia.21 }
				add_ideas = NKO_korean_repair_frontline_workers_sov
				set_temp_variable = { treasury_change = 2 }
				modify_treasury_effect = yes
			}
			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = NKO }
			set_temp_variable = { influence_target = SOV }
			change_influence_percentage = yes
		}
		ai_will_do = {
			factor = 355
		}
	}
	NKO_coop_korean_civil_workers = {
		icon = GFX_decision_nko_work_button
		custom_cost_trigger = {
			check_variable = { treasury > 2 }
		}
		custom_cost_text = cost_2_0
		days_remove = 35
		visible = {
			tag = SOV
			country_exists = NKO
			has_idea = NKO_korean_russian_frienship
			NKO = {
				has_idea = NKO_korean_russian_frienship
			}
			NOT = {
				has_idea = NKO_korean_repair_civil_workers
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_coop_korean_civil_workers"
			add_ideas = NKO_korean_repair_civil_workers
			set_temp_variable = { treasury_change = -2 }
			modify_treasury_effect = yes
			NKO = {
				country_event = { id = korea_russia.21 }
				add_ideas = NKO_korean_repair_civil_workers_sov
				set_temp_variable = { treasury_change = 2 }
				modify_treasury_effect = yes
			}
			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = NKO }
			set_temp_variable = { influence_target = SOV }
			change_influence_percentage = yes
		}
		ai_will_do = {
			factor = 355
		}
	}
	NKO_coop_korean_military_base = {
		icon = GFX_decision_russian_base
		days_remove = 30
		fire_only_once = yes

		custom_cost_trigger = {
			command_power > 20
		}
		custom_cost_text = command_power_more_than_20

		available = {
			SOV = {
				has_completed_focus = SOV_black_gussard
			}
		}
		visible = {
			tag = SOV
			country_exists = NKO
			has_idea = NKO_korean_russian_frienship
			NKO = {
				has_idea = NKO_korean_russian_frienship
			}
			NOT = {
				NKO = {
					has_idea = SOV_NKO_base
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NKO_coop_korean_military_base"
			add_command_power = -25
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_coop_korean_military_base"
			NKO = {
				country_event = { id = korea_russia.1 }
			}
		}
		ai_will_do = {
			factor = 355
		}
	}
	NKO_coop_korean_ratnik = {
		icon = GFX_decision_nko_armor_button
		custom_cost_trigger = {
			check_variable = { treasury > 3 }
		}
		custom_cost_text = cost_3_0
		fire_only_once = yes
		days_remove = 30
		available = {
			SOV = {
				has_completed_focus = SOV_ratnik_program
			}
		}
		visible = {
			tag = SOV
			country_exists = NKO
			has_idea = NKO_korean_russian_frienship
			NKO = {
				has_idea = NKO_korean_russian_frienship
			}
			NKO = {
				NOT = {
					has_idea = NKO_korean_ratnik_conversion
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NKO_coop_korean_ratnik"
			set_temp_variable = { treasury_change = -3.00 }
			modify_treasury_effect = yes
			NKO = {
				country_event = { id = korea_russia.6 }
			}
		}
		ai_will_do = {
			factor = 355
		}
	}
}
