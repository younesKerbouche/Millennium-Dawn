# Author(s): AngriestBird
COM_comorian_political_decisions = {
	COM_disband_the_presidential_guard_decision = {
		icon = x

		cost = 50
		days_remove = 30
		days_re_enable = 30

		visible = {
			NOT = { has_completed_focus = COM_african_mercenaries }
		}
		available = {
			NOT = { has_completed_focus = COM_african_mercenaries }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: remove_effect COM_disband_the_presidential_guard_decision"
			set_country_flag = COM_disbanded_presidential_guard
		}
	}

	# Private Military Companies
	# Control Risks Group (British risk consultancy, most realistic for modern era)
	COM_hire_control_risks_decision = {
		icon = x

		cost = 100
		days_remove = 60
		days_re_enable = 180

		visible = {
			has_completed_focus = COM_african_mercenaries
		}
		available = {
			has_completed_focus = COM_african_mercenaries
			NOT = { has_country_flag = COM_disbanded_presidential_guard }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: remove_effect COM_hire_control_risks_decision"
			set_country_flag = COM_hired_control_risks
			add_stability = 0.02
			set_temp_variable = { treasury_change = -3 }
			modify_treasury_effect = yes
		}
	}

	# Executive Outcomes (South African PMC, revived 2020)
	COM_hire_executive_outcomes_decision = {
		icon = x

		cost = 150
		days_remove = 60
		days_re_enable = 180

		visible = {
			has_completed_focus = COM_african_mercenaries
		}
		available = {
			has_completed_focus = COM_african_mercenaries
			NOT = { has_country_flag = COM_disbanded_presidential_guard }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: remove_effect COM_hire_executive_outcomes_decision"
			set_country_flag = COM_hired_executive_outcomes
			add_stability = -0.01
			army_experience = 10
			set_temp_variable = { treasury_change = -5 }
			modify_treasury_effect = yes
		}
	}

	# Defense Systems Limited (British PMC, defunct but alt-history)
	COM_hire_defense_systems_decision = {
		icon = x

		cost = 120
		days_remove = 60
		days_re_enable = 180

		visible = {
			has_completed_focus = COM_african_mercenaries
		}
		available = {
			has_completed_focus = COM_african_mercenaries
			NOT = { has_country_flag = COM_disbanded_presidential_guard }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: remove_effect COM_hire_defense_systems_decision"
			set_country_flag = COM_hired_defense_systems
			add_stability = 0.01
			army_experience = 5
			set_temp_variable = { treasury_change = -4 }
			modify_treasury_effect = yes
		}
	}

	# WatchGuard International (British PMC, defunct 1972 but alt-history)
	COM_hire_watchguard_decision = {
		icon = x

		cost = 90
		days_remove = 45
		days_re_enable = 180

		visible = {
			has_completed_focus = COM_african_mercenaries
		}
		available = {
			has_completed_focus = COM_african_mercenaries
			NOT = { has_country_flag = COM_disbanded_presidential_guard }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: remove_effect COM_hire_watchguard_decision"
			set_country_flag = COM_hired_watchguard
			army_experience = 35
			add_manpower = 300
			add_war_support = 0.04
			set_temp_variable = { treasury_change = -3 }
			modify_treasury_effect = yes
		}
	}

	# 7 Independent Company reformed as PMC (domestic alternative)
	COM_reform_7_independent_company_decision = {
		icon = x

		cost = 80
		days_remove = 90
		days_re_enable = 365

		visible = {
			has_completed_focus = COM_african_mercenaries
			NOT = { has_country_flag = COM_reformed_7_independent }
			has_country_leader = { name = "Robert Denard" ruling_only = yes }
		}
		available = {
			has_completed_focus = COM_african_mercenaries
			NOT = { has_country_flag = COM_disbanded_presidential_guard }
			NOT = { has_country_flag = COM_reformed_7_independent }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: remove_effect COM_reform_7_independent_company_decision"
			set_country_flag = COM_reformed_7_independent
			army_experience = 35
			add_manpower = 500
			set_temp_variable = { treasury_change = -2 }
			modify_treasury_effect = yes
		}
	}
}

COM_mayotte_referendum_decisions = {
	COM_mayotte_referendum_mission = {
		icon = x
		days_mission_timeout = 180
		is_good = no

		activation = {
			has_country_flag = COM_mayotte_referendum_active
		}
		available = {
			OR = {
				MTE = { owns_state = 940 }
				COM = { owns_state = 940 }
				MTE = { is_subject_of = FRA }
			}
		}
		highlight_states = {
			highlight_states_trigger = {
				state = 940
			}
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: mission timeout_effect COM_mayotte_referendum_mission"
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = 0.03 }
			add_relative_party_popularity = yes

			country_event = { id = france_md.111 days = 1 }

			hidden_effect = {
				FRA = { clr_country_flag = COM_mayotte_referendum_active }
				COM = { clr_country_flag = COM_mayotte_referendum_active }
			}
		}
	}

	COM_mayotte_french_support_campaign_decision = {
		icon = x
		allowed = { original_tag = FRA }

		cost = 50
		days_remove = 30
		days_re_enable = 30

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: remove_effect COM_mayotte_french_support_campaign_decision"
			set_temp_variable = { temp_change = 4 }
			COM_mayotte_referendum_france_effect = yes
			set_temp_variable = { temp_change = -2 }
			COM_mayotte_referendum_independence_effect = yes
			set_temp_variable = { temp_change = -2 }
			COM_mayotte_referendum_comoros_effect = yes
		}

		ai_will_do = {
			base = 5
		}
	}

	COM_mayotte_independence_support_campaign_decision = {
		allowed = {
			OR = {
				original_tag = FRA
				original_tag = COM
			}
		}

		cost = 50
		days_remove = 30
		days_re_enable = 30

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: remove_effect COM_mayotte_independence_support_campaign_decision"
			set_temp_variable = { temp_change = -2 }
			COM_mayotte_referendum_france_effect = yes
			set_temp_variable = { temp_change = 4 }
			COM_mayotte_referendum_independence_effect = yes
			set_temp_variable = { temp_change = -2 }
			COM_mayotte_referendum_comoros_effect = yes
		}

		ai_will_do = {
			base = 0
		}
	}

	COM_mayotte_comorian_support_campaign_decision = {
		allowed = { original_tag = COM }

		cost = 50
		days_remove = 30
		days_re_enable = 30

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: remove_effect COM_mayotte_comorian_support_campaign_decision"
			set_temp_variable = { temp_change = 4 }
			COM_mayotte_referendum_comoros_effect = yes
			set_temp_variable = { temp_change = -2 }
			COM_mayotte_referendum_france_effect = yes
			set_temp_variable = { temp_change = -2 }
			COM_mayotte_referendum_independence_effect = yes
		}

		ai_will_do = {
			base = 5
		}
	}
}

COM_the_constitutional_referendum_decisions = {
	COM_the_constitutional_referendum_mission = {
		days_mission_timeout = 180
		is_good = no

		activation = {
			has_country_flag = COM_constitutional_referendum_active
		}
		available = {
			hidden_trigger = {
				always = no
			}
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: mission timeout_effect COM_the_constitutional_referendum_mission"
			country_event = { id = comoros.31 days = 1 }
			hidden_effect = {
				set_country_flag = COM_constitutional_referendum_completed
				clr_country_flag = COM_constitutional_referendum_active
			}
		}
	}
}