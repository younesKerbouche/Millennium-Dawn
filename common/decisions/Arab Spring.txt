arab_spring_category = {
	hide_arab_spring_monthly_change_factors = {
		icon = GFX_decision_generic_civil_support

		visible = {
			NOT = { has_country_flag = AS_hide_monthly_arab_spring_protest_change }
		}

		complete_effect = {
			set_country_flag = AS_hide_monthly_arab_spring_protest_change
		}
	}

	show_arab_spring_monthly_change_factors = {
		icon = GFX_decision_generic_civil_support

		visible = {
			has_country_flag = AS_hide_monthly_arab_spring_protest_change
		}

		complete_effect = {
			clr_country_flag = AS_hide_monthly_arab_spring_protest_change
		}
	}

	arab_spring_encourage_supporters = {
		icon = GFX_decision_generic_civil_support

		visible = {
			has_country_flag = arab_spring_active
		}

		cost = 25

		fixed_random_seed = no

		complete_effect = {
			log = "[GetDateText]: [This.GetName]: decision arab_spring_encourage_supporters executed"
			set_temp_variable = { treasury_change = -0.5 }
			modify_treasury_effect = yes
		}

		days_remove = 7

		remove_effect = {
			log = "[GetDateText]: [This.GetName]: decision remove arab_spring_encourage_supporters executed"
			hidden_effect = {
				random_list = {
					75 = { }
					25 = {
						set_country_flag = arab_spring_civilian_clashes
						modifier = {
							factor = 2
							check_variable = { arab_spring > 50 }
						}
						modifier = {
							factor = 2
							check_variable = { arab_spring > 75 }
						}
					}
				}
			}
			country_event = { id = arab_spring.6 }
			set_temp_variable = { temp_strength = -40 }
			change_arab_spring_strength = yes
			custom_effect_tooltip = clashes_fatalities_tt
		}

		ai_will_do = {
			factor = 10
		}
	}

	arab_spring_request_crackdown = {
		icon = GFX_decision_generic_tank

		days_remove = 21
		cost = 50

		visible = {
			has_country_flag = arab_spring_active
			has_idea = idea_gcc_member_state
			NOT = { has_country_flag = gcc_dominant_member }
		}

		remove_effect = {
			log = "[GetDateText]: [This.GetName]: decision arab_spring_request_crackdown executed"
			random_country = {
				limit = { has_country_flag = gcc_dominant_member }
				country_event = { id = arab_spring.19 }
			}
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				check_variable = { arab_spring > 100 }
			}
		}
	}

	arab_spring_deploy_the_military = {
		icon = GFX_decision_generic_tank

		visible = {
			has_country_flag = arab_spring_active
			NOT = { has_country_flag = arab_spring_military_deployed }
		}

		cost = 50

		days_remove = 2

		complete_effect = {
			log = "[GetDateText]: [This.GetName]: decision arab_spring_deploy_the_military executed"
			set_temp_variable = { temp_opinion = -5 }
			change_the_military_opinion = yes
		}

		remove_effect = {
			log = "[GetDateText]: [This.GetName]: decision arab_spring_deploy_the_military remove executed"
			set_temp_variable = { temp_strength = -40 }
			change_arab_spring_strength = yes
			set_country_flag = arab_spring_military_deployed
			custom_effect_tooltip = mutiny_possibility_tt
			custom_effect_tooltip = clashes_fatalities_tt
		}

		ai_will_do = {
			base = 10
		}
	}

	arab_spring_return_to_barracks = {
		icon = GFX_decision_generic_tank

		visible = {
			has_country_flag = arab_spring_active
			has_country_flag = arab_spring_military_deployed
		}

		cost = 50

		days_remove = 5

		fire_only_once = yes

		remove_effect = {
			log = "[GetDateText]: [This.GetName]: decision arab_spring_deploy_the_military executed"
			set_temp_variable = { temp_strength = 15 }
			change_arab_spring_strength = yes
			clr_country_flag = arab_spring_military_deployed
			custom_effect_tooltip = arab_spring_return_to_barracks_tt
		}
	}

	arab_spring_reshuffle_government = {
		icon = GFX_decision_generic_political_discourse

		visible = {
			has_country_flag = arab_spring_active
		}

		cost = 100

		days_remove = 20

		fixed_random_seed = no

		remove_effect = {
			log = "[GetDateText]: [This.GetName]: decision arab_spring_deploy_the_military executed"
			set_temp_variable = { temp_strength = -50 }
			change_arab_spring_strength = yes
			if = {
				limit = { check_variable = { arab_spring < 26 } }
				random_list = {
					60 = {
						country_event = { id = arab_spring.9 }
					}
					40 = {
						country_event = { id = arab_spring.10 }
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { arab_spring > 25 }
					check_variable = { arab_spring < 66 }
				}
				random_list = {
					50 = {
						country_event = { id = arab_spring.9 }
					}
					50 = {
						country_event = { id = arab_spring.10 }
					}
				}
			}
			else_if = {
				limit = { check_variable = { arab_spring > 65 } }
				random_list = {
					40 = {
						country_event = { id = arab_spring.9 }
					}
					60 = {
						country_event = { id = arab_spring.10 }
					}
				}
			}
		}

		ai_will_do = {
			factor = 10
		}
	}

	arab_spring_amend_the_constitution = {
		icon = eng_trade_unions_support

		visible = {
			has_country_flag = arab_spring_active
		}

		cost = 100

		fire_only_once = yes

		days_remove = 10

		fixed_random_seed = no

		remove_effect = {
			log = "[GetDateText]: [This.GetName]: decision arab_spring_amend_the_constitution executed"
			add_ideas = constitutional_reform
			set_temp_variable = { temp_strength = -100 }
			change_arab_spring_strength = yes
			if = {
				limit = { check_variable = { arab_spring < 26 } }
				random_list = {
					75 = {
						country_event = { id = arab_spring.9 }
					}
					25 = {
						country_event = { id = arab_spring.10 }
					}
				}
			}
			else_if = {
				limit = {
					check_variable = { arab_spring > 25 }
					check_variable = { arab_spring < 66 }
				}
				random_list = {
					60 = {
						country_event = { id = arab_spring.9 }
					}
					40 = {
						country_event = { id = arab_spring.10 }
					}
				}
			}
			else_if = {
				limit = { check_variable = { arab_spring > 65 } }
				random_list = {
					50 = {
						country_event = { id = arab_spring.9 }
					}
					50 = {
						country_event = { id = arab_spring.10 }
					}
				}
			}
		}

		ai_will_do = {
			base = 10
		}
	}

	# For Trigger Nation
	arab_spring_protests_1 = {

		icon = GFX_decision_revolt

		is_good = no

		days_mission_timeout = 60

		activation = {
			has_country_flag = arab_spring_active
			NOT = { has_global_flag = global_arab_spring_started }
		}

		fire_only_once = yes

		available = {
			custom_trigger_tooltip = {
				tooltip = arab_spring_ended_tt
				check_variable = { arab_spring < 200 }
			}
		}

		timeout_effect = {
			log = "[GetDateText]: [This.GetName]: decision arab_spring_protests_1 timeout executed"
			clr_country_flag = arab_spring_active
			if = { limit = { check_variable = { arab_spring > 65 } }
				country_event = { id = arab_spring.11 random_days = 7 random_hours = 18 }
			}
			else = {
				add_political_power = -150
			}
		}

		complete_effect = {
			log = "[GetDateText]: [This.GetName]: decision arab_spring_protests_1 complete executed"
			clr_country_flag = arab_spring_active
			country_event = { id = arab_spring.18 random_hours = 18 }
		}
	}

	# For Other Nations
	arab_spring_protests_2 = {
		icon = GFX_decision_revolt

		is_good = no

		days_mission_timeout = 90
		fire_only_once = yes

		activation = {
			has_global_flag = global_arab_spring_started
			NOT = { has_country_flag = AS_arab_spring_completed }

			# Global Arab Spring has started... our own protests can begin
			check_variable = { arab_spring > 199 }
			NOT = { is_in_array = { ruling_party = 12 } }
			has_war = no
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = arab_spring_ended_tt
				check_variable = { arab_spring < 200 }
			}
		}

		timeout_effect = {
			log = "[GetDateText]: [This.GetName]: decision arab_spring_protests_2 timeout executed"
			clr_country_flag = arab_spring_active
			if = { limit = { check_variable = { arab_spring > 99 } }
				country_event = { id = arab_spring.11 random_days = 7 random_hours = 18 }
			}
			else = {
				add_political_power = -150
				country_event = { id = arab_spring.18 random_days = 7 random_hours = 18 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [This.GetName]: decision arab_spring_protests_2 complete executed"
			clr_country_flag = arab_spring_active
			country_event = { id = arab_spring.18 }
		}
	}
}
