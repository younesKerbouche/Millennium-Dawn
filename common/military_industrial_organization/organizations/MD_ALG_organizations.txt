##############################
### ALGERIAN MIOs
##############################

### Infantry Equipment ###
ALG_khenchela_arms_manufacturer = {
    allowed = { original_tag = ALG }
    icon = GFX_idea_ALG_khenchela_arms
    name = ALG_khenchela_arms_manufacturer
    include = generic_infantry_equipment_organization

    equipment_type = {
        Inf_equipment
    }

    research_categories = {
        CAT_inf
        CAT_support
    }

    research_bonus = 0.03

    tree_header_text = {
        text = ALG_mio_header_equipment_reliability
        x = 1
    }

    tree_header_text = {
        text = ALG_mio_header_production_efficiency
        x = 6
    }

    ai_will_do = {
        factor = 10
        modifier = {
            factor = 0.5
            FROM = { num_of_military_factories < 10 }
        }
    }

    initial_trait = {
        name = generic_mio_initial_trait_infantry_manufacturer

        organization_modifier = {
            military_industrial_organization_task_capacity = -1
        }

        equipment_bonus = {
            reliability = 0.04
            build_cost_ic = -0.03
        }

        production_bonus = {
            production_capacity_factor = 0.05
        }
    }

    trait = {
        token = ALG_khenchela_trait_desert_hardened
        name = ALG_khenchela_trait_desert_hardened
        icon = GFX_generic_mio_trait_icon_reliability

        position = { x = 1 y = 0 }

        equipment_bonus = {
            reliability = 0.05
        }

        on_complete = {
            FROM = {
                small_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_khenchela_trait_simplified_maintenance
        name = ALG_khenchela_trait_simplified_maintenance
        icon = GFX_generic_mio_trait_icon_build_cost_ic

        position = { x = 0 y = 1 }
        relative_position_id = ALG_khenchela_trait_desert_hardened
        all_parents = { ALG_khenchela_trait_desert_hardened }

        equipment_bonus = {
            build_cost_ic = -0.05
        }

        on_complete = {
            FROM = {
                small_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_khenchela_trait_standardized_production
        name = ALG_khenchela_trait_standardized_production
        icon = GFX_generic_mio_trait_icon_efficiency_gain

        position = { x = 6 y = 0 }

        production_bonus = {
            production_efficiency_gain_factor = 0.08
        }

        on_complete = {
            FROM = {
                small_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_khenchela_trait_mass_production_focus
        name = ALG_khenchela_trait_mass_production_focus
        icon = GFX_generic_mio_trait_icon_production_capacity

        position = { x = 0 y = 1 }
        relative_position_id = ALG_khenchela_trait_standardized_production
        all_parents = { ALG_khenchela_trait_standardized_production }

        production_bonus = {
            production_capacity_factor = 0.10
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }
}

### Small Arms ###
ALG_seriana_small_arms = {
    allowed = { original_tag = ALG }
    icon = GFX_idea_ALG_seriana
    name = ALG_seriana_small_arms
    include = GER_generic_small_arms_manufacturer

    equipment_type = {
        Inf_equipment
    }

    research_categories = {
        CAT_inf
    }

    research_bonus = 0.02

    tree_header_text = {
        text = ALG_mio_header_weapon_quality
        x = 1
    }

    tree_header_text = {
        text = ALG_mio_header_production_efficiency
        x = 5
    }

    ai_will_do = {
        factor = 10
        modifier = {
            factor = 0.5
            FROM = { num_of_military_factories < 8 }
        }
    }

    initial_trait = {
        name = generic_mio_initial_trait_infantry_manufacturer

        organization_modifier = {
            military_industrial_organization_task_capacity = -2
        }

        equipment_bonus = {
            reliability = 0.03
        }

        production_bonus = {
            production_efficiency_cap_factor = 0.05
            production_efficiency_gain_factor = 0.08
        }
    }

    trait = {
        token = ALG_seriana_trait_kalashnikov_expertise
        name = ALG_seriana_trait_kalashnikov_expertise
        icon = GFX_generic_mio_trait_icon_smallarms_attack

        position = { x = 1 y = 0 }

        equipment_bonus = {
            soft_attack = 0.05
            reliability = 0.03
        }

        on_complete = {
            FROM = {
                small_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_seriana_trait_licensed_production
        name = ALG_seriana_trait_licensed_production
        icon = GFX_generic_mio_trait_icon_efficiency_cap

        position = { x = 5 y = 0 }

        production_bonus = {
            production_efficiency_cap_factor = 0.08
        }

        on_complete = {
            FROM = {
                small_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_seriana_trait_cost_reduction
        name = ALG_seriana_trait_cost_reduction
        icon = GFX_generic_mio_trait_icon_smallarms_buildcost

        position = { x = 0 y = 1 }
        relative_position_id = ALG_seriana_trait_licensed_production
        all_parents = { ALG_seriana_trait_licensed_production }

        equipment_bonus = {
            build_cost_ic = -0.08
        }

        on_complete = {
            FROM = {
                small_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }
}

### Missiles & Artillery ###
ALG_dgi_missile_systems = {
    allowed = { original_tag = ALG }
    icon = GFX_idea_ALG_dgi
    name = ALG_dgi_missile_systems
    include = generic_aa_at_equipment_organization

    equipment_type = {
        cnc_equipment
        L_AT_Equipment
        H_AT_Equipment
        AA_Equipment
        artillery_equipment
        rocket_artillery_equipment
    }

    research_categories = {
        CAT_artillery
        CAT_at
        CAT_aa
        CAT_missile
    }

    research_bonus = 0.04

    tree_header_text = {
        text = ALG_mio_header_missile_technology
        x = 1
    }

    tree_header_text = {
        text = ALG_mio_header_artillery_systems
        x = 5
    }

    tree_header_text = {
        text = ALG_mio_header_production_efficiency
        x = 9
    }

    ai_will_do = {
        factor = 10
        modifier = {
            factor = 0.5
            FROM = { num_of_military_factories < 12 }
        }
    }

    initial_trait = {
        name = generic_mio_initial_trait_at_aa_manufacturer

        organization_modifier = {
            military_industrial_organization_task_capacity = -1
            military_industrial_organization_research_bonus = 0.03
        }

        equipment_bonus = {
            reliability = 0.03
        }

        production_bonus = {
            production_efficiency_cap_factor = 0.06
            production_efficiency_gain_factor = 0.08
        }
    }

    trait = {
        token = ALG_dgi_trait_atgm_development
        name = ALG_dgi_trait_atgm_development
        icon = GFX_generic_mio_trait_icon_hard_attack

        position = { x = 1 y = 0 }

        limit_to_equipment_type = {
            H_AT_Equipment
        }

        equipment_bonus = {
            hard_attack = 0.08
            ap_attack = 0.05
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_dgi_trait_manpads_systems
        name = ALG_dgi_trait_manpads_systems
        icon = GFX_generic_mio_trait_icon_air_defence

        position = { x = 0 y = 1 }
        relative_position_id = ALG_dgi_trait_atgm_development
        all_parents = { ALG_dgi_trait_atgm_development }

        limit_to_equipment_type = {
            AA_Equipment
        }

        equipment_bonus = {
            anti_air_attack = 0.10
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_dgi_trait_artillery_modernization
        name = ALG_dgi_trait_artillery_modernization
        icon = GFX_generic_mio_trait_icon_soft_attack

        position = { x = 5 y = 0 }

        limit_to_equipment_type = {
            artillery_equipment
            rocket_artillery_equipment
        }

        equipment_bonus = {
            soft_attack = 0.08
            breakthrough = 0.03
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_dgi_trait_cnc_integration
        name = ALG_dgi_trait_cnc_integration
        icon = GFX_generic_mio_trait_icon_detection

        position = { x = 9 y = 0 }

        limit_to_equipment_type = {
            cnc_equipment
        }

        equipment_bonus = {
            reliability = 0.05
        }

        organization_modifier = {
            military_industrial_organization_research_bonus = 0.05
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_dgi_trait_mass_production
        name = ALG_dgi_trait_mass_production
        icon = GFX_generic_mio_trait_icon_production_capacity

        position = { x = 0 y = 1 }
        relative_position_id = ALG_dgi_trait_cnc_integration
        all_parents = { ALG_dgi_trait_cnc_integration }

        production_bonus = {
            production_capacity_factor = 0.12
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }
}

### Armored Vehicles ###
ALG_bcl_armored_development = {
    allowed = { original_tag = ALG }
    icon = GFX_idea_ALG_bcl
    name = ALG_bcl_armored_development
    include = generic_specialized_tank_organization

    equipment_type = {
        util_vehicle_equipment
        medium_tank_amphibious_chassis
        medium_tank_flame_chassis
        medium_tank_destroyer_chassis
        medium_tank_artillery_chassis
    }

    research_categories = {
        CAT_apc
        CAT_ifv
        CAT_armor
    }

    research_bonus = 0.02

    tree_header_text = {
        text = ALG_mio_header_vehicle_reliability
        x = 1
    }

    tree_header_text = {
        text = ALG_mio_header_armor_upgrades
        x = 5
    }

    tree_header_text = {
        text = ALG_mio_header_production_efficiency
        x = 9
    }

    ai_will_do = {
        factor = 10
        modifier = {
            factor = 0.5
            FROM = { num_of_military_factories < 15 }
        }
    }

    initial_trait = {
        name = generic_mio_initial_trait_md_specialized_tank_manufacturer

        organization_modifier = {
            military_industrial_organization_task_capacity = -1
            military_industrial_organization_research_bonus = 0.02
        }

        equipment_bonus = {
            reliability = 0.05
            build_cost_ic = -0.02
        }

        production_bonus = {
            production_capacity_factor = 0.05
        }
    }

    trait = {
        token = ALG_bcl_trait_desert_adaptation
        name = ALG_bcl_trait_desert_adaptation
        icon = GFX_generic_mio_trait_icon_reliability

        position = { x = 1 y = 0 }

        equipment_bonus = {
            reliability = 0.08
            maximum_speed = 0.03
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_bcl_trait_soviet_refurbishment
        name = ALG_bcl_trait_soviet_refurbishment
        icon = GFX_generic_mio_trait_icon_build_cost_ic

        position = { x = 0 y = 1 }
        relative_position_id = ALG_bcl_trait_desert_adaptation
        all_parents = { ALG_bcl_trait_desert_adaptation }

        equipment_bonus = {
            build_cost_ic = -0.08
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_bcl_trait_reactive_armor
        name = ALG_bcl_trait_reactive_armor
        icon = GFX_generic_mio_trait_icon_armor_value

        position = { x = 5 y = 0 }

        equipment_bonus = {
            armor_value = 0.08
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_bcl_trait_apc_modernization
        name = ALG_bcl_trait_apc_modernization
        icon = GFX_generic_mio_trait_icon_apc_defense

        position = { x = 0 y = 1 }
        relative_position_id = ALG_bcl_trait_reactive_armor
        all_parents = { ALG_bcl_trait_reactive_armor }

        limit_to_equipment_type = {
            medium_tank_amphibious_chassis
            medium_tank_flame_chassis
        }

        equipment_bonus = {
            defense = 0.05
            breakthrough = 0.03
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_bcl_trait_production_efficiency
        name = ALG_bcl_trait_production_efficiency
        icon = GFX_generic_mio_trait_icon_efficiency_gain

        position = { x = 9 y = 0 }

        production_bonus = {
            production_efficiency_gain_factor = 0.10
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }
}

### Utility Vehicles ###
ALG_snvi_vehicle_manufacturer = {
    allowed = { original_tag = ALG }
    icon = GFX_idea_ALG_snvi
    name = ALG_snvi_vehicle_manufacturer
    include = GER_generic_utility_vehicle_manufacturer

    equipment_type = {
        util_vehicle_equipment
        motorized_equipment
    }

    research_categories = {
        CAT_util
        CAT_motorized
    }

    research_bonus = 0.03

    tree_header_text = {
        text = ALG_mio_header_vehicle_reliability
        x = 1
    }

    tree_header_text = {
        text = ALG_mio_header_production_efficiency
        x = 5
    }

    ai_will_do = {
        factor = 10
        modifier = {
            factor = 0.5
            FROM = { num_of_military_factories < 8 }
        }
    }

    initial_trait = {
        name = generic_mio_initial_trait_utility_vehicle_manufacturer

        organization_modifier = {
            military_industrial_organization_task_capacity = -1
        }

        equipment_bonus = {
            reliability = 0.05
            maximum_speed = 0.02
        }

        production_bonus = {
            production_efficiency_cap_factor = 0.06
        }
    }

    trait = {
        token = ALG_snvi_trait_saharan_proven
        name = ALG_snvi_trait_saharan_proven
        icon = GFX_generic_mio_trait_icon_reliability

        position = { x = 1 y = 0 }

        equipment_bonus = {
            reliability = 0.08
        }

        on_complete = {
            FROM = {
                small_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_snvi_trait_mercedes_partnership
        name = ALG_snvi_trait_mercedes_partnership
        icon = GFX_generic_mio_trait_icon_maximum_speed

        position = { x = 0 y = 1 }
        relative_position_id = ALG_snvi_trait_saharan_proven
        all_parents = { ALG_snvi_trait_saharan_proven }

        equipment_bonus = {
            maximum_speed = 0.05
        }

        on_complete = {
            FROM = {
                small_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_snvi_trait_mass_production
        name = ALG_snvi_trait_mass_production
        icon = GFX_generic_mio_trait_icon_production_capacity

        position = { x = 5 y = 0 }

        production_bonus = {
            production_capacity_factor = 0.10
        }

        on_complete = {
            FROM = {
                small_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_snvi_trait_cost_reduction
        name = ALG_snvi_trait_cost_reduction
        icon = GFX_generic_mio_trait_icon_build_cost_ic

        position = { x = 0 y = 1 }
        relative_position_id = ALG_snvi_trait_mass_production
        all_parents = { ALG_snvi_trait_mass_production }

        equipment_bonus = {
            build_cost_ic = -0.08
        }

        on_complete = {
            FROM = {
                small_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }
}

### Helicopters ###
ALG_enmib_helicopter_unit = {
    allowed = { original_tag = ALG }
    icon = GFX_idea_ALG_enmib
    name = ALG_enmib_helicopter_unit
    include = generic_specialized_helicopter_organization

    equipment_type = {
        helicopter_equipment
    }

    research_categories = {
        CAT_helicopter
    }

    research_bonus = 0.02

    tree_header_text = {
        text = ALG_mio_header_helicopter_maintenance
        x = 1
    }

    tree_header_text = {
        text = ALG_mio_header_production_efficiency
        x = 5
    }

    ai_will_do = {
        factor = 10
        modifier = {
            factor = 0.5
            FROM = { num_of_military_factories < 10 }
        }
    }

    initial_trait = {
        name = generic_mio_initial_trait_md_specialized_helicopter_manufacturer

        organization_modifier = {
            military_industrial_organization_task_capacity = -2
            military_industrial_organization_research_bonus = 0.01
        }

        equipment_bonus = {
            reliability = 0.04
        }

        production_bonus = {
            production_capacity_factor = 0.04
        }
    }

    trait = {
        token = ALG_enmib_trait_maintenance_expertise
        name = ALG_enmib_trait_maintenance_expertise
        icon = GFX_generic_mio_trait_icon_reliability

        position = { x = 1 y = 0 }

        equipment_bonus = {
            reliability = 0.08
        }

        on_complete = {
            FROM = {
                small_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_enmib_trait_licensed_assembly
        name = ALG_enmib_trait_licensed_assembly
        icon = GFX_generic_mio_trait_icon_build_cost_ic

        position = { x = 0 y = 1 }
        relative_position_id = ALG_enmib_trait_maintenance_expertise
        all_parents = { ALG_enmib_trait_maintenance_expertise }

        equipment_bonus = {
            build_cost_ic = -0.05
        }

        on_complete = {
            FROM = {
                small_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_enmib_trait_production_expansion
        name = ALG_enmib_trait_production_expansion
        icon = GFX_generic_mio_trait_icon_production_capacity

        position = { x = 5 y = 0 }

        production_bonus = {
            production_capacity_factor = 0.08
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }
}

### Light Naval ###
ALG_mers_el_kebir_shipyards = {
    allowed = { original_tag = ALG }
    icon = GFX_idea_ALG_mers_el_kebir
    name = ALG_mers_el_kebir_shipyards
    include = RAJ_Garden_reach_naval_manufacturer

    equipment_type = {
        convoy
        mio_cat_only_small_ships
        mio_cat_frigates
    }

    research_categories = {
        CAT_naval_light
    }

    research_bonus = 0.03

    tree_header_text = {
        text = ALG_mio_header_naval_construction
        x = 1
    }

    tree_header_text = {
        text = ALG_mio_header_production_efficiency
        x = 5
    }

    ai_will_do = {
        factor = 10
        modifier = {
            factor = 0.5
            FROM = { num_of_naval_factories < 8 }
        }
    }

    initial_trait = {
        name = generic_mio_initial_trait_md_light_naval_manufacturer

        organization_modifier = {
            military_industrial_organization_research_bonus = 0.03
            military_industrial_organization_task_capacity = -1
        }

        equipment_bonus = {
            reliability = 0.04
        }

        production_bonus = {
            production_capacity_factor = 0.05
        }
    }

    trait = {
        token = ALG_mek_trait_mediterranean_design
        name = ALG_mek_trait_mediterranean_design
        icon = GFX_generic_mio_trait_icon_naval_speed

        position = { x = 1 y = 0 }

        equipment_bonus = {
            naval_speed = 0.05
            fuel_consumption = -0.03
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_mek_trait_patrol_vessel_expertise
        name = ALG_mek_trait_patrol_vessel_expertise
        icon = GFX_generic_mio_trait_icon_surface_detection

        position = { x = 0 y = 1 }
        relative_position_id = ALG_mek_trait_mediterranean_design
        all_parents = { ALG_mek_trait_mediterranean_design }

        limit_to_equipment_type = {
            mio_cat_only_small_ships
        }

        equipment_bonus = {
            surface_detection = 0.08
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_mek_trait_shipyard_expansion
        name = ALG_mek_trait_shipyard_expansion
        icon = GFX_generic_mio_trait_icon_production_capacity

        position = { x = 5 y = 0 }

        production_bonus = {
            production_capacity_factor = 0.10
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }
}

### Mixed Naval ###
ALG_el_djazair_naval_industry = {
    allowed = { original_tag = ALG }
    icon = GFX_idea_ALG_cnan
    name = ALG_el_djazair_naval_industry
    include = generic_mixed_naval_equipment_organization

    equipment_type = {
        mio_cat_only_small_ships
        mio_cat_frigates
        mio_cat_destroyers
        submarine
    }

    research_categories = {
        CAT_naval_all
        CAT_submarine
    }

    research_bonus = 0.04

    tree_header_text = {
        text = ALG_mio_header_surface_vessels
        x = 1
    }

    tree_header_text = {
        text = ALG_mio_header_submarine_construction
        x = 5
    }

    tree_header_text = {
        text = ALG_mio_header_production_efficiency
        x = 9
    }

    ai_will_do = {
        factor = 10
        modifier = {
            factor = 0.5
            FROM = { num_of_naval_factories < 12 }
        }
    }

    initial_trait = {
        name = generic_mio_initial_trait_md_naval_manufacturer

        organization_modifier = {
            military_industrial_organization_research_bonus = 0.04
            military_industrial_organization_task_capacity = -2
        }

        equipment_bonus = {
            reliability = 0.03
        }

        production_bonus = {
            production_capacity_factor = 0.06
        }
    }

    trait = {
        token = ALG_cnan_trait_frigate_construction
        name = ALG_cnan_trait_frigate_construction
        icon = GFX_generic_mio_trait_icon_lg_attack

        position = { x = 1 y = 0 }

        limit_to_equipment_type = {
            mio_cat_frigates
            mio_cat_destroyers
        }

        equipment_bonus = {
            lg_attack = 0.08
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_cnan_trait_anti_air_systems
        name = ALG_cnan_trait_anti_air_systems
        icon = GFX_generic_mio_trait_icon_naval_anti_air_attack

        position = { x = 0 y = 1 }
        relative_position_id = ALG_cnan_trait_frigate_construction
        all_parents = { ALG_cnan_trait_frigate_construction }

        equipment_bonus = {
            anti_air_attack = 0.10
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_cnan_trait_submarine_assembly
        name = ALG_cnan_trait_submarine_assembly
        icon = GFX_generic_mio_trait_icon_sub_visibility

        position = { x = 5 y = 0 }

        limit_to_equipment_type = {
            submarine
        }

        equipment_bonus = {
            surface_visibility = -0.10
            sub_detection = 0.05
        }

        on_complete = {
            FROM = {
                large_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_cnan_trait_foreign_assistance
        name = ALG_cnan_trait_foreign_assistance
        icon = GFX_generic_mio_trait_icon_research

        position = { x = 0 y = 1 }
        relative_position_id = ALG_cnan_trait_submarine_assembly
        all_parents = { ALG_cnan_trait_submarine_assembly }

        organization_modifier = {
            military_industrial_organization_research_bonus = 0.08
        }

        on_complete = {
            FROM = {
                large_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_cnan_trait_shipyard_modernization
        name = ALG_cnan_trait_shipyard_modernization
        icon = GFX_generic_mio_trait_icon_production_capacity

        position = { x = 9 y = 0 }

        production_bonus = {
            production_capacity_factor = 0.12
        }

        on_complete = {
            FROM = {
                large_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }
}

### Aircraft ###
ALG_ersa_aircraft_manufacturer = {
    allowed = { original_tag = ALG }
    icon = GFX_idea_ALG_ersa
    name = ALG_ersa_aircraft_manufacturer
    include = generic_air_equipment_organization

    equipment_type = {
        mio_cat_eq_only_light_aircraft
        mio_cat_eq_only_transport
        helicopter_equipment
    }

    research_categories = {
        CAT_small_plane
        CAT_trans_plane
    }

    research_bonus = 0.04

    tree_header_text = {
        text = ALG_mio_header_aircraft_maintenance
        x = 1
    }

    tree_header_text = {
        text = ALG_mio_header_production_efficiency
        x = 5
    }

    ai_will_do = {
        factor = 10
        modifier = {
            factor = 0.5
            FROM = { num_of_military_factories < 12 }
        }
    }

    initial_trait = {
        name = generic_mio_initial_trait_md_air_manufacturer

        organization_modifier = {
            military_industrial_organization_research_bonus = 0.05
            military_industrial_organization_task_capacity = -1
        }

        equipment_bonus = {
            reliability = 0.04
        }

        production_bonus = {
            production_capacity_factor = 0.05
        }
    }

    trait = {
        token = ALG_ersa_trait_mro_expertise
        name = ALG_ersa_trait_mro_expertise
        icon = GFX_generic_mio_trait_icon_reliability

        position = { x = 1 y = 0 }

        equipment_bonus = {
            reliability = 0.08
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_ersa_trait_licensed_assembly
        name = ALG_ersa_trait_licensed_assembly
        icon = GFX_generic_mio_trait_icon_build_cost_ic

        position = { x = 0 y = 1 }
        relative_position_id = ALG_ersa_trait_mro_expertise
        all_parents = { ALG_ersa_trait_mro_expertise }

        equipment_bonus = {
            build_cost_ic = -0.08
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_ersa_trait_transport_specialization
        name = ALG_ersa_trait_transport_specialization
        icon = GFX_generic_mio_trait_icon_air_range

        position = { x = 5 y = 0 }

        limit_to_equipment_type = {
            mio_cat_eq_only_transport
        }

        equipment_bonus = {
            air_range = 0.10
            fuel_consumption = -0.05
        }

        on_complete = {
            FROM = {
                medium_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }

    trait = {
        token = ALG_ersa_trait_production_expansion
        name = ALG_ersa_trait_production_expansion
        icon = GFX_generic_mio_trait_icon_production_capacity

        position = { x = 0 y = 1 }
        relative_position_id = ALG_ersa_trait_transport_specialization
        all_parents = { ALG_ersa_trait_transport_specialization }

        production_bonus = {
            production_capacity_factor = 0.12
        }

        on_complete = {
            FROM = {
                large_expenditure = yes
            }
        }

        ai_will_do = {
            factor = 50
            modifier = {
                factor = 0
                check_variable = { FROM.interest_rate > 8 }
            }
        }
    }
}