# Author(s): TheGeneral
# Equipment
BRA_imbel_materiel_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_BRA_imbel
	name = BRA_imbel_materiel_manufacturer

	equipment_type = {
		Inf_equipment
		AA_Equipment
		L_AT_Equipment
	}

	research_categories = {
		CAT_inf_wep
		CAT_l_at
		CAT_l_aa
	}

	tree_header_text = {
		text = "Infantry Weapons"
		x = 1
	}

	tree_header_text = {
		text = "Anti-Air Weapons"
		x = 5
	}

	tree_header_text = {
		text = "Light Anti Tank"
		x = 8
	}

	initial_trait = {
		name = BRA_imbel_materiel_manufacturer_trait

		equipment_bonus = {
			reliability = 0.05
			build_cost_ic = -0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_service_rifle
		name = BRA_imbel_material_mio_trait_service_rifle
		icon = GFX_generic_mio_trait_icon_smallarms_reliability

		position = { x = 0 y = 0 }

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			reliability = 0.08
			build_cost_ic = -0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_improved_ballistics
		name = BRA_imbel_material_mio_trait_improved_ballistics
		icon = GFX_generic_mio_trait_icon_smallarms_attack

		position = { x = 2 y = 0 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			soft_attack = 0.06
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_ligtweight_polymer
		name = BRA_imbel_material_mio_trait_ligtweight_polymer
		icon = GFX_generic_mio_trait_icon_smallarms_buildcost

		position = { x = 2 y = 1 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		all_parents = {
			BRA_imbel_material_mio_trait_improved_ballistics
			BRA_imbel_material_mio_trait_service_rifle
		}
		mutually_exclusive = {
			BRA_imbel_material_mio_trait_local_ammunition
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			build_cost_ic = -0.15
		}

		production_bonus = {
			production_resource_need_factor = -0.20
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_local_ammunition
		name = BRA_imbel_material_mio_trait_local_ammunition
		icon = GFX_generic_mio_department_icon_facilities

		position = { x = 0 y = 1 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		all_parents = {
			BRA_imbel_material_mio_trait_improved_ballistics
			BRA_imbel_material_mio_trait_service_rifle
		}
		mutually_exclusive = {
			BRA_imbel_material_mio_trait_ligtweight_polymer
		}

		on_complete = {
			BRA = {
				random_core_state = {
					limit = {
						is_owned_by = BRA
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_traitintegrated_optics
		name = BRA_imbel_material_mio_traitintegrated_optics
		icon = GFX_generic_mio_trait_icon_smallarms_attack

		position = { x = 0 y = 2 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		any_parent = {
			BRA_imbel_material_mio_trait_local_ammunition
			BRA_imbel_material_mio_trait_ligtweight_polymer
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			soft_attack = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_jungle_adaptation
		name = BRA_imbel_material_mio_trait_jungle_adaptation
		icon = GFX_generic_mio_trait_icon_smallarms_defense

		position = { x = 2 y = 2 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		any_parent = {
			BRA_imbel_material_mio_trait_local_ammunition
			BRA_imbel_material_mio_trait_ligtweight_polymer
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			defense = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_squad_automatic
		name = BRA_imbel_material_mio_trait_squad_automatic
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 1 y = 3 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		all_parents = {
			BRA_imbel_material_mio_trait_jungle_adaptation
			BRA_imbel_material_mio_traitintegrated_optics
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			soft_attack = 0.02
			breakthrough = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_urban_combat_barrel
		name = BRA_imbel_material_mio_trait_urban_combat_barrel
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 0 y = 4 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		all_parents = {
			BRA_imbel_material_mio_trait_squad_automatic
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			breakthrough = 0.06
			reliability = -0.02
			build_cost_ic = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_improved_logistics
		name = BRA_imbel_material_mio_trait_improved_logistics
		icon = GFX_generic_mio_trait_icon_smallarms_efficiency_gain

		position = { x = 1 y = 4 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		all_parents = {
			BRA_imbel_material_mio_trait_squad_automatic
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_small_arms_innovation
		name = BRA_imbel_material_mio_trait_small_arms_innovation
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 2 y = 4 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle
		all_parents = {
			BRA_imbel_material_mio_trait_squad_automatic
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.08
			military_industrial_organization_design_team_assign_cost = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_seeker_heads
		name = BRA_imbel_material_mio_trait_seeker_heads
		icon = GFX_generic_mio_trait_icon_aa_anti_air_attack

		position = { x = 5 y = 0 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle

		limit_to_equipment_type = {
			anti_air
		}

		equipment_bonus = {
			anti_air_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_camouflage_launch
		name = BRA_imbel_material_mio_trait_camouflage_launch
		icon = GFX_generic_mio_trait_icon_aa_anti_air_attack

		position = { x = -1 y = 1 }
		relative_position_id = BRA_imbel_material_mio_trait_seeker_heads

		all_parents = {
			BRA_imbel_material_mio_trait_seeker_heads
		}

		limit_to_equipment_type = {
			anti_air
		}

		equipment_bonus = {
			anti_air_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_ligtweight_gripstock
		name = BRA_imbel_material_mio_trait_ligtweight_gripstock
		icon = GFX_generic_mio_trait_icon_aa_resource

		position = { x = 1 y = 1 }
		relative_position_id = BRA_imbel_material_mio_trait_seeker_heads

		all_parents = {
			BRA_imbel_material_mio_trait_seeker_heads
		}

		limit_to_equipment_type = {
			anti_air
		}

		production_bonus = {
			production_resource_need_factor = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_rapid_reload
		name = BRA_imbel_material_mio_trait_rapid_reload
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 0 y = 2 }
		relative_position_id = BRA_imbel_material_mio_trait_seeker_heads

		all_parents = {
			BRA_imbel_material_mio_trait_ligtweight_gripstock
			BRA_imbel_material_mio_trait_camouflage_launch
		}

		limit_to_equipment_type = {
			anti_air
		}

		equipment_bonus = {
			anti_air_attack = 0.10
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_distributed_network
		name = BRA_imbel_material_mio_trait_distributed_network
		icon = GFX_generic_mio_trait_icon_design

		position = { x = 0 y = 3 }
		relative_position_id = BRA_imbel_material_mio_trait_seeker_heads

		all_parents = {
			BRA_imbel_material_mio_trait_rapid_reload
		}

		limit_to_equipment_type = {
			anti_air
		}

		equipment_bonus = {
			anti_air_attack = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
			military_industrial_organization_design_team_change_cost = -0.50
			military_industrial_organization_funds_gain = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_recoilles_rifle
		name = BRA_imbel_material_mio_trait_recoilles_rifle
		icon = GFX_generic_mio_trait_icon_atgm_hard_attack

		position = { x = 7 y = 0 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			hard_attack = 0.08
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_shaped_charge
		name = BRA_imbel_material_mio_trait_shaped_charge
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 9 y = 0 }
		relative_position_id = BRA_imbel_material_mio_trait_service_rifle

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			ap_attack = 0.10
			soft_attack = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_portable_at_tube
		name = BRA_imbel_material_mio_trait_portable_at_tube
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 1 y = 1 }
		relative_position_id = BRA_imbel_material_mio_trait_recoilles_rifle

		all_parents = {
			BRA_imbel_material_mio_trait_recoilles_rifle
			BRA_imbel_material_mio_trait_shaped_charge
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			breakthrough = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_locally_guidance
		name = BRA_imbel_material_mio_trait_locally_guidance
		icon = GFX_generic_mio_trait_icon_atgm_ap_attack

		position = { x = 0 y = 2 }
		relative_position_id = BRA_imbel_material_mio_trait_recoilles_rifle

		all_parents = {
			BRA_imbel_material_mio_trait_portable_at_tube
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			ap_attack = 0.06
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_anti_armor_task
		name = BRA_imbel_material_mio_trait_anti_armor_task
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 0 y = 3 }
		relative_position_id = BRA_imbel_material_mio_trait_recoilles_rifle

		all_parents = {
			BRA_imbel_material_mio_trait_locally_guidance
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			hard_attack = 0.05
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_research_bonus = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_compact_warhead_assembly
		name = BRA_imbel_material_mio_trait_compact_warhead_assembly
		icon = GFX_generic_mio_trait_icon_atgm_efficiency_cap

		position = { x = 2 y = 2 }
		relative_position_id = BRA_imbel_material_mio_trait_recoilles_rifle

		all_parents = {
			BRA_imbel_material_mio_trait_portable_at_tube
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_imbel_material_mio_trait_compact_combined_arms_doctrine
		name = BRA_imbel_material_mio_trait_compact_combined_arms_doctrine
		icon = GFX_generic_mio_trait_icon_atgm_soft_attack

		position = { x = 2 y = 3 }
		relative_position_id = BRA_imbel_material_mio_trait_recoilles_rifle

		all_parents = {
			BRA_imbel_material_mio_trait_compact_warhead_assembly
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			soft_attack = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

BRA_taurus_materiel_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_BRA_taurus
	name = BRA_taurus_materiel_manufacturer

	equipment_type = {
		Inf_equipment
	}

	research_categories = {
		CAT_inf_wep
	}

	tree_header_text = {
		text = "Mass Production Arsenal"
		x = 4
	}

	initial_trait = {
		name = BRA_taurus_materiel_manufacturer_trait

		production_bonus = {
			production_cost_factor = -0.10
			production_efficiency_cap_factor = 0.10
		}
	}

	trait = {
		token = BRA_taurus_material_mio_trait_stamped_receiver
		name = BRA_taurus_material_mio_trait_stamped_receiver
		icon = GFX_generic_mio_trait_icon_smallarms_buildcost

		position = { x = 1 y = 0 }

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			build_cost_ic = -0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_assembly_standardization
		name = BRA_taurus_material_mio_trait_assembly_standardization
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 0 y = 1 }
		relative_position_id = BRA_taurus_material_mio_trait_stamped_receiver
		all_parents = {
			BRA_taurus_material_mio_trait_stamped_receiver
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_police_contracts
		name = BRA_taurus_material_mio_trait_police_contracts
		icon = GFX_generic_mio_trait_icon_funds

		position = { x = 0 y = 3 }
		relative_position_id = BRA_taurus_material_mio_trait_stamped_receiver
		all_parents = {
			BRA_taurus_material_mio_trait_assembly_standardization
			BRA_taurus_material_mio_trait_jungle_warfare
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		organization_modifier = {
			custom_modifier_tooltip = BRA_taurus_material_mio_trait_police_contracts_tt
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
			hidden_effect = {
				BRA = {
					add_ideas = BRA_taurus_police_contracts
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_carbine_program
		name = BRA_taurus_material_mio_trait_carbine_program
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 4 y = 0 }

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			soft_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_compact_smg
		name = BRA_taurus_material_mio_trait_compact_smg
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 1 y = 1 }
		relative_position_id = BRA_taurus_material_mio_trait_carbine_program
		all_parents = {
			BRA_taurus_material_mio_trait_carbine_program
			BRA_taurus_material_mio_trait_polymer_frame
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			breakthrough = 0.04
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_jungle_warfare
		name = BRA_taurus_material_mio_trait_jungle_warfare
		icon = GFX_generic_mio_trait_icon_smallarms_defense

		position = { x = -1 y = 1 }
		relative_position_id = BRA_taurus_material_mio_trait_carbine_program
		all_parents = {
			BRA_taurus_material_mio_trait_carbine_program
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			defense = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_polymer_frame
		name = BRA_taurus_material_mio_trait_polymer_frame
		icon = GFX_generic_mio_trait_icon_smallarms_reliability

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			reliability = 0.05
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_domestic_ammunition
		name = BRA_taurus_material_mio_trait_domestic_ammunition
		icon = GFX_generic_mio_trait_icon_smallarms_resources

		position = { x = 0 y = 1 }
		relative_position_id = BRA_taurus_material_mio_trait_polymer_frame
		all_parents = {
			BRA_taurus_material_mio_trait_polymer_frame
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		production_bonus = {
			production_capacity_factor = 0.10
			production_resource_need_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_western_compatibility
		name = BRA_taurus_material_mio_trait_western_compatibility
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 2 y = 2 }
		relative_position_id = BRA_taurus_material_mio_trait_carbine_program
		all_parents = {
			BRA_taurus_material_mio_trait_compact_smg
			BRA_taurus_material_mio_trait_domestic_ammunition
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			ap_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_design_copy
		name = BRA_taurus_material_mio_trait_design_copy
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 0 y = 3 }
		relative_position_id = BRA_taurus_material_mio_trait_carbine_program
		all_parents = {
			BRA_taurus_material_mio_trait_western_compatibility
			BRA_taurus_material_mio_trait_jungle_warfare
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_taurus_material_mio_trait_dealer_network
		name = BRA_taurus_material_mio_trait_dealer_network
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 3 y = 3 }
		relative_position_id = BRA_taurus_material_mio_trait_carbine_program
		all_parents = {
			BRA_taurus_material_mio_trait_western_compatibility
			BRA_taurus_material_mio_trait_domestic_ammunition
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

BRA_Mectron_materiel_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_BRA_mectron
	name = BRA_Mectron_materiel_manufacturer

	equipment_type = {
		L_AT_Equipment
		sam_missile_equipment
		guided_missile_equipment
	}

	research_categories = {
		CAT_l_at
		CAT_sam
		CAT_glcm
		CAT_as_missiles
		CAT_aa_missiles
		CAT_vls_systems
	}

	task_capacity = 3

	tree_header_text = {
		text = "ATGM Line"
		x = 1
	}
	tree_header_text = {
		text = "SAM"
		x = 5
	}
	tree_header_text = {
		text = "Cruise Missiles"
		x = 8
	}

	initial_trait = {
		name = BRA_Mectron_materiel_manufacturer_trait

		equipment_bonus = {
			anti_air_attack = 0.18
			ap_attack = 0.12
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.08
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_mss_development
		name = BRA_mectron_material_mio_trait_mss_development
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 1 y = 0 }

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			ap_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_disposable_alac
		name = BRA_mectron_material_mio_trait_disposable_alac
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 1 y = 1 }
		relative_position_id = BRA_mectron_material_mio_trait_mss_development
		all_parents = {
			BRA_mectron_material_mio_trait_mss_development
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			soft_attack = 0.06
			reliability = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_composite_rocket
		name = BRA_mectron_material_mio_trait_composite_rocket
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = -1 y = 1 }
		relative_position_id = BRA_mectron_material_mio_trait_mss_development
		all_parents = {
			BRA_mectron_material_mio_trait_mss_development
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			breakthrough = 0.06
			build_cost_ic = -0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_local_guidance
		name = BRA_mectron_material_mio_trait_local_guidance
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = -1 y = 2 }
		relative_position_id = BRA_mectron_material_mio_trait_mss_development
		all_parents = {
			BRA_mectron_material_mio_trait_composite_rocket
		}

		mutually_exclusive = {
			BRA_mectron_material_mio_trait_mass_produced_at
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_mass_produced_at
		name = BRA_mectron_material_mio_trait_mass_produced_at
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 1 y = 2 }
		relative_position_id = BRA_mectron_material_mio_trait_mss_development
		all_parents = {
			BRA_mectron_material_mio_trait_disposable_alac
		}

		mutually_exclusive = {
			BRA_mectron_material_mio_trait_local_guidance
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_export_oriented_at
		name = BRA_mectron_material_mio_trait_export_oriented_at
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 0 y = 3 }
		relative_position_id = BRA_mectron_material_mio_trait_mss_development
		any_parent = {
			BRA_mectron_material_mio_trait_local_guidance
			BRA_mectron_material_mio_trait_mass_produced_at
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.05
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_next_gen_atgm
		name = BRA_mectron_material_mio_trait_next_gen_atgm
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 0 y = 4 }
		relative_position_id = BRA_mectron_material_mio_trait_mss_development
		all_parents = {
			BRA_mectron_material_mio_trait_export_oriented_at
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		equipment_bonus = {
			ap_attack = 0.08
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_infrared_seeker_rd
		name = BRA_mectron_material_mio_trait_infrared_seeker_rd
		icon = GFX_generic_mio_trait_icon_design

		position = { x = 5 y = 0 }

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			anti_air_attack = 0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
			military_industrial_organization_design_team_assign_cost = -0.25
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_all_aspect_labs
		name = BRA_mectron_material_mio_trait_all_aspect_labs
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 1 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_infrared_seeker_rd
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_compact_launch
		name = BRA_mectron_material_mio_trait_compact_launch
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 1 y = 2 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_all_aspect_labs
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_counter_countermeasure
		name = BRA_mectron_material_mio_trait_counter_countermeasure
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 0 y = 2 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_all_aspect_labs
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			air_agility = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_national_air_defence
		name = BRA_mectron_material_mio_trait_national_air_defence
		icon = GFX_generic_mio_trait_icon_task

		position = { x = -1 y = 2 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_all_aspect_labs
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		production_bonus = {
			production_conversion_speed_factor = 0.15
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_production_acceleration_cells
		name = BRA_mectron_material_mio_trait_production_acceleration_cells
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = -2 y = 3 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_national_air_defence
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_production_dual_band_sensor
		name = BRA_mectron_material_mio_trait_production_dual_band_sensor
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 0 y = 3 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_national_air_defence
			BRA_mectron_material_mio_trait_compact_launch
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			air_attack = 0.10
			air_agility = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_field_testing
		name = BRA_mectron_material_mio_trait_field_testing
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 2 y = 3 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_compact_launch
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			reliability = 0.05
		}

		production_bonus = {
			production_capacity_factor = 0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_export_quality
		name = BRA_mectron_material_mio_trait_export_quality
		icon = GFX_generic_mio_trait_icon_funds

		position = { x = 1 y = 4 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_production_dual_band_sensor
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.05
		}

		equipment_bonus = {
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_stealth_coating
		name = BRA_mectron_material_mio_trait_stealth_coating
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = -1 y = 4 }
		relative_position_id = BRA_mectron_material_mio_trait_infrared_seeker_rd
		all_parents = {
			BRA_mectron_material_mio_trait_production_dual_band_sensor
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			air_agility = 0.15
		}

		production_bonus = {
			production_resource_penalty_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_gps_fusion
		name = BRA_mectron_material_mio_trait_gps_fusion
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		equipment_bonus = {
			air_ground_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_subsonic_cruise
		name = BRA_mectron_material_mio_trait_subsonic_cruise
		icon = GFX_generic_mio_department_icon_tank_general_spg

		position = { x = 9 y = 0 }

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			strategic_attack = 0.10
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_extended_range_warhead
		name = BRA_mectron_material_mio_trait_extended_range_warhead
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = 1 y = 1 }
		relative_position_id = BRA_mectron_material_mio_trait_gps_fusion
		all_parents = {
			BRA_mectron_material_mio_trait_gps_fusion
			BRA_mectron_material_mio_trait_subsonic_cruise
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		equipment_bonus = {
			air_range = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_composite_airframe
		name = BRA_mectron_material_mio_trait_composite_airframe
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 0 y = 2 }
		relative_position_id = BRA_mectron_material_mio_trait_gps_fusion
		all_parents = {
			BRA_mectron_material_mio_trait_extended_range_warhead
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			build_cost_ic = -0.05
		}
		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_terrain_masking
		name = BRA_mectron_material_mio_trait_terrain_masking
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 2 y = 2 }
		relative_position_id = BRA_mectron_material_mio_trait_gps_fusion
		all_parents = {
			BRA_mectron_material_mio_trait_extended_range_warhead
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			air_agility = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_logistics_network
		name = BRA_mectron_material_mio_trait_logistics_network
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 2 y = 3 }
		relative_position_id = BRA_mectron_material_mio_trait_gps_fusion
		all_parents = {
			BRA_mectron_material_mio_trait_terrain_masking
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			air_range = 0.05
		}

		production_bonus = {
			production_resource_need_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_sea_launch_platform
		name = BRA_mectron_material_mio_trait_sea_launch_platform
		icon = GFX_generic_mio_trait_icon_naval_strike_attack

		position = { x = 2 y = 4 }
		relative_position_id = BRA_mectron_material_mio_trait_gps_fusion
		all_parents = {
			BRA_mectron_material_mio_trait_logistics_network
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			naval_strike_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_strategic_partnership
		name = BRA_mectron_material_mio_trait_strategic_partnership
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 2 y = 5 }
		relative_position_id = BRA_mectron_material_mio_trait_gps_fusion
		all_parents = {
			BRA_mectron_material_mio_trait_sea_launch_platform
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_mectron_material_mio_trait_precision_guidance
		name = BRA_mectron_material_mio_trait_precision_guidance
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 0 y = 5 }
		relative_position_id = BRA_mectron_material_mio_trait_gps_fusion
		all_parents = {
			BRA_mectron_material_mio_trait_sea_launch_platform
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			reliability = 0.04
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

#Armor

BRA_avibras_tank_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_Avibras_BRA
	name = BRA_avibras_tank_manufacturer

	equipment_type = {
		medium_tank_rocket_chassis
		sam_missile_equipment
		guided_missile_equipment
	}

	research_categories = {
		CAT_sam
		CAT_cm
		CAT_sp_r_arty
		CAT_air_ground_weapons
	}

	research_bonus = 0.06

	tree_header_text = {
		text = "MLRS"
		x = 1
	}

	tree_header_text = {
		text = "Missile Systems"
		x = 6
	}

	initial_trait = {
		name = BRA_avibras_tank_manufacturer_trait

		equipment_bonus = {
			strategic_attack = 0.15
			soft_attack = 0.15
		}
		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_modular_launcher
		name = BRA_avibras_tank_mio_trait_modular_launcher
		icon = GFX_generic_mio_trait_icon_mlrs_buildcost

		position = { x = 0 y = 0 }

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		equipment_bonus = {
			breakthrough = 0.04
			build_cost_ic = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_high_volume
		name = BRA_avibras_tank_mio_trait_high_volume
		icon = GFX_generic_mio_trait_icon_mlrs_attack

		position = { x = 2 y = 0 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		equipment_bonus = {
			soft_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_rapid_reload
		name = BRA_avibras_tank_mio_trait_rapid_reload
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 1 y = 1 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_modular_launcher
			BRA_avibras_tank_mio_trait_high_volume
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		equipment_bonus = {
			breakthrough = 0.05
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_lightweight_chassis
		name = BRA_avibras_tank_mio_trait_lightweight_chassis
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 1 y = 2 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_rapid_reload
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		equipment_bonus = {
			weight = -0.10
			build_cost_ic = -0.10
			reliability = -0.10
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_guided_rocket
		name = BRA_avibras_tank_mio_trait_guided_rocket
		icon = GFX_generic_mio_trait_icon_design

		position = { x = 0 y = 3 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_lightweight_chassis
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_design_team_assign_cost = -0.30
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_export_rocket
		name = BRA_avibras_tank_mio_trait_export_rocket
		icon = GFX_generic_mio_trait_icon_supply_consumption

		position = { x = 0 y = 4 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_guided_rocket
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_hardened_launcher
		name = BRA_avibras_tank_mio_trait_hardened_launcher
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 0 y = 5 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_export_rocket
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		equipment_bonus = {
			armor_value = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_mass_production
		name = BRA_avibras_tank_mio_trait_mass_production
		icon = GFX_generic_mio_trait_icon_efficiency_cap
		position = { x = 1 y = 6 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_export_rocket
			BRA_avibras_tank_mio_traitfield_calibration
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_multi_caliber
		name = BRA_avibras_tank_mio_trait_multi_caliber
		icon = GFX_generic_mio_department_icon_tank_general_weapons

		position = { x = 2 y = 3 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_lightweight_chassis
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
			production_efficiency_cap_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_traitfield_calibration
		name = BRA_avibras_tank_mio_traitfield_calibration
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 2 y = 4 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_trait_multi_caliber
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		equipment_bonus = {
			breakthrough = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_shoot_scoot
		name = BRA_avibras_tank_mio_shoot_scoot
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 2 y = 5 }
		relative_position_id = BRA_avibras_tank_mio_trait_modular_launcher
		all_parents = {
			BRA_avibras_tank_mio_traitfield_calibration
		}

		limit_to_equipment_type = {
			medium_tank_rocket_chassis
		}

		equipment_bonus = {
			soft_attack = 0.05
			maximum_speed = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_medium_altitude_radar
		name = BRA_avibras_tank_mio_trait_medium_altitude_radar
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 6 y = 0 }

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			air_attack = 0.08
			air_agility = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_long_range_guidance
		name = BRA_avibras_tank_mio_trait_long_range_guidance
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = -1 y = 1 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_medium_altitude_radar
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			air_range = 0.10
			naval_strike_targetting = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_low_signature
		name = BRA_avibras_tank_mio_trait_low_signature
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = -3 y = 1 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_medium_altitude_radar
		}

		limit_to_equipment_type = {
			guided_missile_equipment
			sam_missile_equipment
		}

		equipment_bonus = {
			air_agility = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_mobile_launcher
		name = BRA_avibras_tank_mio_trait_mobile_launcher
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 1 y = 1 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_medium_altitude_radar
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			build_cost_ic = -0.05
			maximum_speed = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_dual_mission_lab
		name = BRA_avibras_tank_mio_trait_dual_mission_lab
		icon = GFX_generic_mio_trait_icon_strategic_attack

		position = { x = 3 y = 1 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_medium_altitude_radar
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			strategic_attack = 0.06
			reliability = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_fire_control
		name = BRA_avibras_tank_mio_trait_fire_control
		icon = GFX_generic_mio_department_icon_facilities

		position = { x = 0 y = 2 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_medium_altitude_radar
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			air_defence = 0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_all_weather
		name = BRA_avibras_tank_mio_trait_all_weather
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 2 y = 2 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_mobile_launcher
			BRA_avibras_tank_mio_trait_dual_mission_lab
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_strategic_cruise
		name = BRA_avibras_tank_mio_trait_strategic_cruise
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = -2 y = 2 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_long_range_guidance
			BRA_avibras_tank_mio_trait_low_signature
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		production_bonus = {
			production_capacity_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_anti_electronic
		name = BRA_avibras_tank_mio_trait_anti_electronic
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 1 y = 3 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_all_weather
			BRA_avibras_tank_mio_trait_fire_control
		}

		limit_to_equipment_type = {
			guided_missile_equipment
			sam_missile_equipment
		}

		equipment_bonus = {
			air_agility = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_long_range_strike
		name = BRA_avibras_tank_mio_trait_long_range_strike
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = 1 y = 4 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_anti_electronic
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			air_range = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_trait_seeker
		name = BRA_avibras_tank_mio_trait_seeker
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -1 y = 3 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_strategic_cruise
			BRA_avibras_tank_mio_trait_fire_control
		}

		limit_to_equipment_type = {
			guided_missile_equipment
			sam_missile_equipment
		}

		equipment_bonus = {
			reliability = 0.10
		}

		production_bonus = {
			production_efficiency_gain_factor = -0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_avibras_tank_mio_high_interceptor
		name = BRA_avibras_tank_mio_high_interceptor
		icon = GFX_generic_mio_trait_icon_anti_air_attack

		position = { x = -1 y = 4 }
		relative_position_id = BRA_avibras_tank_mio_trait_medium_altitude_radar
		all_parents = {
			BRA_avibras_tank_mio_trait_seeker
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		equipment_bonus = {
			anti_air_attack = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

BRA_helibras_tank_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_Helibras_BRA
	name = BRA_helibras_tank_manufacturer

	equipment_type = {
		heavy_tank_amphibious_chassis
	}

	research_categories = {
		CAT_trans_heli
	}

	research_bonus = 0.09

	tree_header_text = {
		text = "Emergency Transport Rotary"
		x = 4
	}

	task_capacity = 6

	initial_trait = {
		name = BRA_helibras_tank_manufacturer_trait

		equipment_bonus = {
			maximum_speed = 0.15
			reliability = 0.10
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_light_twin
		name = BRA_helibras_tank_mio_trait_light_twin
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 4 y = 0 }

		equipment_bonus = {
			maximum_speed = 0.06
			reliability = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_large_capacity
		name = BRA_helibras_tank_mio_trait_large_capacity
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 1 y = 0 }

		equipment_bonus = {
			breakthrough = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_high_altitude
		name = BRA_helibras_tank_mio_trait_high_altitude
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 1 y = 1 }
		relative_position_id = BRA_helibras_tank_mio_trait_large_capacity
		all_parents = {
			BRA_helibras_tank_mio_trait_large_capacity
		}

		mutually_exclusive = {
			BRA_helibras_tank_mio_trait_hot_climate
		}

		equipment_bonus = {
			defense = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_rotor_noise
		name = BRA_helibras_tank_mio_trait_rotor_noise
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 0 y = 2 }
		relative_position_id = BRA_helibras_tank_mio_trait_large_capacity
		all_parents = {
			BRA_helibras_tank_mio_trait_large_capacity
		}

		equipment_bonus = {
			breakthrough = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_hot_climate
		name = BRA_helibras_tank_mio_trait_hot_climate
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -1 y = 1 }
		relative_position_id = BRA_helibras_tank_mio_trait_light_twin
		all_parents = {
			BRA_helibras_tank_mio_trait_light_twin
		}

		mutually_exclusive = {
			BRA_helibras_tank_mio_trait_high_altitude
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_rapid_deployment
		name = BRA_helibras_tank_mio_trait_rapid_deployment
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = -1 y = 2 }
		relative_position_id = BRA_helibras_tank_mio_trait_light_twin
		any_parent = {
			BRA_helibras_tank_mio_trait_hot_climate
			BRA_helibras_tank_mio_trait_high_altitude
		}

		equipment_bonus = {
			maximum_speed = 0.05
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_extended_range
		name = BRA_helibras_tank_mio_trait_extended_range
		icon = GFX_generic_mio_trait_icon_fuel_consumption

		position = { x = 1 y = 1 }
		relative_position_id = BRA_helibras_tank_mio_trait_light_twin
		all_parents = {
			BRA_helibras_tank_mio_trait_light_twin
		}

		equipment_bonus = {
			max_organisation = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_all_weather
		name = BRA_helibras_tank_mio_trait_all_weather
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 1 y = 3 }
		relative_position_id = BRA_helibras_tank_mio_trait_light_twin
		all_parents = {
			BRA_helibras_tank_mio_trait_extended_range
			BRA_helibras_tank_mio_trait_spare_parts
			BRA_helibras_tank_mio_trait_national_supply
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_multi_role
		name = BRA_helibras_tank_mio_trait_multi_role
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 7 y = 0 }

		equipment_bonus = {
			soft_attack = 0.04
			hard_attack = 0.04
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_spare_parts
		name = BRA_helibras_tank_mio_trait_spare_parts
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = -1 y = 1 }
		relative_position_id = BRA_helibras_tank_mio_trait_multi_role
		all_parents = {
			BRA_helibras_tank_mio_trait_multi_role
		}

		production_bonus = {
			production_conversion_speed_factor = 0.15
			production_resource_need_factor = -0.10
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_helibras_tank_mio_trait_national_supply
		name = BRA_helibras_tank_mio_trait_national_supply
		icon = GFX_generic_mio_department_icon_facilities

		position = { x = 0 y = 2 }
		relative_position_id = BRA_helibras_tank_mio_trait_multi_role
		all_parents = {
			BRA_helibras_tank_mio_trait_multi_role
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			BRA = {
				random_core_state = {
					limit = {
						is_owned_by = BRA
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

BRA_engesa_tank_manufacturer = {
	allowed = { original_tag = BRA }
	available = {
		BRA = { has_completed_focus = BRA_acquire_new_equipment }
	}
	icon = GFX_idea_engesa_company
	name = BRA_engesa_tank_manufacturer

	equipment_type = {
		util_vehicle_equipment
		medium_tank_amphibious_chassis
		medium_tank_destroyer_chassis
		medium_tank_chassis
	}

	research_categories = {
		CAT_armor
	}

	research_bonus = 0.03

	tree_header_text = {
		text = "Light Armor"
		x = 4
	}

	tree_header_text = {
		text = "Heavy Armor"
		x = 8
	}

	initial_trait = {
		name = BRA_engesa_tank_manufacturer_trait

		equipment_bonus = {
			armor_value = 0.15
			breakthrough = 0.09
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.08
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_lightweight_armor
		name = BRA_engesa_tank_mio_trait_lightweight_armor
		icon = GFX_generic_mio_trait_icon_apc_buildcost

		position = { x = 1 y = 0 }

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		equipment_bonus = {
			weight = -0.05
			build_cost_ic = -0.05
		}

		production_bonus = {
			production_resource_need_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_run_flat_tires
		name = BRA_engesa_tank_mio_trait_run_flat_tires
		icon = GFX_generic_mio_trait_icon_apc_reliability

		position = { x = -1 y = 1 }
		relative_position_id = BRA_engesa_tank_mio_trait_lightweight_armor
		all_parents = {
			BRA_engesa_tank_mio_trait_lightweight_armor
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		equipment_bonus = {
			reliability = 0.08
			maximum_speed = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_tropical_air_intake
		name = BRA_engesa_tank_mio_trait_tropical_air_intake
		icon = GFX_generic_mio_trait_icon_max_strength

		position = { x = -1 y = 2 }
		relative_position_id = BRA_engesa_tank_mio_trait_lightweight_armor
		all_parents = {
			BRA_engesa_tank_mio_trait_run_flat_tires
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		equipment_bonus = {
			max_organisation = 0.08
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_ballistic_glass
		name = BRA_engesa_tank_mio_trait_ballistic_glass
		icon = GFX_generic_mio_trait_icon_apc_defense

		position = { x = -1 y = 3 }
		relative_position_id = BRA_engesa_tank_mio_trait_lightweight_armor
		all_parents = {
			BRA_engesa_tank_mio_trait_tropical_air_intake
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		equipment_bonus = {
			defense = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_welded_hull
		name = BRA_engesa_tank_mio_trait_welded_hull
		icon = GFX_generic_mio_trait_icon_apc_armor

		position = { x = 0 y = 2 }
		relative_position_id = BRA_engesa_tank_mio_trait_lightweight_armor
		all_parents = {
			BRA_engesa_tank_mio_trait_run_flat_tires
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		equipment_bonus = {
			armor_value = 0.08
			build_cost_ic = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_prototype_workshop
		name = BRA_engesa_tank_mio_trait_prototype_workshop
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 0 y = 3 }
		relative_position_id = BRA_engesa_tank_mio_trait_lightweight_armor
		all_parents = {
			BRA_engesa_tank_mio_trait_welded_hull
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_reinforced_suspension
		name = BRA_engesa_tank_mio_trait_reinforced_suspension
		icon = GFX_generic_mio_trait_icon_apc_speed

		position = { x = 1 y = 1 }
		relative_position_id = BRA_engesa_tank_mio_trait_lightweight_armor
		all_parents = {
			BRA_engesa_tank_mio_trait_lightweight_armor
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		equipment_bonus = {
			maximum_speed = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_compact_engine
		name = BRA_engesa_tank_mio_trait_compact_engine
		icon = GFX_generic_mio_trait_icon_apc_weight

		position = { x = 1 y = 2 }
		relative_position_id = BRA_engesa_tank_mio_trait_lightweight_armor
		all_parents = {
			BRA_engesa_tank_mio_trait_reinforced_suspension
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		equipment_bonus = {
			weight = -0.05
			maximum_speed = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_assembly_line
		name = BRA_engesa_tank_mio_trait_assembly_line
		icon = GFX_generic_mio_trait_icon_apc_efficiency_cap

		position = { x = 1 y = 3 }
		relative_position_id = BRA_engesa_tank_mio_trait_lightweight_armor
		all_parents = {
			BRA_engesa_tank_mio_trait_compact_engine
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_sealed_door
		name = BRA_engesa_tank_mio_trait_sealed_door
		icon = GFX_generic_mio_trait_icon_apc_reliability

		position = { x = 2 y = 2 }
		relative_position_id = BRA_engesa_tank_mio_trait_lightweight_armor
		all_parents = {
			BRA_engesa_tank_mio_trait_reinforced_suspension
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		equipment_bonus = {
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_field_maintenance
		name = BRA_engesa_tank_mio_trait_field_maintenance
		icon = GFX_generic_mio_trait_icon_apc_reliability

		position = { x = 2 y = 3 }
		relative_position_id = BRA_engesa_tank_mio_trait_lightweight_armor
		all_parents = {
			BRA_engesa_tank_mio_trait_sealed_door
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		equipment_bonus = {
			reliability = 0.05
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_autocannon_loader
		name = BRA_engesa_tank_mio_trait_autocannon_loader
		icon = GFX_generic_mio_trait_icon_ifv_breakthrough

		position = { x = 5 y = 0 }

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			breakthrough = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_reactive_side
		name = BRA_engesa_tank_mio_trait_reactive_side
		icon = GFX_generic_mio_trait_icon_ifv_armor

		position = { x = -1 y = 1 }
		relative_position_id = BRA_engesa_tank_mio_trait_autocannon_loader
		all_parents = {
			BRA_engesa_tank_mio_trait_autocannon_loader
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			armor_value = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_night_vision
		name = BRA_engesa_tank_mio_trait_night_vision
		icon = GFX_generic_mio_trait_icon_soft_attack
		position = { x = 1 y = 1 }
		relative_position_id = BRA_engesa_tank_mio_trait_autocannon_loader
		all_parents = {
			BRA_engesa_tank_mio_trait_autocannon_loader
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			soft_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_turret_stabilizer
		name = BRA_engesa_tank_mio_trait_turret_stabilizer
		icon = GFX_generic_mio_trait_icon_ifv_breakthrough

		position = { x = 0 y = 2 }
		relative_position_id = BRA_engesa_tank_mio_trait_autocannon_loader
		all_parents = {
			BRA_engesa_tank_mio_trait_night_vision
			BRA_engesa_tank_mio_trait_reactive_side
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			breakthrough = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_hudropneumatic_suspension
		name = BRA_engesa_tank_mio_trait_hudropneumatic_suspension
		icon = GFX_generic_mio_trait_icon_max_strength
		position = { x = 0 y = 3 }
		relative_position_id = BRA_engesa_tank_mio_trait_autocannon_loader
		all_parents = {
			BRA_engesa_tank_mio_trait_turret_stabilizer
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			maximum_speed = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_standardized_turret
		name = BRA_engesa_tank_mio_trait_standardized_turret
		icon = GFX_generic_mio_trait_icon_ifv_efficiency_cap
		position = { x = -2 y = 4 }
		relative_position_id = BRA_engesa_tank_mio_trait_autocannon_loader
		all_parents = {
			BRA_engesa_tank_mio_trait_hudropneumatic_suspension
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_electronics_test
		name = BRA_engesa_tank_mio_trait_electronics_test
		icon = GFX_generic_mio_trait_icon_ifv_reliability
		position = { x = 0 y = 4 }
		relative_position_id = BRA_engesa_tank_mio_trait_autocannon_loader
		all_parents = {
			BRA_engesa_tank_mio_trait_hudropneumatic_suspension
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			reliability = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_ballistics_materials
		name = BRA_engesa_tank_mio_trait_ballistics_materials
		icon = GFX_generic_mio_trait_icon_ifv_resources

		position = { x = 2 y = 4 }
		relative_position_id = BRA_engesa_tank_mio_trait_autocannon_loader
		all_parents = {
			BRA_engesa_tank_mio_trait_hudropneumatic_suspension
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		production_bonus = {
			production_resource_need_factor = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_composite_mantlet
		name = BRA_engesa_tank_mio_trait_composite_mantlet
		icon = GFX_generic_mio_trait_icon_mbt_armor

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			medium_tank_chassis
		}

		equipment_bonus = {
			armor_value = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_smoothbore_cannon
		name = BRA_engesa_tank_mio_trait_smoothbore_cannon
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 0 y = 1 }
		relative_position_id = BRA_engesa_tank_mio_trait_composite_mantlet
		all_parents = {
			BRA_engesa_tank_mio_trait_composite_mantlet
		}

		limit_to_equipment_type = {
			medium_tank_chassis
		}

		equipment_bonus = {
			ap_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_high_pressure
		name = BRA_engesa_tank_mio_trait_high_pressure
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 0 y = 2 }
		relative_position_id = BRA_engesa_tank_mio_trait_composite_mantlet
		all_parents = {
			BRA_engesa_tank_mio_trait_smoothbore_cannon
		}

		limit_to_equipment_type = {
			medium_tank_chassis
		}

		equipment_bonus = {
			hard_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_advanced_track
		name = BRA_engesa_tank_mio_trait_advanced_track
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = -1 y = 3 }
		relative_position_id = BRA_engesa_tank_mio_trait_composite_mantlet
		all_parents = {
			BRA_engesa_tank_mio_trait_high_pressure
		}

		limit_to_equipment_type = {
			medium_tank_chassis
		}

		equipment_bonus = {
			hard_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_commander_thermal
		name = BRA_engesa_tank_mio_trait_commander_thermal
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 1 y = 3 }
		relative_position_id = BRA_engesa_tank_mio_trait_composite_mantlet
		all_parents = {
			BRA_engesa_tank_mio_trait_high_pressure
		}

		limit_to_equipment_type = {
			medium_tank_chassis
		}

		equipment_bonus = {
			soft_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_robotic_welding
		name = BRA_engesa_tank_mio_trait_robotic_welding
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 1 y = 4 }
		relative_position_id = BRA_engesa_tank_mio_trait_composite_mantlet
		all_parents = {
			BRA_engesa_tank_mio_trait_commander_thermal
			BRA_engesa_tank_mio_trait_simplifed_wiring
		}

		limit_to_equipment_type = {
			medium_tank_chassis
			util_vehicle_equipment
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_armor_casting
		name = BRA_engesa_tank_mio_trait_armor_casting
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 1 y = 5 }
		relative_position_id = BRA_engesa_tank_mio_trait_composite_mantlet
		all_parents = {
			BRA_engesa_tank_mio_trait_robotic_welding
		}

		limit_to_equipment_type = {
			medium_tank_chassis
			util_vehicle_equipment
		}

		equipment_bonus = {
			armor_value = 0.05
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_heavy_axle
		name = BRA_engesa_tank_mio_trait_heavy_axle
		icon = GFX_generic_mio_trait_icon_util_reliability

		position = { x = 9 y = 0 }

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_all_terrain_tires
		name = BRA_engesa_tank_mio_trait_all_terrain_tires
		icon = GFX_generic_mio_trait_icon_util_reliability

		position = { x = 0 y = 1 }
		relative_position_id = BRA_engesa_tank_mio_trait_heavy_axle
		all_parents = {
			BRA_engesa_tank_mio_trait_heavy_axle
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			maximum_speed = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_simplifed_wiring
		name = BRA_engesa_tank_mio_trait_simplifed_wiring
		icon = GFX_generic_mio_trait_icon_util_buildcost

		position = { x = 0 y = 3 }
		relative_position_id = BRA_engesa_tank_mio_trait_heavy_axle
		all_parents = {
			BRA_engesa_tank_mio_trait_all_terrain_tires
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			build_cost_ic = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_long_range
		name = BRA_engesa_tank_mio_trait_long_range
		icon = GFX_generic_mio_trait_icon_fuel_consumption

		position = { x = -1 y = 1 }
		relative_position_id = BRA_engesa_tank_mio_trait_heavy_axle
		all_parents = {
			BRA_engesa_tank_mio_trait_heavy_axle
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			fuel_consumption = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_engesa_tank_mio_trait_fleet_service
		name = BRA_engesa_tank_mio_trait_fleet_service
		icon = GFX_generic_mio_trait_icon_task

		position = { x = -1 y = 2 }
		relative_position_id = BRA_engesa_tank_mio_trait_heavy_axle
		all_parents = {
			BRA_engesa_tank_mio_trait_long_range
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

BRA_jpx_material_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_jpx_company
	name = BRA_jpx_material_manufacturer

	equipment_type = {
		util_vehicle_equipment
	}

	research_categories = {
		CAT_util
	}

	task_capacity = 2

	research_bonus = 0.02

	tree_header_text = {
		text = "Jungle Utility Pioneer"
		x = 4
	}

	initial_trait = {
		name = BRA_jpx_material_manufacturer_trait

		equipment_bonus = {
			maximum_speed = 0.15
			reliability = 0.10
		}
	}
	trait = {
		token = BRA_jpx_material_mio_trait_reinforced_chassis
		name = BRA_jpx_material_mio_trait_reinforced_chassis
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 4 y = 0 }

		equipment_bonus = {
			reliability = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_jpx_material_mio_trait_lightweight_body
		name = BRA_jpx_material_mio_trait_lightweight_body
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = -3 y = 2 }
		relative_position_id = BRA_jpx_material_mio_trait_reinforced_chassis
		all_parents = {
			BRA_jpx_material_mio_trait_reinforced_chassis
		}

		equipment_bonus = {
			build_cost_ic = -0.05
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_jpx_material_mio_trait_simplified_wiring
		name = BRA_jpx_material_mio_trait_simplified_wiring
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = -3 y = 4 }
		relative_position_id = BRA_jpx_material_mio_trait_reinforced_chassis
		all_parents = {
			BRA_jpx_material_mio_trait_lightweight_body
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_jpx_material_mio_trait_all_terrain_suspension
		name = BRA_jpx_material_mio_trait_all_terrain_suspension
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = -1 y = 1 }
		relative_position_id = BRA_jpx_material_mio_trait_reinforced_chassis
		all_parents = {
			BRA_jpx_material_mio_trait_reinforced_chassis
		}

		equipment_bonus = {
			maximum_speed = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_jpx_material_mio_trait_local_parts
		name = BRA_jpx_material_mio_trait_local_parts
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = -1 y = 4 }
		relative_position_id = BRA_jpx_material_mio_trait_reinforced_chassis
		all_parents = {
			BRA_jpx_material_mio_trait_all_terrain_suspension
		}

		production_bonus = {
			production_capacity_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_jpx_material_mio_trait_diesel_engine
		name = BRA_jpx_material_mio_trait_diesel_engine
		icon = GFX_generic_mio_trait_icon_fuel_consumption

		position = { x = 1 y = 1 }
		relative_position_id = BRA_jpx_material_mio_trait_reinforced_chassis
		all_parents = {
			BRA_jpx_material_mio_trait_reinforced_chassis
		}

		equipment_bonus = {
			fuel_consumption = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_jpx_material_mio_trait_civil_integration
		name = BRA_jpx_material_mio_trait_civil_integration
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 1 y = 4 }
		relative_position_id = BRA_jpx_material_mio_trait_reinforced_chassis
		all_parents = {
			BRA_jpx_material_mio_trait_diesel_engine
		}

		production_bonus = {
			production_conversion_speed_factor = 0.10
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_jpx_material_mio_trait_tropical_air
		name = BRA_jpx_material_mio_trait_tropical_air
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 3 y = 2 }
		relative_position_id = BRA_jpx_material_mio_trait_reinforced_chassis
		all_parents = {
			BRA_jpx_material_mio_trait_reinforced_chassis
		}

		equipment_bonus = {
			reliability = 0.05
			max_organisation = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_jpx_material_mio_trait_export_adapt
		name = BRA_jpx_material_mio_trait_export_adapt
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = 3 y = 4 }
		relative_position_id = BRA_jpx_material_mio_trait_reinforced_chassis
		all_parents = {
			BRA_jpx_material_mio_trait_tropical_air
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

#airforce

BRA_embraer_aircraft_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_Embraer_BRA
	name = BRA_embraer_aircraft_manufacturer

	equipment_type = {
		cnc_equipment
		mio_cat_eq_only_as_fighters
		mio_cat_eq_only_transport
	}

	research_categories = {
		CAT_satellite
		CAT_small_plane
		CAT_naval_plane
		CAT_trans_plane
		CAT_cnc
	}

	research_bonus = 0.10

	tree_header_text = {
		text = "Transport Aircraft"
		x = 1
	}

	tree_header_text = {
		text = "Light Aircraft"
		x = 5
	}

	tree_header_text = {
		text = "Command & Control"
		x = 8
	}

	initial_trait = {
		name = BRA_embraer_aircraft_manufacturer_trait

		equipment_bonus = {
			reliability = 0.15
			air_range = 0.10
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
			production_resource_penalty_factor = 0.15
		}
	}
	trait = {
		token = BRA_embraer_aircraft_mio_trait_aguas_joint
		name = BRA_embraer_aircraft_mio_trait_aguas_joint
		icon = GFX_generic_mio_trait_icon_unique
		special_trait_background = yes

		available = {
			AND = {
				BRA = {
					mio:BRA_embraer_aircraft_manufacturer = {
						has_mio_size > 7
					}
					has_country_flag = BRA_thyssenkrupp_completed_trait
				}
			}
		}

		position = { x = 0 y = 4 }
		relative_position_id = BRA_embraer_material_mio_trait_integrated_avionics

		all_parents = {
			BRA_embraer_material_mio_trait_secure_radio
			BRA_embraer_material_mio_trait_multi_role_computer
		}

		on_complete = {
			BRA = {
				custom_effect_tooltip = BRA_embraer_aircraft_mio_trait_aguas_joint_tt
				set_country_flag = BRA_embraer_completed_trait
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_reinforced_cargo_ramp
		name = BRA_embraer_material_mio_trait_reinforced_cargo_ramp
		icon = GFX_generic_mio_trait_icon_transport_airplane

		position = { x = 1 y = 0 }

		limit_to_equipment_type = {
			mio_cat_eq_only_transport
		}

		equipment_bonus = {
			reliability = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_modular_cabin
		name = BRA_embraer_material_mio_trait_modular_cabin
		icon = GFX_generic_mio_trait_icon_transport_airplane_speed

		position = { x = 1 y = 1 }
		relative_position_id = BRA_embraer_material_mio_trait_reinforced_cargo_ramp
		all_parents = {
			BRA_embraer_material_mio_trait_reinforced_cargo_ramp
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_transport
		}

		equipment_bonus = {
			thrust = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_composite_wings
		name = BRA_embraer_material_mio_trait_composite_wings
		icon = GFX_generic_mio_trait_icon_transport_airplane_armor_value

		position = { x = -1 y = 1 }
		relative_position_id = BRA_embraer_material_mio_trait_reinforced_cargo_ramp
		all_parents = {
			BRA_embraer_material_mio_trait_reinforced_cargo_ramp
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_transport
		}

		equipment_bonus = {
			armor_value = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_high_bypass_turbo
		name = BRA_embraer_material_mio_trait_high_bypass_turbo
		icon = GFX_generic_mio_trait_icon_transport_airplane_range

		position = { x = 0 y = 2 }
		relative_position_id = BRA_embraer_material_mio_trait_reinforced_cargo_ramp
		all_parents = {
			BRA_embraer_material_mio_trait_reinforced_cargo_ramp
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_transport
		}

		equipment_bonus = {
			air_range = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_short_takeoff_kit
		name = BRA_embraer_material_mio_trait_short_takeoff_kit
		icon = GFX_generic_mio_trait_icon_transport_airplane_agility

		position = { x = -1 y = 3 }
		relative_position_id = BRA_embraer_material_mio_trait_reinforced_cargo_ramp
		all_parents = {
			BRA_embraer_material_mio_trait_reinforced_cargo_ramp
			BRA_embraer_material_mio_trait_high_bypass_turbo
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_transport
		}

		equipment_bonus = {
			air_agility = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_production_automation
		name = BRA_embraer_material_mio_trait_production_automation
		icon = GFX_generic_mio_trait_icon_transport_airplane_efficiency_gain

		position = { x = -1 y = 4 }
		relative_position_id = BRA_embraer_material_mio_trait_reinforced_cargo_ramp
		all_parents = {
			BRA_embraer_material_mio_trait_short_takeoff_kit
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_transport
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_hot_climate_engine
		name = BRA_embraer_material_mio_trait_hot_climate_engine
		icon = GFX_generic_mio_trait_icon_transport_airplane

		position = { x = 1 y = 3 }
		relative_position_id = BRA_embraer_material_mio_trait_reinforced_cargo_ramp
		all_parents = {
			BRA_embraer_material_mio_trait_modular_cabin
			BRA_embraer_material_mio_trait_high_bypass_turbo
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_transport
		}

		equipment_bonus = {
			reliability = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_spare_parts_hub
		name = BRA_embraer_material_mio_trait_spare_parts_hub
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 1 y = 4 }
		relative_position_id = BRA_embraer_material_mio_trait_reinforced_cargo_ramp
		all_parents = {
			BRA_embraer_material_mio_trait_hot_climate_engine
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_transport
		}

		production_bonus = {
			production_resource_need_factor = 0.10
			production_capacity_factor = -0.05
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_coin_ordnance
		name = BRA_embraer_material_mio_trait_coin_ordnance
		icon = GFX_generic_mio_trait_icon_light_aircraft_air_ground_attack

		position = { x = 5 y = 0 }

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			air_ground_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_lightweight_armor
		name = BRA_embraer_material_mio_trait_lightweight_armor
		icon = GFX_generic_mio_trait_icon_light_aircraft_weight
		position = { x = 1 y = 1 }
		relative_position_id = BRA_embraer_material_mio_trait_coin_ordnance
		all_parents = {
			BRA_embraer_material_mio_trait_coin_ordnance
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			weight = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_extended_loiter
		name = BRA_embraer_material_mio_trait_extended_loiter
		icon = GFX_generic_mio_trait_icon_light_aircraft_range
		position = { x = -1 y = 1 }
		relative_position_id = BRA_embraer_material_mio_trait_coin_ordnance
		all_parents = {
			BRA_embraer_material_mio_trait_coin_ordnance
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			air_range = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_modular_hardpoints
		name = BRA_embraer_material_mio_trait_modular_hardpoints
		icon = GFX_generic_mio_trait_icon_light_aircraft_buildcost
		position = { x = 0 y = 2 }
		relative_position_id = BRA_embraer_material_mio_trait_coin_ordnance
		all_parents = {
			BRA_embraer_material_mio_trait_extended_loiter
			BRA_embraer_material_mio_trait_lightweight_armor
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			build_cost_ic = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_night_operations
		name = BRA_embraer_material_mio_trait_night_operations
		icon = GFX_generic_mio_trait_icon_night_penalty
		position = { x = -1 y = 3 }
		relative_position_id = BRA_embraer_material_mio_trait_coin_ordnance
		all_parents = {
			BRA_embraer_material_mio_trait_modular_hardpoints
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			night_penalty = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_aerobatic_wing
		name = BRA_embraer_material_mio_trait_aerobatic_wing
		icon = GFX_generic_mio_trait_icon_light_aircraft_agility
		position = { x = -1 y = 4 }
		relative_position_id = BRA_embraer_material_mio_trait_coin_ordnance
		all_parents = {
			BRA_embraer_material_mio_trait_night_operations
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			air_agility = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_propulsion_efficiency
		name = BRA_embraer_material_mio_trait_propulsion_efficiency
		icon = GFX_generic_mio_trait_icon_fuel_consumption
		position = { x = 1 y = 3 }
		relative_position_id = BRA_embraer_material_mio_trait_coin_ordnance
		all_parents = {
			BRA_embraer_material_mio_trait_modular_hardpoints
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			fuel_consumption = -0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_composite_fuselage
		name = BRA_embraer_material_mio_trait_composite_fuselage
		icon = GFX_generic_mio_trait_icon_light_aircraft_armor
		position = { x = 1 y = 4 }
		relative_position_id = BRA_embraer_material_mio_trait_coin_ordnance
		all_parents = {
			BRA_embraer_material_mio_trait_propulsion_efficiency
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			armor_value = 0.08
			build_cost_ic = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_integrated_avionics
		name = BRA_embraer_material_mio_trait_integrated_avionics
		icon = GFX_generic_mio_trait_icon_cnc_reliability

		position = { x = 8 y = 0 }

		limit_to_equipment_type = {
			cnc_equipment
		}

		equipment_bonus = {
			reliability = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_data_link
		name = BRA_embraer_material_mio_trait_data_link
		icon = GFX_generic_mio_trait_icon_cnc

		position = { x = 0 y = 1 }
		relative_position_id = BRA_embraer_material_mio_trait_integrated_avionics
		all_parents = {
			BRA_embraer_material_mio_trait_integrated_avionics
		}

		limit_to_equipment_type = {
			cnc_equipment
		}

		equipment_bonus = {
			max_organisation = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_secure_radio
		name = BRA_embraer_material_mio_trait_secure_radio
		icon = GFX_generic_mio_trait_icon_cnc

		position = { x = -1 y = 2 }
		relative_position_id = BRA_embraer_material_mio_trait_integrated_avionics
		all_parents = {
			BRA_embraer_material_mio_trait_data_link
		}

		limit_to_equipment_type = {
			cnc_equipment
		}

		equipment_bonus = {
			max_organisation = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_embraer_material_mio_trait_multi_role_computer
		name = BRA_embraer_material_mio_trait_multi_role_computer
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 1 y = 2 }
		relative_position_id = BRA_embraer_material_mio_trait_integrated_avionics
		all_parents = {
			BRA_embraer_material_mio_trait_data_link
		}

		limit_to_equipment_type = {
			cnc_equipment
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

#navy

BRA_arsenal_do_marinha_naval_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_BRA_Arsenal_do_Marinha
	name = BRA_arsenal_do_marinha_naval_manufacturer

	equipment_type = {
		mio_cat_only_small_ships
		mio_cat_frigates
		carrier
	}

	tree_header_text = {
		text = "Small Ships"
		x = 1
	}

	tree_header_text = {
		text = "Frigates"
		x = 4
	}

	tree_header_text = {
		text = "Carriers"
		x = 8
	}

	initial_trait = {
		name = BRA_arsenal_do_marinha_naval_manufacturer_trait

		equipment_bonus = {
			armor_value = 0.05
			build_cost_ic = -0.10
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_modular_hull
		name = BRA_arsenal_do_marinha_naval_mio_trait_modular_hull
		icon = GFX_generic_mio_trait_icon_small_ship_buildcost

		position = { x = 0 y = 0 }

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			build_cost_ic = -0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_lightweight_superstructure
		name = BRA_arsenal_do_marinha_naval_mio_trait_lightweight_superstructure
		icon = GFX_generic_mio_trait_icon_small_ship_speed

		position = { x = 2 y = 0 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_modular_hull

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			naval_speed = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_reinforced_engine
		name = BRA_arsenal_do_marinha_naval_mio_trait_reinforced_engine
		icon = GFX_generic_mio_trait_icon_small_ship_reliability

		position = { x = 2 y = 1 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_modular_hull
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_lightweight_superstructure
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			reliability = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_local_armament
		name = BRA_arsenal_do_marinha_naval_mio_trait_local_armament
		icon = GFX_generic_mio_trait_icon_small_ship_lg_attack

		position = { x = 0 y = 1 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_modular_hull
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_modular_hull
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			lg_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_tropical_paint
		name = BRA_arsenal_do_marinha_naval_mio_trait_tropical_paint
		icon = GFX_generic_mio_trait_icon_small_ship

		position = { x = 1 y = 2 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_modular_hull
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_local_armament
			BRA_arsenal_do_marinha_naval_mio_trait_reinforced_engine
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			naval_weather_penalty_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_streamlined_hull
		name = BRA_arsenal_do_marinha_naval_mio_trait_streamlined_hull
		icon = GFX_generic_mio_trait_icon_small_ship_speed

		position = { x = 1 y = 3 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_modular_hull
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_tropical_paint
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			naval_speed = 0.05
			fuel_consumption = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_workshop
		name = BRA_arsenal_do_marinha_naval_mio_trait_workshop
		icon = GFX_generic_mio_trait_icon_small_ship_buildcost

		position = { x = 0 y = 4 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_modular_hull
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_streamlined_hull
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			build_cost_ic = -0.05
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_integrated_sonar
		name = BRA_arsenal_do_marinha_naval_mio_trait_integrated_sonar
		icon = GFX_generic_mio_trait_icon_sub_detection

		position = { x = 2 y = 4 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_modular_hull
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_streamlined_hull
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			sub_detection = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_reinforced_frigate_hulls
		name = BRA_arsenal_do_marinha_naval_mio_trait_reinforced_frigate_hulls
		icon = GFX_generic_mio_trait_icon_frigate_armor

		position = { x = 4 y = 0 }

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			armor_value = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_gas_turbine
		name = BRA_arsenal_do_marinha_naval_mio_trait_gas_turbine
		icon = GFX_generic_mio_trait_icon_frigate_speed

		position = { x = 0 y = 1 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_reinforced_frigate_hulls
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_reinforced_frigate_hulls
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			naval_speed = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_digital_fire
		name = BRA_arsenal_do_marinha_naval_mio_trait_digital_fire
		icon = GFX_generic_mio_trait_icon_frigate_reliability

		position = { x = -1 y = 2 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_reinforced_frigate_hulls
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_gas_turbine
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			reliability = 0.06
			lg_attack = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_national_steel
		name = BRA_arsenal_do_marinha_naval_mio_trait_national_steel
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = -1 y = 3 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_reinforced_frigate_hulls
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_digital_fire
		}

		available = {
			BRA = {
				has_resources_in_country = {
					resource = steel
					amount > 10
				}
			}
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			build_cost_ic = -0.07
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_modular_bays
		name = BRA_arsenal_do_marinha_naval_mio_trait_modular_bays
		icon = GFX_generic_mio_trait_icon_frigate_hg_attack

		position = { x = 1 y = 2 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_reinforced_frigate_hulls
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_gas_turbine
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			hg_armor_piercing = 0.10
			hg_attack = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_shipyard_expansion
		name = BRA_arsenal_do_marinha_naval_mio_trait_shipyard_expansion
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 1 y = 3 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_reinforced_frigate_hulls
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_modular_bays
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_anti_submarine
		name = BRA_arsenal_do_marinha_naval_mio_trait_anti_submarine
		icon = GFX_generic_mio_trait_icon_sub_attack

		position = { x = 0 y = 4 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_reinforced_frigate_hulls
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_shipyard_expansion
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			sub_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_integrated_air_defence
		name = BRA_arsenal_do_marinha_naval_mio_trait_integrated_air_defence
		icon = GFX_generic_mio_trait_icon_frigate_anti_air

		position = { x =2 y = 4 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_reinforced_frigate_hulls
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_shipyard_expansion
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			anti_air_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_armored_flight_deck
		name = BRA_arsenal_do_marinha_naval_mio_trait_armored_flight_deck
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 8 y = 0 }

		limit_to_equipment_type = {
			carrier
		}

		equipment_bonus = {
			armor_value = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_catapult_optimization
		name = BRA_arsenal_do_marinha_naval_mio_trait_catapult_optimization
		icon = GFX_generic_mio_trait_icon_carrier_upgrade

		position = { x = -1 y = 1 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_armored_flight_deck
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_armored_flight_deck
		}

		limit_to_equipment_type = {
			carrier
		}

		equipment_bonus = {
			carrier_size = 2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_hangar_deck
		name = BRA_arsenal_do_marinha_naval_mio_trait_hangar_deck
		icon = GFX_generic_mio_trait_icon_carrier_upgrade

		position = { x = -2 y = 2 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_armored_flight_deck
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_catapult_optimization
		}

		limit_to_equipment_type = {
			carrier
		}

		equipment_bonus = {
			carrier_size = 2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_radar_air_upgrade
		name = BRA_arsenal_do_marinha_naval_mio_trait_radar_air_upgrade
		icon = GFX_generic_mio_trait_icon_surface_visibility

		position = { x = -1 y = 4 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_armored_flight_deck
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_catapult_optimization
		}

		limit_to_equipment_type = {
			carrier
		}

		equipment_bonus = {
			surface_visibility = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_arrestor_gear
		name = BRA_arsenal_do_marinha_naval_mio_trait_arrestor_gear
		icon = GFX_generic_mio_trait_icon_carrier_reliablity

		position = { x = 1 y = 1 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_armored_flight_deck
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_armored_flight_deck
		}

		limit_to_equipment_type = {
			carrier
		}

		equipment_bonus = {
			reliability = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_carrier_damage
		name = BRA_arsenal_do_marinha_naval_mio_trait_carrier_damage
		icon = GFX_generic_mio_trait_icon_max_strength

		position = { x = 0 y = 2 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_armored_flight_deck
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_arrestor_gear
		}

		limit_to_equipment_type = {
			carrier
		}

		equipment_bonus = {
			max_strength = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_deck_materials
		name = BRA_arsenal_do_marinha_naval_mio_trait_deck_materials
		icon = GFX_generic_mio_trait_icon_carrier_defence

		position = { x = 1 y = 3 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_armored_flight_deck
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_arrestor_gear
		}

		limit_to_equipment_type = {
			carrier
		}

		equipment_bonus = {
			defense = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_arsenal_do_marinha_naval_mio_trait_joint_fleet_air
		name = BRA_arsenal_do_marinha_naval_mio_trait_joint_fleet_air
		icon = GFX_generic_mio_trait_icon_surface_visibility

		position = { x = 1 y = 4 }
		relative_position_id = BRA_arsenal_do_marinha_naval_mio_trait_armored_flight_deck
		all_parents = {
			BRA_arsenal_do_marinha_naval_mio_trait_deck_materials
		}

		limit_to_equipment_type = {
			carrier
		}

		equipment_bonus = {
			surface_visibility = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

BRA_eas_naval_manufacturer = {
	allowed = { original_tag = BRA }
	available = {
		date > 2005.01.01
	}
	icon = GFX_idea_estaleire_atlantico_company
	name = BRA_eas_naval_manufacturer

	tree_header_text = {
		text = "Suape Shipyard Colossus"
		x = 4
	}

	equipment_type = {
		convoy
	}

	research_bonus = 0.04

	task_capacity = 3

	initial_trait = {
		name = BRA_eas_naval_manufacturer_trait

		equipment_bonus = {
			reliability = 0.15
			build_cost_ic = -0.05
		}
	}
	trait = {
		token = BRA_eas_naval_mio_trait_high_volume_steel
		name = BRA_eas_naval_mio_trait_high_volume_steel
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 4 y = 0 }

		equipment_bonus = {
			build_cost_ic = -0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_eas_naval_mio_trait_suezmax_hull
		name = BRA_eas_naval_mio_trait_suezmax_hull
		icon = GFX_generic_mio_trait_icon_sub_detection

		position = { x = -1 y = 1 }
		relative_position_id = BRA_eas_naval_mio_trait_high_volume_steel
		all_parents = {
			BRA_eas_naval_mio_trait_high_volume_steel
		}

		equipment_bonus = {
			sub_detection = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_eas_naval_mio_trait_local_content
		name = BRA_eas_naval_mio_trait_local_content
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -2 y = 2 }
		relative_position_id = BRA_eas_naval_mio_trait_high_volume_steel
		all_parents = {
			BRA_eas_naval_mio_trait_high_volume_steel
		}

		equipment_bonus = {
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_eas_naval_mio_trait_welding_quality
		name = BRA_eas_naval_mio_trait_welding_quality
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = -3 y = 1 }
		relative_position_id = BRA_eas_naval_mio_trait_high_volume_steel
		all_parents = {
			BRA_eas_naval_mio_trait_high_volume_steel
		}

		equipment_bonus = {
			armor_value = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_eas_naval_mio_trait_offshore_module
		name = BRA_eas_naval_mio_trait_offshore_module
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 2 }
		relative_position_id = BRA_eas_naval_mio_trait_high_volume_steel
		all_parents = {
			BRA_eas_naval_mio_trait_high_volume_steel
		}

		equipment_bonus = {
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_eas_naval_mio_trait_ship_repairs
		name = BRA_eas_naval_mio_trait_ship_repairs
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 2 y = 2 }
		relative_position_id = BRA_eas_naval_mio_trait_high_volume_steel
		all_parents = {
			BRA_eas_naval_mio_trait_high_volume_steel
		}

		organization_modifier = {
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.35
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_eas_naval_mio_trait_tanker_corrosion_protection
		name = BRA_eas_naval_mio_trait_tanker_corrosion_protection
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 1 y = 1 }
		relative_position_id = BRA_eas_naval_mio_trait_high_volume_steel
		all_parents = {
			BRA_eas_naval_mio_trait_high_volume_steel
		}

		equipment_bonus = {
			defense = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

BRA_emgepron_naval_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_emgepron_company
	name = BRA_emgepron_naval_manufacturer

	equipment_type = {
		mio_cat_only_small_ships
		mio_cat_frigates
		submarine
	}

	research_categories = {
		CAT_landing_craft
		CAT_art_ammo
		CAT_corvette
		CAT_sub
		CAT_frigate
		CAT_nuclear_reactors
	}

	tree_header_text = {
		text = "Ships"
		x = 2
	}

	tree_header_text = {
		text = "Submarines"
		x = 7
	}

	research_bonus = 0.06

	initial_trait = {
		name = BRA_empepron_naval_manufacturer_trait

		equipment_bonus = {
			reliability = 0.15
			build_cost_ic = -0.05
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_modular_block
		name = BRA_emgepron_naval_mio_trait_modular_block
		icon = GFX_generic_mio_trait_icon_lg_attack

		position = { x = 2 y = 0 }

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
		}

		equipment_bonus = {
			lg_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_sensors_suite
		name = BRA_emgepron_naval_mio_trait_sensors_suite
		icon = GFX_generic_mio_trait_icon_sub_detection

		position = { x = 2 y = 1 }
		relative_position_id = BRA_emgepron_naval_mio_trait_modular_block
		all_parents = {
			BRA_emgepron_naval_mio_trait_modular_block
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
		}

		equipment_bonus = {
			surface_detection = 0.08
			sub_detection = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_stealth_hull
		name = BRA_emgepron_naval_mio_trait_stealth_hull
		icon = GFX_generic_mio_trait_icon_surface_visibility

		position = { x = 2 y = 2 }
		relative_position_id = BRA_emgepron_naval_mio_trait_modular_block
		all_parents = {
			BRA_emgepron_naval_mio_trait_modular_block
		}

		available = {
			BRA = {
				OR = {
					is_special_project_completed = sp:sp_stealth_corvette
					is_special_project_completed = sp:sp_stealth_destroyer
					is_special_project_completed = sp:sp_stealth_frigate
				}
			}
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
		}

		equipment_bonus = {
			surface_visibility = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_reinforced_hull
		name = BRA_emgepron_naval_mio_trait_reinforced_hull
		icon = GFX_generic_mio_trait_icon_frigate_armor

		position = { x = 0 y = 1 }
		relative_position_id = BRA_emgepron_naval_mio_trait_modular_block
		all_parents = {
			BRA_emgepron_naval_mio_trait_modular_block
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			armor_value = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_anti_submarine
		name = BRA_emgepron_naval_mio_trait_anti_submarine
		icon = GFX_generic_mio_trait_icon_sub_detection

		position = { x = -1 y = 2 }
		relative_position_id = BRA_emgepron_naval_mio_trait_modular_block
		all_parents = {
			BRA_emgepron_naval_mio_trait_reinforced_hull
		}

		limit_to_equipment_type = {
			mio_cat_frigates
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			sub_detection = 0.07
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_damage_control
		name = BRA_emgepron_naval_mio_trait_damage_control
		icon = GFX_generic_mio_trait_icon_max_strength

		position = { x = 1 y = 2 }
		relative_position_id = BRA_emgepron_naval_mio_trait_modular_block
		all_parents = {
			BRA_emgepron_naval_mio_trait_reinforced_hull
		}

		limit_to_equipment_type = {
			mio_cat_frigates
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			max_strength = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_patrol_radar
		name = BRA_emgepron_naval_mio_trait_patrol_radar
		icon = GFX_generic_mio_trait_icon_surface_visibility

		position = { x = -2 y = 1 }
		relative_position_id = BRA_emgepron_naval_mio_trait_modular_block
		all_parents = {
			BRA_emgepron_naval_mio_trait_modular_block
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			surface_detection = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_local_shipyard
		name = BRA_emgepron_naval_mio_trait_local_shipyard
		icon = GFX_generic_mio_trait_icon_task

		position = { x = -2 y = 2 }
		relative_position_id = BRA_emgepron_naval_mio_trait_modular_block
		all_parents = {
			BRA_emgepron_naval_mio_trait_patrol_radar
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.20
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_tactival_communication
		name = BRA_emgepron_naval_mio_trait_tactival_communication
		icon = GFX_generic_mio_trait_icon_naval_speed

		position = { x = -2 y = 3 }
		relative_position_id = BRA_emgepron_naval_mio_trait_modular_block
		all_parents = {
			BRA_emgepron_naval_mio_trait_anti_submarine
			BRA_emgepron_naval_mio_trait_local_shipyard
		}

		limit_to_equipment_type = {
			mio_cat_frigates
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			naval_speed = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_block_construction
		name = BRA_emgepron_naval_mio_trait_block_construction
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 0 y = 3 }
		relative_position_id = BRA_emgepron_naval_mio_trait_modular_block
		all_parents = {
			BRA_emgepron_naval_mio_trait_anti_submarine
			BRA_emgepron_naval_mio_trait_damage_control
		}

		limit_to_equipment_type = {
			mio_cat_frigates
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			build_cost_ic = -0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_close_air_support
		name = BRA_emgepron_naval_mio_trait_close_air_support
		icon = GFX_generic_mio_trait_icon_hg_attack

		position = { x = 2 y = 3 }
		relative_position_id = BRA_emgepron_naval_mio_trait_modular_block
		all_parents = {
			BRA_emgepron_naval_mio_trait_damage_control
		}

		any_parent = {
			BRA_emgepron_naval_mio_trait_stealth_hull
		}

		limit_to_equipment_type = {
			mio_cat_frigates
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			hg_attack = 0.07
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_naval_gunfire
		name = BRA_emgepron_naval_mio_trait_naval_gunfire
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 1 y = 4 }
		relative_position_id = BRA_emgepron_naval_mio_trait_modular_block
		all_parents = {
			BRA_emgepron_naval_mio_trait_close_air_support
			BRA_emgepron_naval_mio_trait_block_construction
		}

		limit_to_equipment_type = {
			mio_cat_frigates
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			lg_armor_piercing = 0.10
			hg_armor_piercing = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_radar_cross
		name = BRA_emgepron_naval_mio_trait_radar_cross
		icon = GFX_generic_mio_trait_icon_surface_detection

		position = { x = -1 y = 4 }
		relative_position_id = BRA_emgepron_naval_mio_trait_modular_block
		all_parents = {
			BRA_emgepron_naval_mio_trait_tactival_communication
			BRA_emgepron_naval_mio_trait_block_construction
		}

		limit_to_equipment_type = {
			mio_cat_frigates
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			surface_detection = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_quiet_propeller
		name = BRA_emgepron_naval_mio_trait_quiet_propeller
		icon = GFX_generic_mio_trait_icon_submarine_sub_visibility

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			sub_visibility = -0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_extended_battery
		name = BRA_emgepron_naval_mio_trait_extended_battery
		icon = GFX_generic_mio_trait_icon_submarine_reliability

		position = { x = -2 y = 0 }
		relative_position_id = BRA_emgepron_naval_mio_trait_quiet_propeller

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			reliability = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_advanced_sonar
		name = BRA_emgepron_naval_mio_trait_advanced_sonar
		icon = GFX_generic_mio_trait_icon_submarine_sub_detection

		position = { x = 2 y = 0 }
		relative_position_id = BRA_emgepron_naval_mio_trait_quiet_propeller

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			sub_detection = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_hull_noise
		name = BRA_emgepron_naval_mio_trait_hull_noise
		icon = GFX_generic_mio_trait_icon_submarine_sub_visibility

		position = { x = 1 y = 1 }
		relative_position_id = BRA_emgepron_naval_mio_trait_quiet_propeller
		all_parents = {
			BRA_emgepron_naval_mio_trait_advanced_sonar
			BRA_emgepron_naval_mio_trait_quiet_propeller
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			sub_visibility = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_underwater_array
		name = BRA_emgepron_naval_mio_trait_underwater_array
		icon = GFX_generic_mio_trait_icon_submarine_sub_visibility

		position = { x = 1 y = 2 }
		relative_position_id = BRA_emgepron_naval_mio_trait_quiet_propeller
		all_parents = {
			BRA_emgepron_naval_mio_trait_hull_noise
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			sub_visibility = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_torpedo_fire
		name = BRA_emgepron_naval_mio_trait_torpedo_fire
		icon = GFX_generic_mio_trait_icon_submarine_torpedo

		position = { x = -1 y = 1 }
		relative_position_id = BRA_emgepron_naval_mio_trait_quiet_propeller
		all_parents = {
			BRA_emgepron_naval_mio_trait_extended_battery
			BRA_emgepron_naval_mio_trait_quiet_propeller
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			torpedo_attack = 0.08
			max_strength = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_submarine_rescue
		name = BRA_emgepron_naval_mio_trait_submarine_rescue
		icon = GFX_generic_mio_trait_icon_submarine_defense

		position = { x = -1 y = 2 }
		relative_position_id = BRA_emgepron_naval_mio_trait_quiet_propeller
		all_parents = {
			BRA_emgepron_naval_mio_trait_torpedo_fire
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			defense = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_emgepron_naval_mio_trait_local_submarine_parts
		name = BRA_emgepron_naval_mio_trait_local_submarine_parts
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 0 y = 3 }
		relative_position_id = BRA_emgepron_naval_mio_trait_quiet_propeller
		all_parents = {
			BRA_emgepron_naval_mio_trait_underwater_array
			BRA_emgepron_naval_mio_trait_submarine_rescue
		}

		limit_to_equipment_type = {
			submarine
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.20
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

BRA_itaguai_naval_manufacturer = {
	allowed = { original_tag = BRA }
	available = {
		date > 2009.08.21
	}
	icon = GFX_idea_itaguai_construcoes_company
	name = BRA_itaguai_naval_manufacturer

	equipment_type = {
		submarine
	}

	research_categories = {
		CAT_sub
	}

	tree_header_text = {
		text = "Submarines"
		x = 5
	}

	research_bonus = 0.05

	initial_trait = {
		name = BRA_itaguai_naval_manufacturer_trait

		equipment_bonus = {
			sub_attack = 0.06
			sub_visibility = -0.15
		}
	}
	trait = {
		token = BRA_itaguai_naval_mio_trait_scorpene_hull
		name = BRA_itaguai_naval_mio_trait_scorpene_hull
		icon = GFX_generic_mio_trait_icon_design

		position = { x = 1 y = 0 }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_itaguai_naval_mio_trait_reactor_integration
		name = BRA_itaguai_naval_mio_trait_reactor_integration
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 1 y = 1 }
		relative_position_id = BRA_itaguai_naval_mio_trait_scorpene_hull
		all_parents = {
			BRA_itaguai_naval_mio_trait_scorpene_hull
		}

		equipment_bonus = {
			reliability = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_itaguai_naval_mio_trait_torpedo_system
		name = BRA_itaguai_naval_mio_trait_torpedo_system
		icon = GFX_generic_mio_trait_icon_torpedo_attack

		position = { x = 0 y = 2 }
		relative_position_id = BRA_itaguai_naval_mio_trait_scorpene_hull
		all_parents = {
			BRA_itaguai_naval_mio_trait_scorpene_hull
		}

		equipment_bonus = {
			torpedo_attack = 0.06
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_itaguai_naval_mio_trait_quiet_propellor
		name = BRA_itaguai_naval_mio_trait_quiet_propellor
		icon = GFX_generic_mio_trait_icon_sub_visibility

		position = { x = 5 y = 0 }

		equipment_bonus = {
			sub_visibility = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_itaguai_naval_mio_trait_battery_endurance
		name = BRA_itaguai_naval_mio_trait_battery_endurance
		icon = GFX_generic_mio_trait_icon_naval_range

		position = { x = -1 y = 1 }
		relative_position_id = BRA_itaguai_naval_mio_trait_quiet_propellor
		all_parents = {
			BRA_itaguai_naval_mio_trait_quiet_propellor
		}

		equipment_bonus = {
			naval_range = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_itaguai_naval_mio_trait_periscope_upgrades
		name = BRA_itaguai_naval_mio_trait_periscope_upgrades
		icon = GFX_generic_mio_trait_icon_surface_detection

		position = { x = 1 y = 2 }
		relative_position_id = BRA_itaguai_naval_mio_trait_quiet_propellor
		all_parents = {
			BRA_itaguai_naval_mio_trait_quiet_propellor
		}

		equipment_bonus = {
			surface_detection = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_itaguai_naval_mio_trait_advanced_sonar
		name = BRA_itaguai_naval_mio_trait_advanced_sonar
		icon = GFX_generic_mio_trait_icon_sub_detection

		position = { x = 8 y = 0 }

		equipment_bonus = {
			sub_detection = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_itaguai_naval_mio_trait_local_hull
		name = BRA_itaguai_naval_mio_trait_local_hull
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = -1 y = 1 }
		relative_position_id = BRA_itaguai_naval_mio_trait_advanced_sonar
		all_parents = {
			BRA_itaguai_naval_mio_trait_advanced_sonar
		}

		equipment_bonus = {
			build_cost_ic = -0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_itaguai_naval_mio_trait_deep_sea_navigation
		name = BRA_itaguai_naval_mio_trait_deep_sea_navigation
		icon = GFX_generic_mio_trait_icon_naval_range

		position = { x = -1 y = 2 }
		relative_position_id = BRA_itaguai_naval_mio_trait_advanced_sonar
		all_parents = {
			BRA_itaguai_naval_mio_trait_local_hull
		}

		equipment_bonus = {
			naval_range = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_itaguai_naval_mio_trait_silent_generator
		name = BRA_itaguai_naval_mio_trait_silent_generator
		icon = GFX_generic_mio_trait_icon_sub_visibility

		position = { x = -1 y = 3 }
		relative_position_id = BRA_itaguai_naval_mio_trait_quiet_propellor
		all_parents = {
			BRA_itaguai_naval_mio_trait_battery_endurance
		}

		any_parent = {
			BRA_itaguai_naval_mio_trait_torpedo_system
			BRA_itaguai_naval_mio_trait_reactor_integration
		}

		equipment_bonus = {
			sub_visibility = -0.05
			fuel_consumption = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_itaguai_naval_mio_trait_hull_strengthening
		name = BRA_itaguai_naval_mio_trait_hull_strengthening
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 1 y = 3 }
		relative_position_id = BRA_itaguai_naval_mio_trait_quiet_propellor
		all_parents = {
			BRA_itaguai_naval_mio_trait_periscope_upgrades
			BRA_itaguai_naval_mio_trait_deep_sea_navigation
		}

		equipment_bonus = {
			armor_value = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_itaguai_naval_mio_trait_automatic_ballast
		name = BRA_itaguai_naval_mio_trait_automatic_ballast
		icon = GFX_generic_mio_trait_icon_naval_speed

		position = { x = 0 y = 4 }
		relative_position_id = BRA_itaguai_naval_mio_trait_quiet_propellor
		all_parents = {
			BRA_itaguai_naval_mio_trait_silent_generator
			BRA_itaguai_naval_mio_trait_hull_strengthening
		}

		equipment_bonus = {
			naval_speed = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

}
BRA_aguas_naval_manufacturer = {
	allowed = { original_tag = BRA }
	icon = GFX_idea_aguas_azuis_company
	name = BRA_aguas_naval_manufacturer
	available = {
		BRA = {
			has_country_flag = BRA_thyssenkrupp_completed_trait
			has_country_flag = BRA_embraer_completed_trait
		}
	}

	equipment_type = {
		mio_cat_frigates
	}

	research_categories = {
		CAT_frigate
	}

	tree_header_text = {
		text = "Combat & Firepower"
		x = 2
	}

	tree_header_text = {
		text = "Sensors & Systems"
		x = 6
	}

	research_bonus = 0.12

	initial_trait = {
		name = BRA_aguas_naval_manufacturer_trait

		equipment_bonus = {
			surface_visibility = -0.10
			lg_attack = 0.15
		}
	}
	trait = {
		token = BRA_aguas_naval_mio_trait_vertical_launch
		name = BRA_aguas_naval_mio_trait_vertical_launch
		icon = GFX_generic_mio_trait_icon_hg_attack

		position = { x = 1 y = 0 }

		equipment_bonus = {
			hg_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_aguas_naval_mio_trait_anti_ship_missile
		name = BRA_aguas_naval_mio_trait_anti_ship_missile
		icon = GFX_generic_mio_trait_icon_lg_attack

		position = { x = 2 y = 0 }
		relative_position_id = BRA_aguas_naval_mio_trait_vertical_launch

		equipment_bonus = {
			lg_attack = 0.12
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_aguas_naval_mio_trait_rapid_fire_mod
		name = BRA_aguas_naval_mio_trait_rapid_fire_mod
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 1 y = 1 }
		relative_position_id = BRA_aguas_naval_mio_trait_vertical_launch
		all_parents = {
			BRA_aguas_naval_mio_trait_anti_ship_missile
			BRA_aguas_naval_mio_trait_vertical_launch
		}

		equipment_bonus = {
			lg_armor_piercing = 0.09
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_aguas_naval_mio_trait_dual_close_weapon
		name = BRA_aguas_naval_mio_trait_dual_close_weapon
		icon = GFX_generic_mio_trait_icon_naval_anti_air_attack

		position = { x = 0 y = 2 }
		relative_position_id = BRA_aguas_naval_mio_trait_vertical_launch
		all_parents = {
			BRA_aguas_naval_mio_trait_rapid_fire_mod
		}

		equipment_bonus = {
			anti_air_attack = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_aguas_naval_mio_trait_torpedo_launcher
		name = BRA_aguas_naval_mio_trait_torpedo_launcher
		icon = GFX_generic_mio_trait_icon_torpedo_attack

		position = { x = 2 y = 2 }
		relative_position_id = BRA_aguas_naval_mio_trait_vertical_launch
		all_parents = {
			BRA_aguas_naval_mio_trait_rapid_fire_mod
		}

		equipment_bonus = {
			naval_torpedo_hit_chance_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_aguas_naval_mio_trait_hangar_support
		name = BRA_aguas_naval_mio_trait_hangar_support
		icon = GFX_generic_mio_trait_icon_surface_detection

		position = { x = 2 y = 3 }
		relative_position_id = BRA_aguas_naval_mio_trait_vertical_launch
		all_parents = {
			BRA_aguas_naval_mio_trait_torpedo_launcher
		}

		equipment_bonus = {
			surface_detection = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_aguas_naval_mio_trait_crew_gunnery
		name = BRA_aguas_naval_mio_trait_crew_gunnery
		icon = GFX_generic_mio_trait_icon_lg_attack

		position = { x = 0 y = 3 }
		relative_position_id = BRA_aguas_naval_mio_trait_vertical_launch
		all_parents = {
			BRA_aguas_naval_mio_trait_dual_close_weapon
		}

		equipment_bonus = {
			naval_heavy_gun_hit_chance_factor = 0.15
			naval_light_gun_hit_chance_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_aguas_naval_mio_trait_radar_suite
		name = BRA_aguas_naval_mio_trait_radar_suite
		icon = GFX_generic_mio_trait_icon_surface_detection

		position = { x = 6 y = 0 }

		equipment_bonus = {
			surface_detection = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_aguas_naval_mio_trait_hensoldt_adaptation
		name = BRA_aguas_naval_mio_trait_hensoldt_adaptation
		icon = GFX_generic_mio_trait_icon_naval_anti_air_attack

		position = { x = -1 y = 1 }
		relative_position_id = BRA_aguas_naval_mio_trait_radar_suite
		all_parents = {
			BRA_aguas_naval_mio_trait_radar_suite
		}

		equipment_bonus = {
			anti_air_attack = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_aguas_naval_mio_trait_stealth_hull
		name = BRA_aguas_naval_mio_trait_stealth_hull
		icon = GFX_generic_mio_trait_icon_surface_visibility

		position = { x = -1 y = 2 }
		relative_position_id = BRA_aguas_naval_mio_trait_radar_suite
		all_parents = {
			BRA_aguas_naval_mio_trait_hensoldt_adaptation
		}

		available = {
			BRA = {
				OR = {
					is_special_project_completed = sp:sp_stealth_corvette
					is_special_project_completed = sp:sp_stealth_destroyer
					is_special_project_completed = sp:sp_stealth_frigate
				}
			}
		}

		equipment_bonus = {
			surface_visibility = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_aguas_naval_mio_trait_cms_electrification
		name = BRA_aguas_naval_mio_trait_cms_electrification
		icon = GFX_generic_mio_trait_icon_naval_speed

		position = { x = 1 y = 1 }
		relative_position_id = BRA_aguas_naval_mio_trait_radar_suite
		all_parents = {
			BRA_aguas_naval_mio_trait_radar_suite
		}

		equipment_bonus = {
			naval_speed = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_aguas_naval_mio_trait_gull_mounted
		name = BRA_aguas_naval_mio_trait_gull_mounted
		icon = GFX_generic_mio_trait_icon_sub_detection

		position = { x = 1 y = 2 }
		relative_position_id = BRA_aguas_naval_mio_trait_radar_suite
		all_parents = {
			BRA_aguas_naval_mio_trait_cms_electrification
		}

		equipment_bonus = {
			sub_detection = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_aguas_naval_mio_trait_electronic_warfare
		name = BRA_aguas_naval_mio_trait_electronic_warfare
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 0 y = 3 }
		relative_position_id = BRA_aguas_naval_mio_trait_radar_suite
		all_parents = {
			BRA_aguas_naval_mio_trait_gull_mounted
			BRA_aguas_naval_mio_trait_stealth_hull
		}

		equipment_bonus = {
			defense = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = BRA_aguas_naval_mio_trait_digital_ship
		name = BRA_aguas_naval_mio_trait_digital_ship
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 4 }
		relative_position_id = BRA_aguas_naval_mio_trait_radar_suite
		all_parents = {
			BRA_aguas_naval_mio_trait_electronic_warfare
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}