# Author(s): TheGeneral
# Aircraft
ROM_avioane_craiova_aircraft_manufacturer = {
	allowed = { original_tag = ROM }
	icon = GFX_idea_Avioane_Craiova
	name = ROM_avioane_craiova_aircraft_manufacturer

	equipment_type = {
		mio_cat_eq_only_light_aircraft
	}

	research_categories = {
		CAT_small_plane
		CAT_mr_fighter
		CAT_s_fighter
		CAT_l_fighter
	}

	research_bonus = 0.01

	tree_header_text = {
		text = "Soim Modernization"
		x = 2
	}
	tree_header_text = {
		text = "Carpathian Engineering"
		x = 8
	}

	initial_trait = {
		name = ROM_avioane_craiova_aircraft_trait

		equipment_bonus = {
			fuel_consumption = -0.20
			weight = -0.10
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_nato_certification
		name = ROM_avioane_craiova_aircraft_nato_certification
		icon = GFX_generic_mio_trait_icon_reliability
		special_trait_background = yes

		position = { x = 0 y = 0 }

		available = {
			ROM = { has_idea = NATO_member }
		}

		equipment_bonus = {
			reliability = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_avionics_suite
		name = ROM_avioane_craiova_aircraft_avionics_suite
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 2 y = 0 }

		equipment_bonus = {
			reliability = 0.06
			air_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_pilot_interface
		name = ROM_avioane_craiova_aircraft_pilot_interface
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = -1 y = 1 }
		relative_position_id = ROM_avioane_craiova_aircraft_avionics_suite
		all_parents = {
			ROM_avioane_craiova_aircraft_avionics_suite
		}

		equipment_bonus = {
			air_agility = 0.08
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_israeli_avionics
		name = ROM_avioane_craiova_aircraft_israeli_avionics
		icon = GFX_generic_mio_trait_icon_research

		available = {
			ISR = {
				exists = yes
				war_with_us = no
				has_opinion = {
					target = ROM
					value > 30
				}
			}
		}

		position = { x = 1 y = 1 }
		relative_position_id = ROM_avioane_craiova_aircraft_avionics_suite
		all_parents = {
			ROM_avioane_craiova_aircraft_avionics_suite
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.20
			military_industrial_organization_task_capacity = -1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_digital_mission
		name = ROM_avioane_craiova_aircraft_digital_mission
		icon = GFX_generic_mio_trait_icon_air_defence

		available = {
			if = {
				limit = { ISR = { exists = no } }
				ROM = { has_tech = computing3 }
			}
			else = {
				ROM = {
					mio:ROM_avioane_craiova_aircraft_manufacturer = {
						has_mio_trait = ROM_avioane_craiova_aircraft_israeli_avionics
					}
				}
			}
		}

		position = { x = 0 y = 2 }
		relative_position_id = ROM_avioane_craiova_aircraft_avionics_suite
		any_parent = {
			ROM_avioane_craiova_aircraft_israeli_avionics
			ROM_avioane_craiova_aircraft_pilot_interface
		}

		equipment_bonus = {
			air_defence = 0.07
			air_agility = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_integrated_flight_data
		name = ROM_avioane_craiova_aircraft_integrated_flight_data
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 0 y = 3 }
		relative_position_id = ROM_avioane_craiova_aircraft_avionics_suite
		all_parents = {
			ROM_avioane_craiova_aircraft_digital_mission
		}

		equipment_bonus = {
			air_agility = 0.05
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_dual_role_loadouts
		name = ROM_avioane_craiova_aircraft_dual_role_loadouts
		icon = GFX_generic_mio_trait_icon_air_ground_attack

		position = { x = -1 y = 4 }
		relative_position_id = ROM_avioane_craiova_aircraft_avionics_suite
		all_parents = {
			ROM_avioane_craiova_aircraft_integrated_flight_data
		}

		mutually_exclusive = {
			ROM_avioane_craiova_aircraft_light_precision
		}

		equipment_bonus = {
			air_attack = 0.15
			build_cost_ic = 0.05
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_light_precision
		name = ROM_avioane_craiova_aircraft_light_precision
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 1 y = 4 }
		relative_position_id = ROM_avioane_craiova_aircraft_avionics_suite
		all_parents = {
			ROM_avioane_craiova_aircraft_integrated_flight_data
		}

		mutually_exclusive = {
			ROM_avioane_craiova_aircraft_dual_role_loadouts
		}

		equipment_bonus = {
			air_ground_attack = 0.10
			naval_strike_attack = 0.10
			build_cost_ic = 0.05
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_export_bureau
		name = ROM_avioane_craiova_aircraft_export_bureau
		icon = GFX_generic_mio_trait_icon_design

		position = { x = 0 y = 5 }
		relative_position_id = ROM_avioane_craiova_aircraft_avionics_suite
		any_parent = {
			ROM_avioane_craiova_aircraft_dual_role_loadouts
			ROM_avioane_craiova_aircraft_light_precision
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.10
			military_industrial_organization_design_team_assign_cost = -0.25
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.10
		}

		on_complete = {
			ROM = {
				set_temp_variable = { int_investment_change = gdp_per_capita }
				multiply_temp_variable = { int_investment_change = 0.05 }
				modify_international_investment_effect = yes
			}
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_modernization_cell
		name = ROM_avioane_craiova_aircraft_modernization_cell
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 0 y = 6 }
		relative_position_id = ROM_avioane_craiova_aircraft_avionics_suite
		all_parents = {
			ROM_avioane_craiova_aircraft_export_bureau
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_automated_systems_check
		name = ROM_avioane_craiova_aircraft_automated_systems_check
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = -1 y = 7 }
		relative_position_id = ROM_avioane_craiova_aircraft_avionics_suite
		all_parents = {
			ROM_avioane_craiova_aircraft_modernization_cell
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_legacy_documentation
		name = ROM_avioane_craiova_aircraft_legacy_documentation
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = 1 y = 7 }
		relative_position_id = ROM_avioane_craiova_aircraft_avionics_suite
		all_parents = {
			ROM_avioane_craiova_aircraft_modernization_cell
		}

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.50
		}

		on_complete = {
			ROM = {
				add_tech_bonus = {
					name = ROM_avioane_craiova_aircraft_legacy_documentation
					category = CAT_small_plane
					category = CAT_mr_fighter
					category = CAT_s_fighter
					category = CAT_l_fighter
					uses = 1
					ahead_reduction = 2
				}
			}
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_legacy_engineering
		name = ROM_avioane_craiova_aircraft_legacy_engineering
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 8 y = 0 }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
			military_industrial_organization_funds_gain = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_flight_academy
		name = ROM_avioane_craiova_aircraft_flight_academy
		icon = GFX_generic_mio_trait_icon_task

		position = { x = -1 y = 1 }
		relative_position_id = ROM_avioane_craiova_aircraft_legacy_engineering
		all_parents = {
			ROM_avioane_craiova_aircraft_legacy_engineering
		}

		available = {
			ROM = { has_completed_focus = ROM_focus_on_training }
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_flight_trails
		name = ROM_avioane_craiova_aircraft_flight_trails
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = -1 y = 2 }
		relative_position_id = ROM_avioane_craiova_aircraft_legacy_engineering
		all_parents = {
			ROM_avioane_craiova_aircraft_crainova_maintenance_hub
		}

		equipment_bonus = {
			maximum_speed = 0.06
			air_range = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_weather_program
		name = ROM_avioane_craiova_aircraft_weather_program
		icon = GFX_generic_mio_trait_icon_night_penalty

		position = { x = 1 y = 2 }
		relative_position_id = ROM_avioane_craiova_aircraft_legacy_engineering
		all_parents = {
			ROM_avioane_craiova_aircraft_crainova_maintenance_hub
		}

		equipment_bonus = {
			night_penalty = -0.15
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_crainova_maintenance_hub
		name = ROM_avioane_craiova_aircraft_crainova_maintenance_hub
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 1 y = 1 }
		relative_position_id = ROM_avioane_craiova_aircraft_legacy_engineering
		all_parents = {
			ROM_avioane_craiova_aircraft_legacy_engineering
		}

		available = {
			ROM = { owns_state = 150 }
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_design_team_change_cost = -0.25
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_trainer_cockpit
		name = ROM_avioane_craiova_aircraft_trainer_cockpit
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = -3 y = 2 }
		relative_position_id = ROM_avioane_craiova_aircraft_legacy_engineering
		all_parents = {
			ROM_avioane_craiova_aircraft_crainova_maintenance_hub
			ROM_avioane_craiova_aircraft_flight_academy
		}

		equipment_bonus = {
			build_cost_ic = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_supply_link
		name = ROM_avioane_craiova_aircraft_supply_link
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 0 y = 3 }
		relative_position_id = ROM_avioane_craiova_aircraft_legacy_engineering
		all_parents = {
			ROM_avioane_craiova_aircraft_flight_trails
			ROM_avioane_craiova_aircraft_weather_program
			ROM_avioane_craiova_aircraft_trainer_cockpit
		}

		available = {
			ROM = {
				owns_state = 150
				owns_state = 151
			}
		}

		production_bonus = {
			production_capacity_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_supply_chain
		name = ROM_avioane_craiova_aircraft_supply_chain
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 1 y = 4 }
		relative_position_id = ROM_avioane_craiova_aircraft_legacy_engineering
		all_parents = {
			ROM_avioane_craiova_aircraft_weather_program
			ROM_avioane_craiova_aircraft_supply_link
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_endurance_trails
		name = ROM_avioane_craiova_aircraft_endurance_trails
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = -1 y = 4 }
		relative_position_id = ROM_avioane_craiova_aircraft_legacy_engineering
		all_parents = {
			ROM_avioane_craiova_aircraft_weather_program
			ROM_avioane_craiova_aircraft_flight_trails
		}

		equipment_bonus = {
			air_range = 0.10
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_fuel_management
		name = ROM_avioane_craiova_aircraft_fuel_management
		icon = GFX_generic_mio_trait_icon_fuel_consumption

		position = { x = -1 y = 5 }
		relative_position_id = ROM_avioane_craiova_aircraft_legacy_engineering
		all_parents = {
			ROM_avioane_craiova_aircraft_endurance_trails
		}

		available = {
			ROM = { has_tech = fuel_refining3 }
		}

		equipment_bonus = {
			fuel_consumption = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_composite_wing
		name = ROM_avioane_craiova_aircraft_composite_wing
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 0 y = 5 }
		relative_position_id = ROM_avioane_craiova_aircraft_legacy_engineering
		all_parents = {
			ROM_avioane_craiova_aircraft_endurance_trails
		}

		equipment_bonus = {
			air_defence = 0.15
		}

		production_bonus = {
			production_resource_penalty_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_avioane_craiova_aircraft_assembly
		name = ROM_avioane_craiova_aircraft_assembly
		icon = GFX_generic_mio_trait_icon_efficiency_gain
		position = { x = 1 y = 6 }
		relative_position_id = ROM_avioane_craiova_aircraft_legacy_engineering
		all_parents = {
			ROM_avioane_craiova_aircraft_composite_wing
			ROM_avioane_craiova_aircraft_fuel_management
			ROM_avioane_craiova_aircraft_supply_chain
		}

		available = {
			ROM = {
				owns_state = 150
				owns_state = 151
			}
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}
ROM_aerostar_aircraft_manufacturer = {
	allowed = { original_tag = ROM }
	icon = GFX_idea_Aerostar
	name = ROM_aerostar_aircraft_manufacturer

	equipment_type = {
		mio_cat_eq_only_light_aircraft
	}

	research_categories = {
		CAT_small_plane
		CAT_mr_fighter
		CAT_s_fighter
		CAT_l_fighter
		CAT_air_engine
	}

	research_bonus = 0.05

	tree_header_text = {
		text = "Development"
		x = 0
	}
	tree_header_text = {
		text = "Equipment"
		x = 8
	}

	initial_trait = {
		name = ROM_aerostar_aircraft_trait

		equipment_bonus = {
			reliability = 0.10
			build_cost_ic = -0.08
		}
	}

	trait = {
		token = ROM_mio_trait_aerostar_aircraft_western_avionics
		name = ROM_mio_trait_aerostar_aircraft_western_avionics
		icon = GFX_generic_mio_trait_icon_air_defence
		special_trait_background = yes

		position = { x = 0 y = 0 }

		equipment_bonus = {
			air_defence = 0.08
			air_agility = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_western_weapon_pylon
		name = ROM_mio_trait_aerostar_aircraft_western_weapon_pylon
		icon = GFX_generic_mio_trait_icon_air_attack
		special_trait_background = yes

		position = { x = 0 y = 1 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_western_avionics
		all_parents = {
			ROM_mio_trait_aerostar_aircraft_western_avionics
		}

		equipment_bonus = {
			air_attack = 0.07
			build_cost_ic = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_western_logistics
		name = ROM_mio_trait_aerostar_aircraft_western_logistics
		icon = GFX_generic_mio_trait_icon_task
		special_trait_background = yes

		position = { x = 0 y = 2 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_western_avionics
		all_parents = {
			ROM_mio_trait_aerostar_aircraft_western_weapon_pylon
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_uav_integration
		name = ROM_mio_trait_aerostar_aircraft_uav_integration
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 4 y = 0 }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.10
			military_industrial_organization_funds_gain = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_fuel_efficient
		name = ROM_mio_trait_aerostar_aircraft_uav_integration
		icon = GFX_generic_mio_trait_icon_fuel_consumption

		position = { x = -1 y = 1 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_uav_integration
		all_parents = {
			ROM_mio_trait_aerostar_aircraft_uav_integration
		}
		mutually_exclusive = {
			ROM_mio_trait_aerostar_aircraft_noise_reduction_exhaust
		}

		equipment_bonus = {
			fuel_consumption = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_noise_reduction_exhaust
		name = ROM_mio_trait_aerostar_aircraft_noise_reduction_exhaust
		icon = GFX_generic_mio_trait_icon_night_penalty

		position = { x = 1 y = 1 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_uav_integration
		all_parents = {
			ROM_mio_trait_aerostar_aircraft_uav_integration
		}
		mutually_exclusive = {
			ROM_mio_trait_aerostar_aircraft_fuel_efficient
		}

		equipment_bonus = {
			night_penalty = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_composit_component
		name = ROM_mio_trait_aerostar_aircraft_composit_component
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 3 y = 2 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_uav_integration
		any_parent = {
			ROM_mio_trait_aerostar_aircraft_noise_reduction_exhaust
			ROM_mio_trait_aerostar_aircraft_fuel_efficient
		}

		production_bonus = {
			production_cost_factor = -0.05
		}

		equipment_bonus = {
			reliability = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_pilot_ergonomics
		name = ROM_mio_trait_aerostar_aircraft_pilot_ergonomics
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 1 y = 2 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_uav_integration
		any_parent = {
			ROM_mio_trait_aerostar_aircraft_noise_reduction_exhaust
			ROM_mio_trait_aerostar_aircraft_fuel_efficient
		}

		equipment_bonus = {
			air_agility = 0.05
			air_attack = 0.10
			build_cost_ic = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_digital_maintenance
		name = ROM_mio_trait_aerostar_aircraft_digital_maintenance
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = -1 y = 2 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_uav_integration
		any_parent = {
			ROM_mio_trait_aerostar_aircraft_noise_reduction_exhaust
			ROM_mio_trait_aerostar_aircraft_fuel_efficient
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		organization_modifier = {
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.10
			military_industrial_organization_design_team_assign_cost = -0.20
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_advanced_dogfighting
		name = ROM_mio_trait_aerostar_aircraft_advanced_dogfighting
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = -3 y = 2 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_uav_integration
		any_parent = {
			ROM_mio_trait_aerostar_aircraft_noise_reduction_exhaust
			ROM_mio_trait_aerostar_aircraft_fuel_efficient
		}

		equipment_bonus = {
			air_agility = 0.03
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.08
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_local_spare
		name = ROM_mio_trait_aerostar_aircraft_local_spare
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = -2 y = 3 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_uav_integration
		all_parents = {
			ROM_mio_trait_aerostar_aircraft_advanced_dogfighting
			ROM_mio_trait_aerostar_aircraft_digital_maintenance
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}

		on_complete = {
			ROM = { one_random_arms_factory_free = yes }
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					medium_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_accelerated_protocols
		name = ROM_mio_trait_aerostar_aircraft_accelerated_protocols
		icon = GFX_generic_mio_trait_icon_design

		position = { x = 2 y = 3 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_uav_integration
		all_parents = {
			ROM_mio_trait_aerostar_aircraft_pilot_ergonomics
			ROM_mio_trait_aerostar_aircraft_composit_component
		}

		organization_modifier = {
			military_industrial_organization_size_up_requirement = -0.15
			military_industrial_organization_design_team_change_cost = -0.50
		}

		on_complete = {
			ROM = { one_random_arms_factory_free = yes }
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					medium_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_lightweight_airframe
		name = ROM_mio_trait_aerostar_aircraft_lightweight_airframe
		icon = GFX_generic_mio_trait_icon_weight

		position = { x = 8 y = 0 }

		equipment_bonus = {
			weight = -0.15
			reliability = -0.05
			air_defence = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_agile_wings
		name = ROM_mio_trait_aerostar_aircraft_agile_wings
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = 0 y = 1 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_lightweight_airframe
		all_parents = {
			ROM_mio_trait_aerostar_aircraft_lightweight_airframe
		}

		equipment_bonus = {
			air_agility = 0.05
			air_range = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_lean_manufacturing
		name = ROM_mio_trait_aerostar_aircraft_lean_manufacturing
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 0 y = 2 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_lightweight_airframe
		all_parents = {
			ROM_mio_trait_aerostar_aircraft_agile_wings
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_multi_role_certification
		name = ROM_mio_trait_aerostar_aircraft_multi_role_certification
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 0 y = 3 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_lightweight_airframe
		all_parents = {
			ROM_mio_trait_aerostar_aircraft_lean_manufacturing
		}

		equipment_bonus = {
			air_attack = 0.05
			air_ground_attack = 0.05
			naval_strike_attack = 0.05
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_modular_pods
		name = ROM_mio_trait_aerostar_aircraft_modular_pods
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = -8 y = 1 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_multi_role_certification
		all_parents = {
			ROM_mio_trait_aerostar_aircraft_multi_role_certification
		}

		equipment_bonus = {
			air_ground_attack = 0.15
			naval_strike_attack = 0.15
			build_cost_ic = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_precision_package
		name = ROM_mio_trait_aerostar_aircraft_precision_package
		icon = GFX_generic_mio_trait_icon_naval_strike_targetting

		position = { x = -6 y = 1 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_multi_role_certification
		all_parents = {
			ROM_mio_trait_aerostar_aircraft_multi_role_certification
		}

		equipment_bonus = {
			air_attack = 0.10
			naval_strike_targetting = 0.15
			build_cost_ic = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_standard_extended_fuel_tanks
		name = ROM_mio_trait_aerostar_aircraft_standard_extended_fuel_tanks
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = -4 y = 1 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_multi_role_certification
		all_parents = {
			ROM_mio_trait_aerostar_aircraft_multi_role_certification
		}
		any_parent = {
			ROM_mio_trait_aerostar_aircraft_fuel_efficient
			ROM_mio_trait_aerostar_aircraft_noise_reduction_exhaust
		}

		equipment_bonus = {
			air_range = 0.15
			fuel_consumption = 0.075
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_high_lift_flap
		name = ROM_mio_trait_aerostar_aircraft_high_lift_flap
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = -2 y = 1 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_multi_role_certification
		all_parents = {
			ROM_mio_trait_aerostar_aircraft_multi_role_certification
		}

		equipment_bonus = {
			air_defence = 0.10
			air_agility = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_radar_advantage_suite
		name = ROM_mio_trait_aerostar_aircraft_radar_advantage_suite
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 0 y = 1 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_multi_role_certification
		all_parents = {
			ROM_mio_trait_aerostar_aircraft_multi_role_certification
		}

		equipment_bonus = {
			air_agility = 0.10
			build_cost_ic = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_aerostar_aircraft_barsov_corridor
		name = ROM_mio_trait_aerostar_aircraft_barsov_corridor
		icon = GFX_generic_mio_trait_icon_task

		position = { x = -4 y = 3 }
		relative_position_id = ROM_mio_trait_aerostar_aircraft_multi_role_certification
		all_parents = {
			ROM_mio_trait_aerostar_aircraft_standard_extended_fuel_tanks
		}
		any_parent = {
			ROM_mio_trait_aerostar_aircraft_modular_pods
			ROM_mio_trait_aerostar_aircraft_precision_package
		}

		any_parent = {
			ROM_mio_trait_aerostar_aircraft_high_lift_flap
			ROM_mio_trait_aerostar_aircraft_radar_advantage_suite
		}


		production_bonus = {
			production_capacity_factor = 0.15
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

ROM_romaero_aircraft_manufacturer = {
	allowed = { original_tag = ROM }
	icon = GFX_idea_romaero_company
	name = ROM_romaero_aircraft_manufacturer

	equipment_type = {
		mio_cat_eq_only_transport
	}

	research_categories = {
		CAT_trans_plane
		CAT_large_plane
	}

	research_bonus = 0.05

	tree_header_text = {
		text = "Romaero Programs"
		x = 4
	}

	initial_trait = {
		name = ROM_romaero_aircraft_trait

		equipment_bonus = {
			reliability = 0.15
		}
		production_bonus = {
			production_efficiency_gain_factor = 0.25
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_western_avionics
		name = ROM_mio_trait_romaero_aircraft_western_avionics
		icon = GFX_generic_mio_trait_icon_air_defence

		position = { x = 4 y = 0 }

		equipment_bonus = {
			air_defence = 0.08
			air_agility = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_noise_reduction
		name = ROM_mio_trait_romaero_aircraft_noise_reduction
		icon = GFX_generic_mio_trait_icon_night_penalty

		position = { x = -3 y = 1 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_western_avionics
		all_parents = {
			ROM_mio_trait_romaero_aircraft_western_avionics
		}
		mutually_exclusive = {
			ROM_mio_trait_romaero_aircraft_rboust_cargo
		}

		equipment_bonus = {
			night_penalty = -0.10
			air_agility = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_composite_material
		name = ROM_mio_trait_romaero_aircraft_composite_material
		icon = GFX_generic_mio_trait_icon_air_defence

		position = { x = -3 y = 2 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_western_avionics
		any_parent = {
			ROM_mio_trait_romaero_aircraft_noise_reduction
			ROM_mio_trait_romaero_aircraft_rboust_cargo
		}

		equipment_bonus = {
			air_defence = 0.05
		}

		production_bonus = {
			production_resource_need_factor = -0.10
			production_resource_penalty_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_rboust_cargo
		name = ROM_mio_trait_romaero_aircraft_rboust_cargo
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = -1 y = 1 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_western_avionics
		all_parents = {
			ROM_mio_trait_romaero_aircraft_western_avionics
		}
		mutually_exclusive = {
			ROM_mio_trait_romaero_aircraft_noise_reduction
		}

		equipment_bonus = {
			air_defence = 0.15
			build_cost_ic = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_enhanced_avionics
		name = ROM_mio_trait_romaero_aircraft_enhanced_avionics
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -1 y = 2 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_western_avionics
		any_parent = {
			ROM_mio_trait_romaero_aircraft_noise_reduction
			ROM_mio_trait_romaero_aircraft_rboust_cargo
		}

		equipment_bonus = {
			reliability = 0.10
			build_cost_ic = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_lean_manufacturing
		name = ROM_mio_trait_romaero_aircraft_lean_manufacturing
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = -2 y = 3 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_western_avionics
		all_parents = {
			ROM_mio_trait_romaero_aircraft_enhanced_avionics
			ROM_mio_trait_romaero_aircraft_composite_material
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.12
			production_cost_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_aerodynamic_winglet
		name = ROM_mio_trait_romaero_aircraft_aerodynamic_winglet
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = -1 y = 1 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_lean_manufacturing
		all_parents = {
			ROM_mio_trait_romaero_aircraft_lean_manufacturing
		}

		equipment_bonus = {
			air_range = 0.10
			air_agility = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_payload_flex
		name = ROM_mio_trait_romaero_aircraft_payload_flex
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 1 y = 1 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_lean_manufacturing
		all_parents = {
			ROM_mio_trait_romaero_aircraft_lean_manufacturing
		}

		production_bonus = {
			production_capacity_factor = 0.10
			production_resource_need_factor = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_mission_planning_cell
		name = ROM_mio_trait_romaero_aircraft_mission_planning_cell
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 1 y = 1 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_western_avionics
		all_parents = {
			ROM_mio_trait_romaero_aircraft_western_avionics
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
			military_industrial_organization_funds_gain = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_terrain_adaptation
		name = ROM_mio_trait_romaero_aircraft_terrain_adaptation
		icon = GFX_generic_mio_trait_icon_fuel_consumption

		position = { x = 1 y = 2 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_western_avionics
		all_parents = {
			ROM_mio_trait_romaero_aircraft_mission_planning_cell
		}

		equipment_bonus = {
			thrust = 0.05
			fuel_consumption = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_modular_mission
		name = ROM_mio_trait_romaero_aircraft_modular_mission
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 2 y = 3 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_western_avionics
		all_parents = {
			ROM_mio_trait_romaero_aircraft_terrain_adaptation
			ROM_mio_trait_romaero_aircraft_strategic_bureau
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_digital_flight_deck
		name = ROM_mio_trait_romaero_aircraft_digital_flight_deck
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 1 y = 1 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_modular_mission
		all_parents = {
			ROM_mio_trait_romaero_aircraft_modular_mission
		}

		equipment_bonus = {
			air_agility = 0.05
			reliability = 0.05
			build_cost_ic = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_automated_cargo
		name = ROM_mio_trait_romaero_aircraft_automated_cargo
		icon = GFX_generic_mio_trait_icon_night_penalty

		position = { x = -1 y = 1 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_modular_mission
		all_parents = {
			ROM_mio_trait_romaero_aircraft_modular_mission
		}

		equipment_bonus = {
			night_penalty = -0.10
			air_range = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_accelerated_maintanance
		name = ROM_mio_trait_romaero_aircraft_accelerated_maintanance
		icon = GFX_generic_mio_trait_icon_task

		position = { x = -2 y = 2 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_modular_mission
		all_parents = {
			ROM_mio_trait_romaero_aircraft_modular_mission
			ROM_mio_trait_romaero_aircraft_lean_manufacturing
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
			military_industrial_organization_design_team_assign_cost = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_multi_role
		name = ROM_mio_trait_romaero_aircraft_multi_role
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 0 y = 3 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_modular_mission
		all_parents = {
			ROM_mio_trait_romaero_aircraft_accelerated_maintanance
			ROM_mio_trait_romaero_aircraft_automated_cargo
			ROM_mio_trait_romaero_aircraft_digital_flight_deck
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.08
			military_industrial_organization_funds_gain = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_strategic_bureau
		name = ROM_mio_trait_romaero_aircraft_strategic_bureau
		icon = GFX_generic_mio_trait_icon_supply_consumption

		position = { x = 3 y = 1 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_western_avionics
		all_parents = {
			ROM_mio_trait_romaero_aircraft_western_avionics
		}

		organization_modifier = {
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.25
			military_industrial_organization_design_team_assign_cost = -0.15
			military_industrial_organization_design_team_change_cost = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_localized_manufacturering
		name = ROM_mio_trait_romaero_aircraft_localized_manufacturering
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 0 y = 3 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_lean_manufacturing
		all_parents = {
			ROM_mio_trait_romaero_aircraft_aerodynamic_winglet
			ROM_mio_trait_romaero_aircraft_payload_flex
			ROM_mio_trait_romaero_aircraft_accelerated_maintanance
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}

		on_complete = {
			ROM = {
				random_owned_state = {
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				if = {
					limit = {
						check_variable = { free_trait_picks > 0 }
					}
					add_to_variable = { free_trait_picks = -1 }
				}
				else = {
					FROM = {
						small_expenditure = yes
					}
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mio_trait_romaero_aircraft_structural_integrity
		name = ROM_mio_trait_romaero_aircraft_structural_integrity
		icon = GFX_generic_mio_trait_icon_air_defence

		position = { x = -2 y = 4 }
		relative_position_id = ROM_mio_trait_romaero_aircraft_modular_mission
		all_parents = {
			ROM_mio_trait_romaero_aircraft_localized_manufacturering
			ROM_mio_trait_romaero_aircraft_multi_role
		}

		equipment_bonus = {
			air_defence = 0.10
			reliability = 0.10
			weight = 0.05
			build_cost_ic = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}
## Armor
ROM_automecanica_tank_manufacturer = {
	allowed = { original_tag = ROM }
	icon = GFX_idea_automecanica_company
	name = ROM_automecanica_tank_manufacturer

	equipment_type = {
		util_vehicle_equipment
	}

	research_categories = {
		CAT_util
		CAT_armor_engines
	}

	tree_header_text = {
		text = "Medias Heritage & Utility Craft"
		x = 5
	}

	available = {
		ROM = { NOT = { has_country_flag = ROM_automecanica_takover } }
	}

	visible = {
		ROM = { NOT = { has_country_flag = ROM_automecanica_takover } }
	}

	initial_trait = {
		name = ROM_automecanica_tank_manufacturer_trait

		equipment_bonus = {
			reliability = 0.10
			build_cost_ic = -0.05
		}
	}
	trait = {
		token = ROM_automecanica_tank_trait_armor_frames
		name = ROM_automecanica_tank_trait_armor_frames
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 3 y = 0 }

		production_bonus = {
			production_cost_factor = -0.05
			production_efficiency_cap_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_automecanica_tank_trait_heavy_tow_frames
		name = ROM_automecanica_tank_trait_heavy_tow_frames
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 1 }
		relative_position_id = ROM_automecanica_tank_trait_armor_frames
		all_parents = {
			ROM_automecanica_tank_trait_armor_frames
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_automecanica_tank_trait_field_workshops
		name = ROM_automecanica_tank_trait_field_workshops
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 2 y = 0 }
		relative_position_id = ROM_automecanica_tank_trait_armor_frames

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_research_bonus = 0.03
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_automecanica_tank_trait_vehicle_clinic
		name = ROM_automecanica_tank_trait_vehicle_clinic
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 1 }
		relative_position_id = ROM_automecanica_tank_trait_field_workshops
		all_parents = {
			ROM_automecanica_tank_trait_field_workshops
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_automecanica_tank_trait_medias_flow
		name = ROM_automecanica_tank_trait_medias_flow
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 4 y = 1 }
		relative_position_id = ROM_automecanica_tank_trait_armor_frames

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_automecanica_tank_trait_steel_partnerships
		name = ROM_automecanica_tank_trait_steel_partnerships
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 2 y = 2 }
		relative_position_id = ROM_automecanica_tank_trait_armor_frames
		all_parents = {
			ROM_automecanica_tank_trait_heavy_tow_frames
			ROM_automecanica_tank_trait_vehicle_clinic
			ROM_automecanica_tank_trait_medias_flow
		}

		available = {
			ROM = {
				has_resources_in_country = {
					resource = steel
					amount > 1
				}
			}
		}

		production_bonus = {
			production_resource_need_factor = -0.15
		}

		on_complete = {
			custom_effect_tooltip = ROM_automecanica_tank_trait_steel_partnerships_tt
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
			hidden_effect = {
				ROM = { country_event = { id = romania_misc.19 days = 180 random_days = 40 } }
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

ROM_rheinmetall_tank_manufacturer = {
	allowed = { original_tag = ROM }
	icon = GFX_idea_Rheinmetall
	name = ROM_rheinmetall_tank_manufacturer

	equipment_type = {
		util_vehicle_equipment
		medium_tank_flame_chassis
	}

	research_categories = {
		CAT_util
		CAT_armor
	}

	research_bonus = 0.15

	tree_header_text = {
		text = "Rheinmetall Combat Systems Romania"
		x = 4
	}

	available = {
		ROM = { has_country_flag = ROM_automecanica_takover }
	}

	visible = {
		ROM = { has_country_flag = ROM_automecanica_takover }
	}

	initial_trait = {
		name = ROM_rheinmetall_tank_manufacturer_trait

		production_bonus = {
			production_cost_factor = -0.05
			production_efficiency_cap_factor = 0.05
			production_efficiency_gain_factor = 0.15
			production_resource_need_factor = -0.15
		}
		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}
		equipment_bonus = {
			reliability = 0.20
		}
	}
	trait = {
		token = ROM_rheinmetall_tank_trait_modular_armor
		name = ROM_rheinmetall_tank_trait_modular_armor
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 2 y = 0 }

		equipment_bonus = {
			defense = 0.05
			hardness = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_rheinmetall_tank_trait_high_velocity_autocannon
		name = ROM_rheinmetall_tank_trait_high_velocity_autocannon
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 5 y = 0 }

		equipment_bonus = {
			hard_attack = 0.04
			ap_attack = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_rheinmetall_tank_trait_german_supply
		name = ROM_rheinmetall_tank_trait_german_supply
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 1 y = 1 }
		relative_position_id = ROM_rheinmetall_tank_trait_modular_armor
		all_parents = {
			ROM_rheinmetall_tank_trait_modular_armor
			ROM_rheinmetall_tank_trait_high_velocity_autocannon
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_rheinmetall_tank_trait_central_bureau
		name = ROM_rheinmetall_tank_trait_central_bureau
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = -1 y = 1 }
		relative_position_id = ROM_rheinmetall_tank_trait_german_supply
		all_parents = {
			ROM_rheinmetall_tank_trait_german_supply
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_rheinmetall_tank_trait_system_integrator
		name = ROM_rheinmetall_tank_trait_system_integrator
		icon = GFX_generic_mio_trait_icon_task

		position = { x = -1 y = 3 }
		relative_position_id = ROM_rheinmetall_tank_trait_modular_armor
		all_parents = {
			ROM_rheinmetall_tank_trait_central_bureau
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_research_bonus = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_rheinmetall_tank_trait_automated_line
		name = ROM_rheinmetall_tank_trait_automated_line
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 1 y = 3 }
		relative_position_id = ROM_rheinmetall_tank_trait_modular_armor
		all_parents = {
			ROM_rheinmetall_tank_trait_central_bureau
		}

		production_bonus = {
			production_cost_factor = -0.05
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_rheinmetall_tank_trait_standard_munition
		name = ROM_rheinmetall_tank_trait_standard_munition
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 2 y = 1 }
		relative_position_id = ROM_rheinmetall_tank_trait_modular_armor
		all_parents = {
			ROM_rheinmetall_tank_trait_modular_armor
			ROM_rheinmetall_tank_trait_high_velocity_autocannon
		}

		equipment_bonus = {
			reliability = 0.05
			soft_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_rheinmetall_tank_trait_digital_fire
		name = ROM_rheinmetall_tank_trait_digital_fire
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 0 y = 1 }
		relative_position_id = ROM_rheinmetall_tank_trait_standard_munition
		all_parents = {
			ROM_rheinmetall_tank_trait_standard_munition
		}

		equipment_bonus = {
			soft_attack = 0.05
			ap_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_rheinmetall_tank_trait_modular_crew
		name = ROM_rheinmetall_tank_trait_modular_crew
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 0 y = 2 }
		relative_position_id = ROM_rheinmetall_tank_trait_standard_munition
		all_parents = {
			ROM_rheinmetall_tank_trait_digital_fire
			ROM_rheinmetall_tank_trait_hybrid_propulsion
		}

		equipment_bonus = {
			defense = 0.10
			soft_attack = 0.02
			build_cost_ic = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_rheinmetall_tank_trait_hybrid_propulsion
		name = ROM_rheinmetall_tank_trait_hybrid_propulsion
		icon = GFX_generic_mio_trait_icon_fuel_consumption

		position = { x = 1 y = 1 }
		relative_position_id = ROM_rheinmetall_tank_trait_standard_munition
		all_parents = {
			ROM_rheinmetall_tank_trait_standard_munition
		}

		available = {
			OR = {
				ROM = { has_tech = electric_engine_tech_1 }
				GER = { has_tech = electric_engine_tech_1 }
			}
		}

		equipment_bonus = {
			fuel_consumption = -0.07
			maximum_speed = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}
ROM_mfa_mizil_tank_manufacturer = {
	allowed = { original_tag = ROM }
	icon = GFX_idea_MFA_Mizil
	name = ROM_mfa_mizil_tank_manufacturer

	equipment_type = {
		medium_tank_flame_chassis
		medium_tank_amphibious_chassis
	}

	research_categories = {
		CAT_ifv
		CAT_apc
		CAT_computer_systems
		CAT_afv_weapons

	}

	research_bonus = 0.15

	tree_header_text = {
		text = "Tracked Mobility"
		x = 1
	}

	tree_header_text = {
		text = "Wheeled Integration"
		x = 4
	}

	tree_header_text = {
		text = "Integration Capability"
		x = 7
	}

	initial_trait = {
		name = ROM_mfa_mizill_tank_manufacturer_trait

		equipment_bonus = {
			hardness = 0.10
			defense = 0.10
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_turret_retrofrit
		name = ROM_mfa_mizill_tank_trait_turret_retrofrit
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 1 y = 0 }

		equipment_bonus = {
			hard_attack = 0.04
			defense = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_engine_power
		name = ROM_mfa_mizill_tank_trait_engine_power
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = -1 y = 1 }
		relative_position_id = ROM_mfa_mizill_tank_trait_turret_retrofrit
		all_parents = {
			ROM_mfa_mizill_tank_trait_turret_retrofrit
		}

		equipment_bonus = {
			maximum_speed = 0.10
			build_cost_ic = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_chassis_reinforcement
		name = ROM_mfa_mizill_tank_trait_chassis_reinforcement
		icon = GFX_generic_mio_trait_icon_hardness

		position = { x = 1 y = 1 }
		relative_position_id = ROM_mfa_mizill_tank_trait_turret_retrofrit
		all_parents = {
			ROM_mfa_mizill_tank_trait_turret_retrofrit
		}

		equipment_bonus = {
			hardness = 0.08
			reliability = 0.05
			build_cost_ic = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_sparepart_forge
		name = ROM_mfa_mizill_tank_trait_sparepart_forge
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 0 y = 2 }
		relative_position_id = ROM_mfa_mizill_tank_trait_turret_retrofrit
		all_parents = {
			ROM_mfa_mizill_tank_trait_turret_retrofrit
		}

		production_bonus = {
			production_resource_need_factor = -0.5
		}

		on_complete = {
			ROM = { one_random_arms_factory_free = yes }
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					medium_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_battlefield_repair
		name = ROM_mfa_mizill_tank_trait_battlefield_repair
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 0 y = 3 }
		relative_position_id = ROM_mfa_mizill_tank_trait_turret_retrofrit
		all_parents = {
			ROM_mfa_mizill_tank_trait_sparepart_forge
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_tracks_swap
		name = ROM_mfa_mizill_tank_trait_tracks_swap
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = -1 y = 4 }
		relative_position_id = ROM_mfa_mizill_tank_trait_turret_retrofrit
		all_parents = {
			ROM_mfa_mizill_tank_trait_battlefield_repair
			ROM_mfa_mizill_tank_trait_engine_power
		}

		equipment_bonus = {
			reliability = 0.05
			breakthrough = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_ifv_trails
		name = ROM_mfa_mizill_tank_trait_ifv_trails
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 1 y = 4 }
		relative_position_id = ROM_mfa_mizill_tank_trait_turret_retrofrit
		all_parents = {
			ROM_mfa_mizill_tank_trait_battlefield_repair
			ROM_mfa_mizill_tank_trait_chassis_reinforcement
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_wolfpack_armor
		name = ROM_mfa_mizill_tank_trait_wolfpack_armor
		icon = GFX_generic_mio_trait_icon_ifv_armor

		position = { x = 0 y = 5 }
		relative_position_id = ROM_mfa_mizill_tank_trait_turret_retrofrit
		all_parents = {
			ROM_mfa_mizill_tank_trait_tracks_swap
			ROM_mfa_mizill_tank_trait_battlefield_repair
			ROM_mfa_mizill_tank_trait_ifv_trails
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			armor_value = 0.10
			defense = 0.08
			build_cost_ic = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_piranha_assembly
		name = ROM_mfa_mizill_tank_trait_piranha_assembly
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 4 y = 0 }

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		production_bonus = {
			production_capacity_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_modular_pods
		name = ROM_mfa_mizill_tank_trait_modular_pods
		icon = GFX_generic_mio_trait_icon_apc_soft_attack

		position = { x = 0 y = 1 }
		relative_position_id = ROM_mfa_mizill_tank_trait_piranha_assembly
		all_parents = {
			ROM_mfa_mizill_tank_trait_piranha_assembly
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		equipment_bonus = {
			soft_attack = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_wheeled_bay
		name = ROM_mfa_mizill_tank_trait_wheeled_bay
		icon = GFX_generic_mio_trait_icon_funds

		position = { x = -1 y = 2 }
		relative_position_id = ROM_mfa_mizill_tank_trait_piranha_assembly
		all_parents = {
			ROM_mfa_mizill_tank_trait_modular_pods
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_assembly_automation
		name = ROM_mfa_mizill_tank_trait_assembly_automation
		icon = GFX_generic_mio_trait_icon_apc_efficiency_growth

		position = { x = -1 y = 3 }
		relative_position_id = ROM_mfa_mizill_tank_trait_piranha_assembly
		all_parents = {
			ROM_mfa_mizill_tank_trait_wheeled_bay
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_all_terrain_wheels
		name = ROM_mfa_mizill_tank_trait_all_terrain_wheels
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 1 y = 2 }
		relative_position_id = ROM_mfa_mizill_tank_trait_piranha_assembly
		all_parents = {
			ROM_mfa_mizill_tank_trait_modular_pods
		}

		equipment_bonus = {
			maximum_speed = 0.05
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_cross_roster
		name = ROM_mfa_mizill_tank_trait_cross_roster
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 1 y = 3 }
		relative_position_id = ROM_mfa_mizill_tank_trait_piranha_assembly
		all_parents = {
			ROM_mfa_mizill_tank_trait_all_terrain_wheels
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.25
			military_industrial_organization_design_team_assign_cost = -0.25
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_hydraulic
		name = ROM_mfa_mizill_tank_trait_hydraulic
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 0 y = 4 }
		relative_position_id = ROM_mfa_mizill_tank_trait_piranha_assembly
		all_parents = {
			ROM_mfa_mizill_tank_trait_cross_roster
			ROM_mfa_mizill_tank_trait_assembly_automation
		}

		equipment_bonus = {
			breakthrough = 0.05
			build_cost_ic = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_cbrn_wagon
		name = ROM_mfa_mizill_tank_trait_cbrn_wagon
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 0 y = 5 }
		relative_position_id = ROM_mfa_mizill_tank_trait_piranha_assembly
		all_parents = {
			ROM_mfa_mizill_tank_trait_hydraulic
		}

		equipment_bonus = {
			hard_attack = 0.08
			build_cost_ic = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_hot_welding_lines
		name = ROM_mfa_mizill_tank_trait_hot_welding_lines
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 7 y = 0 }

		production_bonus = {
			production_resource_need_factor = -0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_steelwork_precision
		name = ROM_mfa_mizill_tank_trait_steelwork_precision
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 1 y = 1 }
		relative_position_id = ROM_mfa_mizill_tank_trait_hot_welding_lines
		all_parents = {
			ROM_mfa_mizill_tank_trait_hot_welding_lines
		}

		equipment_bonus = {
			reliability = 0.10
			build_cost_ic = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_coating_center
		name = ROM_mfa_mizill_tank_trait_coating_center
		icon = GFX_generic_mio_trait_icon_ifv_armor

		position = { x = -1 y = 1 }
		relative_position_id = ROM_mfa_mizill_tank_trait_hot_welding_lines
		all_parents = {
			ROM_mfa_mizill_tank_trait_hot_welding_lines
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			armor_value = 0.04
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_quality_certification
		name = ROM_mfa_mizill_tank_trait_quality_certification
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 2 }
		relative_position_id = ROM_mfa_mizill_tank_trait_hot_welding_lines
		all_parents = {
			ROM_mfa_mizill_tank_trait_coating_center
			ROM_mfa_mizill_tank_trait_steelwork_precision
		}

		equipment_bonus = {
			reliability = 0.05
		}

		organization_modifier = {
			military_industrial_organization_size_up_requirement = -0.20
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_defense_supply
		name = ROM_mfa_mizill_tank_trait_defense_supply
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 0 y = 3 }
		relative_position_id = ROM_mfa_mizill_tank_trait_hot_welding_lines
		all_parents = {
			ROM_mfa_mizill_tank_trait_quality_certification
		}

		production_bonus = {
			production_capacity_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_rafael
		name = ROM_mfa_mizill_tank_trait_rafael
		icon = GFX_generic_mio_trait_icon_ap_attack
		special_trait_background = yes

		position = { x = -1 y = 4 }
		relative_position_id = ROM_mfa_mizill_tank_trait_hot_welding_lines
		all_parents = {
			ROM_mfa_mizill_tank_trait_defense_supply
		}

		available = {
			FRA = {
				exists = yes
				war_with_us = no
				mio:FRA_dassault_aviation_aircraft_manufacturer = {
					has_mio_size > 4
				}
				has_opinion = {
					target = ROM
					value > 50
				}
			}
		}

		equipment_bonus = {
			soft_attack = 0.08
			hard_attack = 0.08
			ap_attack = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_mfa_mizill_tank_trait_rheinmetall
		name = ROM_mfa_mizill_tank_trait_rheinmetall
		icon = GFX_generic_mio_trait_icon_efficiency_cap
		special_trait_background = yes

		position = { x = 1 y = 4 }
		relative_position_id = ROM_mfa_mizill_tank_trait_hot_welding_lines
		all_parents = {
			ROM_mfa_mizill_tank_trait_defense_supply
		}

		available = {
			OR = {
				ROM = { has_country_flag = ROM_automecanica_takover }
				GER = {
					exists = yes
					war_with_us = no
					has_opinion = {
						target = ROM
						value > 50
					}
					mio:GER_rheinmetall_tank_manufacturer = {
						has_mio_size > 4
					}
				}
			}
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.05
			production_efficiency_cap_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

ROM_iar_tank_manufacturer = {
	allowed = { original_tag = ROM }
	icon = GFX_idea_IAR
	name = ROM_iar_tank_manufacturer

	equipment_type = {
		heavy_tank_chassis
		heavy_tank_amphibious_chassis
	}

	research_categories = {
		CAT_heli

	}

	tree_header_text = {
		text = "Transport Utility"
		x = 1
	}

	tree_header_text = {
		text = "SOCAT Upgrades"
		x = 6
	}


	initial_trait = {
		name = ROM_iar_tank_manufacturer_trait

		equipment_bonus = {
			reliability = 0.10
			air_defence = 0.10
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}
	}
	trait = {
		token = ROM_iar_tank_trait_composite_rotor
		name = ROM_iar_tank_trait_composite_rotor
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 1 y = 0 }

		limit_to_equipment_type = {
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			armor_value = 0.05
			reliability = 0.05
			maximum_speed = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_iar_tank_trait_cargo_hook
		name = ROM_iar_tank_trait_cargo_hook
		icon = GFX_generic_mio_trait_icon_weight

		position = { x = -1 y = 1 }
		relative_position_id = ROM_iar_tank_trait_composite_rotor
		all_parents = {
			ROM_iar_tank_trait_composite_rotor
		}

		mutually_exclusive = {
			ROM_iar_tank_trait_crash_fuel
		}

		limit_to_equipment_type = {
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			weight = -0.05
			fuel_consumption = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_iar_tank_trait_crash_fuel
		name = ROM_iar_tank_trait_crash_fuel
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 1 y = 1 }
		relative_position_id = ROM_iar_tank_trait_composite_rotor
		all_parents = {
			ROM_iar_tank_trait_composite_rotor
		}

		mutually_exclusive = {
			ROM_iar_tank_trait_cargo_hook
		}

		limit_to_equipment_type = {
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			defense = 0.10
			fuel_consumption = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_iar_tank_trait_digital_maintenance
		name = ROM_iar_tank_trait_digital_maintenance
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 0 y = 2 }
		relative_position_id = ROM_iar_tank_trait_composite_rotor
		any_parent = {
			ROM_iar_tank_trait_cargo_hook
			ROM_iar_tank_trait_crash_fuel
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_iar_tank_trait_rapid_deployment
		name = ROM_iar_tank_trait_rapid_deployment
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 0 y = 3 }
		relative_position_id = ROM_iar_tank_trait_composite_rotor
		all_parents = {
			ROM_iar_tank_trait_digital_maintenance
		}

		production_bonus = {
			production_cost_factor = -0.04
			production_efficiency_gain_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_iar_tank_trait_elbit_suite
		name = ROM_iar_tank_trait_elbit_suite
		icon = GFX_generic_mio_trait_icon_attackheli_soft_attack
		special_trait_background = yes

		position = { x = 6 y = 0 }

		available = {
			ISR = {
				exists = yes
				war_with_us = no
				has_opinion = {
					target = ROM
					value > 50
				}
			}
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
		}

		equipment_bonus = {
			hard_attack = 0.10
			soft_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_iar_tank_trait_laser_designator
		name = ROM_iar_tank_trait_laser_designator
		icon = GFX_generic_mio_trait_icon_attackheli_breakthrough

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			heavy_tank_chassis
		}

		equipment_bonus = {
			breakthrough = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_iar_tank_trait_pylon_reinforcement
		name = ROM_iar_tank_trait_pylon_reinforcement
		icon = GFX_generic_mio_trait_icon_attackheli_hard_attack

		position = { x = 5 y = 0 }

		limit_to_equipment_type = {
			heavy_tank_chassis
		}

		equipment_bonus = {
			hard_attack = 0.05
			armor_value = 0.03
			build_cost_ic = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_iar_tank_trait_night_operations
		name = ROM_iar_tank_trait_night_operations
		icon = GFX_generic_mio_trait_icon_attackheli_breakthrough

		position = { x = -1 y = 1 }
		relative_position_id = ROM_iar_tank_trait_laser_designator
		all_parents = {
			ROM_iar_tank_trait_laser_designator
			ROM_iar_tank_trait_pylon_reinforcement
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
		}

		equipment_bonus = {
			breakthrough = 0.05
			night_penalty = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_iar_tank_trait_electronic_pod
		name = ROM_iar_tank_trait_electronic_pod
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = -1 y = 2 }
		relative_position_id = ROM_iar_tank_trait_laser_designator
		all_parents = {
			ROM_iar_tank_trait_night_operations
		}

		equipment_bonus = {
			defense = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_iar_tank_trait_mssion_flex
		name = ROM_iar_tank_trait_mssion_flex
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -3 y = 3 }
		relative_position_id = ROM_iar_tank_trait_laser_designator
		all_parents = {
			ROM_iar_tank_trait_digital_maintenance
			ROM_iar_tank_trait_electronic_pod
		}

		equipment_bonus = {
			reliability = 0.15
			soft_attack = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_iar_tank_trait_localized_assembly
		name = ROM_iar_tank_trait_localized_assembly
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = -4 y = 4 }
		relative_position_id = ROM_iar_tank_trait_laser_designator
		all_parents = {
			ROM_iar_tank_trait_rapid_deployment
			ROM_iar_tank_trait_mssion_flex
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.05
			production_resource_need_factor = -0.05
		}

		on_complete = {
			ROM = { one_random_arms_factory_free = yes }
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					medium_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_iar_tank_trait_integration_bureau
		name = ROM_iar_tank_trait_integration_bureau
		icon = GFX_generic_mio_trait_icon_design

		position = { x = -5 y = 4 }
		relative_position_id = ROM_iar_tank_trait_laser_designator
		all_parents = {
			ROM_iar_tank_trait_rapid_deployment
			ROM_iar_tank_trait_mssion_flex
		}

		organization_modifier = {
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.50
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

ROM_romarm_tank_manufacturer = {
	allowed = { original_tag = ROM }
	icon = GFX_idea_ROMARM
	name = ROM_romarm_tank_manufacturer

	equipment_type = {
		medium_tank_chassis
		medium_tank_amphibious_chassis
	}

	research_categories = {
		CAT_mbt
		CAT_apc

	}

	tree_header_text = {
		text = "Armored Innovation"
		x = 2
	}

	tree_header_text = {
		text = "Industrial Effectiveness"
		x = 7
	}


	initial_trait = {
		name = ROM_romarm_tank_manufacturer_trait

		equipment_bonus = {
			reliability = 0.10
			air_defence = 0.10
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}
	}
	trait = {
		token = ROM_romarm_tank_trait_armor_package
		name = ROM_romarm_tank_trait_armor_package
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 0 y = 0 }

		equipment_bonus = {
			armor_value = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_tank_trait_cugir_plant_expansion
		name = ROM_romarm_tank_trait_cugir_plant_expansion
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 2 y = 0 }
		relative_position_id = ROM_romarm_tank_trait_armor_package

		available = {
			ROM = { owns_state = 151 }
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			151 = {
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					medium_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_tank_trait_standardized_component
		name = ROM_romarm_tank_trait_standardized_component
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 4 y = 0 }
		relative_position_id = ROM_romarm_tank_trait_armor_package

		production_bonus = {
			production_efficiency_cap_factor = 0.10
			production_resource_need_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_tank_trait_125_trials
		name = ROM_romarm_tank_trait_125_trials
		icon = GFX_generic_mio_trait_icon_mbt_ap_attack

		position = { x = 1 y = 1 }
		relative_position_id = ROM_romarm_tank_trait_armor_package
		all_parents = {
			ROM_romarm_tank_trait_armor_package
			ROM_romarm_tank_trait_cugir_plant_expansion
		}

		limit_to_equipment_type = {
			medium_tank_chassis
		}

		equipment_bonus = {
			ap_attack = 0.10
			hard_attack = 0.05
			build_cost_ic = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_tank_maintenance_training
		name = ROM_romarm_tank_maintenance_training
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 3 y = 1 }
		relative_position_id = ROM_romarm_tank_trait_armor_package
		all_parents = {
			ROM_romarm_tank_trait_standardized_component
			ROM_romarm_tank_trait_cugir_plant_expansion
		}

		equipment_bonus = {
			reliability = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
			military_industrial_organization_design_team_change_cost = -0.40
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_tank_export_marketing
		name = ROM_romarm_tank_export_marketing
		icon = GFX_generic_mio_trait_icon_funds

		position = { x = 4 y = 2 }
		relative_position_id = ROM_romarm_tank_trait_armor_package
		all_parents = {
			ROM_romarm_tank_trait_standardized_component
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.10
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_tank_urban_warfare
		name = ROM_romarm_tank_urban_warfare
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 0 y = 2 }
		relative_position_id = ROM_romarm_tank_trait_armor_package
		all_parents = {
			ROM_romarm_tank_trait_125_trials
		}

		equipment_bonus = {
			breakthrough = 0.05
			defense = 0.10
			build_cost_ic = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_tank_protection_systems
		name = ROM_romarm_tank_protection_systems
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 0 y = 4 }
		relative_position_id = ROM_romarm_tank_trait_armor_package
		all_parents = {
			ROM_romarm_tank_urban_warfare
		}

		equipment_bonus = {
			defense = 0.10
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_tank_stabilized_gun
		name = ROM_romarm_tank_stabilized_gun
		icon = GFX_generic_mio_trait_icon_mbt_hard_attack
		position = { x = 1 y = 3 }
		relative_position_id = ROM_romarm_tank_trait_armor_package
		all_parents = {
			ROM_romarm_tank_trait_125_trials
		}

		limit_to_equipment_type = {
			medium_tank_chassis
		}

		equipment_bonus = {
			hard_attack = 0.10
			ap_attack = 0.08
			build_cost_ic = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_tank_heavy_industry
		name = ROM_romarm_tank_heavy_industry
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 2 y = 2 }
		relative_position_id = ROM_romarm_tank_trait_armor_package
		all_parents = {
			ROM_romarm_tank_trait_cugir_plant_expansion
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			ROM = {
				random_owned_state = {
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
				random_owned_state = {
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					large_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_tank_trait_modular_apc_hulls
		name = ROM_romarm_tank_trait_modular_apc_hulls
		icon = GFX_generic_mio_trait_icon_apc_defense

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		equipment_bonus = {
			defense = 0.10
			armor_value = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_tank_trait_brasov_armor_bureau
		name = ROM_romarm_tank_trait_brasov_armor_bureau
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 2 y = 0 }
		relative_position_id = ROM_romarm_tank_trait_modular_apc_hulls

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
			military_industrial_organization_design_team_assign_cost = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_tank_trait_reactive_armor_kits
		name = ROM_romarm_tank_trait_reactive_armor_kits
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 1 y = 1 }
		relative_position_id = ROM_romarm_tank_trait_modular_apc_hulls

		all_parents = {
			ROM_romarm_tank_trait_brasov_armor_bureau
			ROM_romarm_tank_trait_modular_apc_hulls
		}

		equipment_bonus = {
			armor_value = 0.10
			build_cost_ic = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_tank_trait_domestic_supply
		name = ROM_romarm_tank_trait_domestic_supply
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = -1 y = 1 }
		relative_position_id = ROM_romarm_tank_trait_modular_apc_hulls

		all_parents = {
			ROM_romarm_tank_trait_brasov_armor_bureau
			ROM_romarm_tank_trait_cugir_plant_expansion
		}

		production_bonus = {
			production_resource_need_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_tank_trait_modern_welding
		name = ROM_romarm_tank_trait_modern_welding
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = -1 y = 2 }
		relative_position_id = ROM_romarm_tank_trait_modular_apc_hulls

		all_parents = {
			ROM_romarm_tank_trait_domestic_supply
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_tank_trait_dual_use
		name = ROM_romarm_tank_trait_dual_use
		icon = GFX_generic_mio_trait_icon_production_capacity
		position = { x = -1 y = 3 }
		relative_position_id = ROM_romarm_tank_trait_modular_apc_hulls

		all_parents = {
			ROM_romarm_tank_trait_modern_welding
		}

		production_bonus = {
			production_capacity_factor = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

## Material
ROM_cugir_material_manufacturer = {
	allowed = { original_tag = ROM }
	icon = GFX_idea_cugir_arms_company
	name = ROM_cugir_material_manufacturer

	equipment_type = {
		Inf_equipment
	}

	research_categories = {
		CAT_inf_wep
		CAT_support_weapons

	}

	tree_header_text = {
		text = "Romania's Backbone Factory"
		x = 4
	}

	initial_trait = {
		name = ROM_mio_trait_cugir_company

		equipment_bonus = {
			soft_attack = 0.15
			reliability = -0.15
			build_cost_ic = -0.10
		}

	}
	trait = {
		token = ROM_cugir_material_trait_ak_heritage
		name = ROM_cugir_material_trait_ak_heritage
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 5 y = 0 }

		mutually_exclusive = {
			ROM_cugir_material_trait_precision_machining
		}

		equipment_bonus = {
			soft_attack = 0.08
			reliability = -0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_cugir_material_trait_precision_machining
		name = ROM_cugir_material_trait_precision_machining
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -2 y = 0 }
		relative_position_id = ROM_cugir_material_trait_ak_heritage

		mutually_exclusive = {
			ROM_cugir_material_trait_ak_heritage
		}

		equipment_bonus = {
			reliability = 0.04
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_cugir_material_trait_munition_optimization
		name = ROM_cugir_material_trait_munition_optimization
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = -3 y = 1 }
		relative_position_id = ROM_cugir_material_trait_ak_heritage

		all_parents = {
			ROM_cugir_material_trait_precision_machining
		}
		equipment_bonus = {
			reliability = 0.04
			ap_attack = 0.05
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_cugir_material_trait_mass_production
		name = ROM_cugir_material_trait_mass_production
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 1 y = 1 }
		relative_position_id = ROM_cugir_material_trait_ak_heritage

		all_parents = {
			ROM_cugir_material_trait_ak_heritage
		}

		production_bonus = {
			production_capacity_factor = 0.05
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_cugir_material_trait_cartride_assembly
		name = ROM_cugir_material_trait_cartride_assembly
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = -1 y = 1 }
		relative_position_id = ROM_cugir_material_trait_ak_heritage

		available = {
			ROM = {
				mio:ROM_cugir_material_manufacturer = {
					has_mio_number_of_completed_traits > 3
				}
			}
		}

		any_parent = {
			ROM_cugir_material_trait_ak_heritage
			ROM_cugir_material_trait_precision_machining
		}

		production_bonus = {
			production_cost_factor = -0.05
		}

		on_complete = {
			ROM = { one_random_arms_factory_free = yes }
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					medium_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_cugir_material_trait_polymer_stocks
		name = ROM_cugir_material_trait_polymer_stocks
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = -3 y = 1 }
		relative_position_id = ROM_cugir_material_trait_cartride_assembly
		all_parents = {
			ROM_cugir_material_trait_cartride_assembly
		}

		available = {
			ROM = {
				has_resources_in_country = {
					resource = aluminium
					amount > 0
				}
			}
		}

		production_bonus = {
			production_resource_need_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					medium_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_cugir_material_trait_night_optics
		name = ROM_cugir_material_trait_night_optics
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = -3 y = 2 }
		relative_position_id = ROM_cugir_material_trait_cartride_assembly
		all_parents = {
			ROM_cugir_material_trait_polymer_stocks
		}

		available = {
			ROM = {
				has_tech = night_vision_3
			}
		}

		equipment_bonus = {
			breakthrough = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					medium_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_cugir_material_trait_sniper
		name = ROM_cugir_material_trait_sniper
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = -1 y = 1 }
		relative_position_id = ROM_cugir_material_trait_cartride_assembly
		all_parents = {
			ROM_cugir_material_trait_cartride_assembly
		}

		mutually_exclusive = {
			ROM_cugir_material_trait_heavy_mg
		}

		equipment_bonus = {
			breakthrough = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					medium_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_cugir_material_trait_ballistics_range
		name = ROM_cugir_material_trait_ballistics_range
		icon = GFX_generic_mio_trait_icon_research

		position = { x = -1 y = 2 }
		relative_position_id = ROM_cugir_material_trait_cartride_assembly
		any_parent = {
			ROM_cugir_material_trait_cartride_assembly
			ROM_cugir_material_trait_heavy_mg
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					medium_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_cugir_material_trait_heavy_mg
		name = ROM_cugir_material_trait_heavy_mg
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 1 y = 1 }
		relative_position_id = ROM_cugir_material_trait_cartride_assembly
		all_parents = {
			ROM_cugir_material_trait_cartride_assembly
		}

		mutually_exclusive = {
			ROM_cugir_material_trait_sniper
		}

		equipment_bonus = {
			soft_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					medium_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_cugir_material_trait_small_arms_repair
		name = ROM_cugir_material_trait_small_arms_repair
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 3 y = 1 }
		relative_position_id = ROM_cugir_material_trait_cartride_assembly
		all_parents = {
			ROM_cugir_material_trait_cartride_assembly
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					medium_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_cugir_material_trait_stamped
		name = ROM_cugir_material_trait_stamped
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 1 y = 2 }
		relative_position_id = ROM_cugir_material_trait_cartride_assembly
		any_parent = {
			ROM_cugir_material_trait_cartride_assembly
			ROM_cugir_material_trait_heavy_mg
		}

		all_parents = {
			ROM_cugir_material_trait_small_arms_repair
		}

		production_bonus = {
			production_cost_factor = -0.04
			production_efficiency_gain_factor = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					medium_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_cugir_material_trait_pistol
		name = ROM_cugir_material_trait_pistol
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 3 }
		relative_position_id = ROM_cugir_material_trait_cartride_assembly
		all_parents = {
			ROM_cugir_material_trait_ballistics_range
			ROM_cugir_material_trait_stamped
		}

		equipment_bonus = {
			soft_attack = 0.03
			reliability = 0.2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					medium_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

ROM_romarm_material_manufacturer = {
	allowed = { original_tag = ROM }
	icon = GFX_idea_ROMARM
	name = ROM_romarm_tank_manufacturer

	equipment_type = {
		Inf_equipment
		artillery_equipment
	}

	research_categories = {
		CAT_arty
		CAT_l_at
		CAT_inf_wep
		CAT_support_weapons
	}

	tree_header_text = {
		text = "Small Arms"
		x = 2
	}

	tree_header_text = {
		text = "Artillery"
		x = 7
	}


	initial_trait = {
		name = ROM_romarm_material_manufacturer_trait

		equipment_bonus = {
			soft_attack = 0.05
			reliability = 0.5
		}

		production_bonus = {
			production_resource_need_factor = -0.15
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}
	}
	trait = {
		token = ROM_romarm_material_trait_rifle_lines
		name = ROM_romarm_material_trait_rifle_lines
		icon = GFX_generic_mio_trait_icon_smallarms_reliability

		position = { x = 2 y = 0 }

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			reliability = 0.05
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_polymer_kit
		name = ROM_romarm_material_trait_polymer_kit
		icon = GFX_generic_mio_trait_icon_smallarms_buildcost

		position = { x = 1 y = 1 }
		relative_position_id = ROM_romarm_material_trait_rifle_lines
		all_parents = {
			ROM_romarm_material_trait_rifle_lines
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			build_cost_ic = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_mass_training
		name = ROM_romarm_material_trait_mass_training
		icon = GFX_generic_mio_trait_icon_smallarms_efficiency_gain

		position = { x = 1 y = 2 }
		relative_position_id = ROM_romarm_material_trait_rifle_lines
		all_parents = {
			ROM_romarm_material_trait_polymer_kit
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			build_cost_ic = -0.05
		}

		production_bonus = {
			production_efficiency_gain_factor = -0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_quality_control
		name = ROM_romarm_material_trait_quality_control
		icon = GFX_generic_mio_trait_icon_smallarms_reliability

		position = { x = 1 y = 3 }
		relative_position_id = ROM_romarm_material_trait_rifle_lines
		all_parents = {
			ROM_romarm_material_trait_mass_training
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			reliability = 0.15
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_universal_barrel
		name = ROM_romarm_material_trait_universal_barrel
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = -1 y = 1 }
		relative_position_id = ROM_romarm_material_trait_rifle_lines
		all_parents = {
			ROM_romarm_material_trait_rifle_lines
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		production_bonus = {
			production_cost_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_heavy_barrel
		name = ROM_romarm_material_trait_heavy_barrel
		icon = GFX_generic_mio_trait_icon_smallarms_hard_attack

		position = { x = -1 y = 3 }
		relative_position_id = ROM_romarm_material_trait_rifle_lines
		all_parents = {
			ROM_romarm_material_trait_universal_barrel
		}

		mutually_exclusive = {
			ROM_romarm_material_trait_sniper_rifle
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			hard_attack = 0.10
			defense = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_sniper_rifle
		name = ROM_romarm_material_trait_sniper_rifle
		icon = GFX_generic_mio_trait_icon_smallarms_soft_attack

		position = { x = 0 y = 3 }
		relative_position_id = ROM_romarm_material_trait_rifle_lines
		all_parents = {
			ROM_romarm_material_trait_universal_barrel
		}

		mutually_exclusive = {
			ROM_romarm_material_trait_heavy_barrel
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			soft_attack = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_export_ammo
		name = ROM_romarm_material_trait_export_ammo
		icon = GFX_generic_mio_trait_icon_smallarms_resources

		position = { x = 0 y = 4 }
		relative_position_id = ROM_romarm_material_trait_rifle_lines
		all_parents = {
			ROM_romarm_material_trait_quality_control
		}

		any_parent = {
			ROM_romarm_material_trait_heavy_barrel
			ROM_romarm_material_trait_sniper_rifle
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		production_bonus = {
			production_resource_need_factor = -0.05
			production_capacity_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_lightweight
		name = ROM_romarm_material_trait_lightweight
		icon = GFX_generic_mio_trait_icon_smallarms_buildcost

		position = { x = -1 y = 5 }
		relative_position_id = ROM_romarm_material_trait_rifle_lines
		all_parents = {
			ROM_romarm_material_trait_export_ammo
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			build_cost_ic = -0.05
			reliability = -0.05
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_ergonomic
		name = ROM_romarm_material_trait_ergonomic
		icon = GFX_generic_mio_trait_icon_smallarms_soft_attack

		position = { x = 1 y = 5 }
		relative_position_id = ROM_romarm_material_trait_rifle_lines
		all_parents = {
			ROM_romarm_material_trait_export_ammo
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			soft_attack = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_artillery_foundry
		name = ROM_romarm_material_trait_artillery_foundry
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			artillery_equipment
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_steel_casting_expansion
		name = ROM_romarm_material_trait_steel_casting_expansion
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = -1 y = 1 }
		relative_position_id = ROM_romarm_material_trait_artillery_foundry
		all_parents = {
			ROM_romarm_material_trait_artillery_foundry
		}

		limit_to_equipment_type = {
			artillery_equipment
		}

		production_bonus = {
			production_capacity_factor = 0.06
		}

		on_complete = {
			ROM = {
				random_owned_state = {
					add_resource = {
						type = steel
						amount = 2
					}
				}
			}
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					medium_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_mortar_tube
		name = ROM_romarm_material_trait_mortar_tube
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 1 y = 1 }
		relative_position_id = ROM_romarm_material_trait_artillery_foundry
		all_parents = {
			ROM_romarm_material_trait_artillery_foundry
		}

		limit_to_equipment_type = {
			artillery_equipment
		}

		equipment_bonus = {
			defense = 0.03
			soft_attack = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_field_artillery
		name = ROM_romarm_material_trait_field_artillery
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 0 y = 2 }
		relative_position_id = ROM_romarm_material_trait_artillery_foundry
		all_parents = {
			ROM_romarm_material_trait_mortar_tube
			ROM_romarm_material_trait_steel_casting_expansion
		}

		limit_to_equipment_type = {
			artillery_equipment
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_rocket_projectile
		name = ROM_romarm_material_trait_rocket_projectile
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 1 y = 3 }
		relative_position_id = ROM_romarm_material_trait_artillery_foundry
		all_parents = {
			ROM_romarm_material_trait_mortar_tube
		}

		limit_to_equipment_type = {
			artillery_equipment
		}

		equipment_bonus = {
			soft_attack = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_artillery_mobility
		name = ROM_romarm_material_trait_artillery_mobility
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 0 y = 4 }
		relative_position_id = ROM_romarm_material_trait_artillery_foundry
		all_parents = {
			ROM_romarm_material_trait_rocket_projectile
		}

		limit_to_equipment_type = {
			artillery_equipment
		}

		equipment_bonus = {
			maximum_speed = 0.15
			build_cost_ic = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_composite_shell
		name = ROM_romarm_material_trait_composite_shell
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 1 y = 5 }
		relative_position_id = ROM_romarm_material_trait_artillery_foundry
		all_parents = {
			ROM_romarm_material_trait_rocket_projectile
		}

		limit_to_equipment_type = {
			artillery_equipment
		}

		equipment_bonus = {
			breakthrough = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_chemistry_lab
		name = ROM_romarm_material_trait_chemistry_lab
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 0 y = 6 }
		relative_position_id = ROM_romarm_material_trait_artillery_foundry
		all_parents = {
			ROM_romarm_material_trait_composite_shell
			ROM_romarm_material_trait_artillery_mobility
			ROM_romarm_material_trait_ammo_workshops
		}

		limit_to_equipment_type = {
			artillery_equipment
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_romarm_logisitics
		name = ROM_romarm_material_trait_romarm_logisitics
		icon = GFX_generic_mio_trait_icon_task

		position = { x = -1 y = 3 }
		relative_position_id = ROM_romarm_material_trait_artillery_foundry
		all_parents = {
			ROM_romarm_material_trait_mortar_tube
		}

		limit_to_equipment_type = {
			artillery_equipment
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.33
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_romarm_material_trait_ammo_workshops
		name = ROM_romarm_material_trait_ammo_workshops
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = -1 y = 4 }
		relative_position_id = ROM_romarm_material_trait_artillery_foundry
		all_parents = {
			ROM_romarm_material_trait_romarm_logisitics
		}

		limit_to_equipment_type = {
			artillery_equipment
		}

		production_bonus = {
			production_capacity_factor = 0.10
			production_resource_need_factor = -0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

ROM_arsenal_resita_material_manufacturer = {
	allowed = { original_tag = ROM }
	icon = GFX_idea_arsenal_resita_company
	name = ROM_arsenal_resita_material_manufacturer

	equipment_type = {
		artillery_equipment
	}

	research_categories = {
		CAT_arty
		CAT_afv_weapons
	}

	research_bonus = 0.05

	tree_header_text = {
		text = "Artillery & Ammunition"
		x = 4
	}

	initial_trait = {
		name = ROM_arsenal_resita_trait

		equipment_bonus = {
			defense = 0.15
			reliability = 0.15
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = -3
		}
	}
	trait = {
		token = ROM_arsenal_resita_material_trait_mountain_howitzer
		name = ROM_arsenal_resita_material_trait_mountain_howitzer
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 2 y = 0 }

		equipment_bonus = {
			soft_attack = 0.04
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_arsenal_resita_material_trait_howitzer_component
		name = ROM_arsenal_resita_material_trait_howitzer_component
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = -1 y = 1 }
		relative_position_id = ROM_arsenal_resita_material_trait_mountain_howitzer
		all_parents = {
			ROM_arsenal_resita_material_trait_mountain_howitzer
		}

		equipment_bonus = {
			soft_attack = 0.03
			breakthrough = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_arsenal_resita_material_trait_quality_production
		name = ROM_arsenal_resita_material_trait_quality_production
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 2 y = 1 }
		relative_position_id = ROM_arsenal_resita_material_trait_mountain_howitzer
		all_parents = {
			ROM_arsenal_resita_material_trait_mountain_howitzer
			ROM_arsenal_resita_material_trait_anti_tank_artillery
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_arsenal_resita_material_trait_heavy_forging
		name = ROM_arsenal_resita_material_trait_heavy_forging
		icon = GFX_generic_mio_trait_icon_efficiency_gain
		position = { x = -1 y = 1 }
		relative_position_id = ROM_arsenal_resita_material_trait_quality_production
		all_parents = {
			ROM_arsenal_resita_material_trait_quality_production
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_arsenal_resita_material_trait_directional_shell
		name = ROM_arsenal_resita_material_trait_directional_shell
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 1 y = 1 }
		relative_position_id = ROM_arsenal_resita_material_trait_quality_production
		all_parents = {
			ROM_arsenal_resita_material_trait_quality_production
		}

		equipment_bonus = {
			soft_attack = 0.05
		}

		production_bonus = {
			production_capacity_factor = 0.05
			production_resource_need_factor = -0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_arsenal_resita_material_trait_base_bleed
		name = ROM_arsenal_resita_material_trait_base_bleed
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 0 y = 2 }
		relative_position_id = ROM_arsenal_resita_material_trait_quality_production
		all_parents = {
			ROM_arsenal_resita_material_trait_directional_shell
			ROM_arsenal_resita_material_trait_heavy_forging
		}

		equipment_bonus = {
			breakthrough = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_arsenal_resita_material_trait_heated_barrel
		name = ROM_arsenal_resita_material_trait_heated_barrel
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 3 }
		relative_position_id = ROM_arsenal_resita_material_trait_quality_production
		all_parents = {
			ROM_arsenal_resita_material_trait_base_bleed
		}

		equipment_bonus = {
			reliability = 0.10
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_arsenal_resita_material_trait_anti_tank_artillery
		name = ROM_arsenal_resita_material_trait_anti_tank_artillery
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 4 y = 0 }
		relative_position_id = ROM_arsenal_resita_material_trait_mountain_howitzer

		equipment_bonus = {
			hard_attack = 0.05
			ap_attack = 0.03
			build_cost_ic = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_arsenal_resita_material_trait_large_range
		name = ROM_arsenal_resita_material_trait_large_range
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 5 y = 1 }
		relative_position_id = ROM_arsenal_resita_material_trait_mountain_howitzer
		all_parents = {
			ROM_arsenal_resita_material_trait_anti_tank_artillery
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

## Naval

ROM_galati_shipyard_naval_manufacturer = {
	allowed = { original_tag = ROM }
	icon = GFX_idea_Damen_Galati
	name = ROM_galati_shipyard_naval_manufacturer

	equipment_type = {
		mio_cat_only_small_ships
		mio_cat_frigates
	}

	research_categories = {
		CAT_surface_ship
	}

	research_bonus = 0.08

	tree_header_text = {
		text = "Steel & Shipyard"
		x = 2
	}

	tree_header_text = {
		text = "Modern Naval Systems"
		x = 7
	}

	initial_trait = {
		name = ROM_galati_shipyard_trait

		equipment_bonus = {
			armor_value = 0.10
			build_cost_ic = -0.15
		}

	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_fleet_delivery
		name = ROM_galati_shipyard_naval_trait_fleet_delivery
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 2 y = 0 }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.25
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_naval_quality
		name = ROM_galati_shipyard_naval_trait_naval_quality
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -1 y = 1 }
		relative_position_id = ROM_galati_shipyard_naval_trait_fleet_delivery
		all_parents = {
			ROM_galati_shipyard_naval_trait_fleet_delivery
		}

		equipment_bonus = {
			reliability = 0.5
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
			military_industrial_organization_design_team_change_cost = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_sea_trials
		name = ROM_galati_shipyard_naval_trait_sea_trials
		icon = GFX_generic_mio_trait_icon_task

		position = { x = -1 y = 2 }
		relative_position_id = ROM_galati_shipyard_naval_trait_fleet_delivery
		all_parents = {
			ROM_galati_shipyard_naval_trait_naval_quality
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_integrated_crew
		name = ROM_galati_shipyard_naval_trait_integrated_crew
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 1 y = 1 }
		relative_position_id = ROM_galati_shipyard_naval_trait_fleet_delivery
		all_parents = {
			ROM_galati_shipyard_naval_trait_fleet_delivery
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
			military_industrial_organization_size_up_requirement = -0.25
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_integration_liaison
		name = ROM_galati_shipyard_naval_trait_integration_liaison
		icon = GFX_generic_mio_trait_icon_surface_detection

		position = { x = 1 y = 2 }
		relative_position_id = ROM_galati_shipyard_naval_trait_fleet_delivery
		all_parents = {
			ROM_galati_shipyard_naval_trait_integrated_crew
		}

		available = {
			HOL = {
				exists = yes
				war_with_us = no
				mio:HOL_Thales_equipment_manufacturer = {
					has_mio_size > 3
				}
			}
		}

		equipment_bonus = {
			surface_detection = 0.10
			naval_range = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_damage_control
		name = ROM_galati_shipyard_naval_trait_damage_control
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 0 y = 3 }
		relative_position_id = ROM_galati_shipyard_naval_trait_fleet_delivery
		any_parent = {
			ROM_galati_shipyard_naval_trait_sea_trials
			ROM_galati_shipyard_naval_trait_integration_liaison
		}


		equipment_bonus = {
			defense = 0.10
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_yardwide
		name = ROM_galati_shipyard_naval_trait_yardwide
		icon = GFX_generic_mio_trait_icon_naval_torpedo_damage_reduction_factor

		position = { x = -1 y = 4 }
		relative_position_id = ROM_galati_shipyard_naval_trait_fleet_delivery
		all_parents = {
			ROM_galati_shipyard_naval_trait_damage_control
		}


		equipment_bonus = {
			armor_value = 0.03
			naval_torpedo_damage_reduction_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_navigation_package
		name = ROM_galati_shipyard_naval_trait_navigation_package
		icon = GFX_generic_mio_trait_icon_naval_range
		position = { x = 0 y = 5 }
		relative_position_id = ROM_galati_shipyard_naval_trait_fleet_delivery
		all_parents = {
			ROM_galati_shipyard_naval_trait_damage_control
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
		}

		equipment_bonus = {
			naval_range = 0.10
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_long_patrol
		name = ROM_galati_shipyard_naval_trait_long_patrol
		icon = GFX_generic_mio_trait_icon_naval_range
		position = { x = 1 y = 4 }
		relative_position_id = ROM_galati_shipyard_naval_trait_fleet_delivery
		all_parents = {
			ROM_galati_shipyard_naval_trait_damage_control
		}

		limit_to_equipment_type = {
			patrol_boat
		}

		equipment_bonus = {
			naval_range = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_low_topsides
		name = ROM_galati_shipyard_naval_trait_low_topsides
		icon = GFX_generic_mio_trait_icon_surface_visibility

		position = { x = 6 y = 0 }

		equipment_bonus = {
			surface_visibility = -0.06
			sub_visibility = -0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_hybrid_propulsion
		name = ROM_galati_shipyard_naval_trait_hybrid_propulsion
		icon = GFX_generic_mio_trait_icon_fuel_consumption

		position = { x = 2 y = 0 }
		relative_position_id = ROM_galati_shipyard_naval_trait_low_topsides

		equipment_bonus = {
			fuel_consumption = -0.08
			naval_speed = 0.02
			sub_visibility = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_weapon_grid
		name = ROM_galati_shipyard_naval_trait_weapon_grid
		icon = GFX_generic_mio_trait_icon_lg_attack

		position = { x = -1 y = 1 }
		relative_position_id = ROM_galati_shipyard_naval_trait_low_topsides

		all_parents = {
			ROM_galati_shipyard_naval_trait_low_topsides
			ROM_galati_shipyard_naval_trait_hybrid_propulsion
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_maritime_security
		name = ROM_galati_shipyard_naval_trait_maritime_security
		icon = GFX_generic_mio_trait_icon_surface_detection

		position = { x = 1 y = 1 }
		relative_position_id = ROM_galati_shipyard_naval_trait_low_topsides

		all_parents = {
			ROM_galati_shipyard_naval_trait_low_topsides
			ROM_galati_shipyard_naval_trait_hybrid_propulsion
		}

		equipment_bonus = {
			sub_attack = 0.04
			surface_detection = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_survivability
		name = ROM_galati_shipyard_naval_trait_survivability
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 3 y = 1 }
		relative_position_id = ROM_galati_shipyard_naval_trait_low_topsides

		all_parents = {
			ROM_galati_shipyard_naval_trait_low_topsides
			ROM_galati_shipyard_naval_trait_hybrid_propulsion
		}

		equipment_bonus = {
			armor_value = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_helicopter_interface
		name = ROM_galati_shipyard_naval_trait_helicopter_interface
		icon = GFX_generic_mio_trait_icon_naval_range

		position = { x = 0 y = 2 }
		relative_position_id = ROM_galati_shipyard_naval_trait_low_topsides

		all_parents = {
			ROM_galati_shipyard_naval_trait_low_topsides
		}

		equipment_bonus = {
			naval_range = 0.10
			surface_detection = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_networked_combat
		name = ROM_galati_shipyard_naval_trait_networked_combat
		icon = GFX_generic_mio_trait_icon_anti_air_attack

		position = { x = 2 y = 2 }
		relative_position_id = ROM_galati_shipyard_naval_trait_low_topsides

		all_parents = {
			ROM_galati_shipyard_naval_trait_low_topsides
		}

		equipment_bonus = {
			anti_air_attack = 0.12
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_galati_shipyard_naval_trait_command_information
		name = ROM_galati_shipyard_naval_trait_command_information
		icon = GFX_generic_mio_trait_icon_max_strength

		position = { x = 1 y = 3 }
		relative_position_id = ROM_galati_shipyard_naval_trait_low_topsides

		all_parents = {
			ROM_galati_shipyard_naval_trait_networked_combat
			ROM_galati_shipyard_naval_trait_helicopter_interface
		}

		equipment_bonus = {
			max_organisation = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

ROM_constanta_shipyard_naval_manufacturer = {
	allowed = { original_tag = ROM }
	icon = GFX_idea_santierul_naval_constanta_company
	name = ROM_constanta_shipyard_naval_manufacturer

	available = {
		ROM = { owns_state = 284 }
	}

	equipment_type = {
		convoy
	}

	tree_header_text = {
		text = "Black Sea Developments"
		x = 4
	}

	initial_trait = {
		name = ROM_constanta_shipyard_trait

		equipment_bonus = {
			reliability = 0.05
			max_organisation = 0.05
			build_cost_ic = -0.05
		}

	}
	trait = {
		token = ROM_constanta_shipyard_naval_trait_harbor_approach
		name = ROM_constanta_shipyard_naval_trait_harbor_approach
		icon = GFX_generic_mio_trait_icon_surface_visibility

		position = { x = 2 y = 0 }

		equipment_bonus = {
			surface_detection = 0.04
			surface_visibility = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_constanta_shipyard_naval_trait_danube_navigation
		name = ROM_constanta_shipyard_naval_trait_danube_navigation
		icon = GFX_generic_mio_trait_icon_surface_detection

		position = { x = 2 y = 0 }
		relative_position_id = ROM_constanta_shipyard_naval_trait_harbor_approach

		equipment_bonus = {
			surface_detection = 0.03
			max_organisation = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_constanta_shipyard_naval_trait_convoy_signal
		name = ROM_constanta_shipyard_naval_trait_convoy_signal
		icon = GFX_generic_mio_trait_icon_max_strength

		position = { x = 4 y = 0 }
		relative_position_id = ROM_constanta_shipyard_naval_trait_harbor_approach

		equipment_bonus = {
			max_organisation = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_constanta_shipyard_naval_trait_anti_sub
		name = ROM_constanta_shipyard_naval_trait_anti_sub
		icon = GFX_generic_mio_trait_icon_sub_detection

		position = { x = 1 y = 1 }
		relative_position_id = ROM_constanta_shipyard_naval_trait_harbor_approach

		all_parents = {
			ROM_constanta_shipyard_naval_trait_harbor_approach
			ROM_constanta_shipyard_naval_trait_danube_navigation
		}

		equipment_bonus = {
			sub_detection = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_constanta_shipyard_naval_trait_bridge_workflow
		name = ROM_constanta_shipyard_naval_trait_bridge_workflow
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 3 y = 1 }
		relative_position_id = ROM_constanta_shipyard_naval_trait_harbor_approach

		all_parents = {
			ROM_constanta_shipyard_naval_trait_convoy_signal
			ROM_constanta_shipyard_naval_trait_danube_navigation
		}

		equipment_bonus = {
			build_cost_ic = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = ROM_constanta_shipyard_naval_trait_searchlight
		name = ROM_constanta_shipyard_naval_trait_searchlight
		icon = GFX_generic_mio_trait_icon_surface_detection
		position = { x = 2 y = 2 }
		relative_position_id = ROM_constanta_shipyard_naval_trait_harbor_approach

		all_parents = {
			ROM_constanta_shipyard_naval_trait_bridge_workflow
			ROM_constanta_shipyard_naval_trait_anti_sub
		}

		equipment_bonus = {
			sub_detection = 0.05
			surface_detection = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

