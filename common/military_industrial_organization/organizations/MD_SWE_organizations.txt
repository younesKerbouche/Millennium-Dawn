SWE_Carl_Gustaf_FFV = {
	allowed = { original_tag = SWE }
	icon = GFX_idea_SWE_Carl_Gustaf
	name = SWE_Carl_Gustaf_FFV
	include = GER_generic_small_arms_manufacturer

	initial_trait = {
		name = SWE_Trait_Carl_Gustaf_FFV

		organization_modifier = {
			military_industrial_organization_task_capacity = -2
		}

		equipment_bonus = {
			reliability = 0.05
			soft_attack = 0.05
			hard_attack = 0.03
			ap_attack = 0.03
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.03
			production_efficiency_gain_factor = 0.03
		}
	}
}

SWE_Ericsson_Microwave_Systems_manufacturer = {
	allowed = { original_tag = SWE }
	icon = GFX_idea_SWE_ericsson
	name = SWE_EricssonMicrowaveSystems_manufacturer
	include = generic_cnc_equipment_organization
}

SWE_Bofors_DefenceAB_manufacturer = {
	allowed = { original_tag = SWE }
	icon = GFX_idea_SWE_Bofors
	name = SWE_BoforsDefenceAB_manufacturer
	ai_will_do = {
		base = 10
	}

	equipment_type = {
		AA_Equipment
		medium_tank_aa_chassis
		artillery_equipment
		medium_tank_artillery_chassis
	}

	research_categories = { CAT_aa CAT_sp_aa CAT_arty CAT_artillery medium_tank_artillery_chassis }

	research_bonus = 0.05

	tree_header_text = {
		text = SWE_Bofors_DefenceAB_header_BoforsGun
		x = 0
	}

	tree_header_text = {
		text = SWE_Bofors_DefenceAB_Howitzers
		x = 3
	}

	tree_header_text = {
		text = SWE_Bofors_DefenceAB_Buildings
		x = 7
	}

	initial_trait = {
		name = SWE_Bofors_DefenceAB_manufacturer

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.03
			production_efficiency_gain_factor = 0.03
		}

		equipment_bonus = {
			air_attack = 0.03
			soft_attack = 0.03
			hard_attack = 0.03
			reliability = 0.05
			build_cost_ic = -0.03
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_3P_ammo
		name = SWE_Bofors_DefenceAB_3P_ammo
		icon = GFX_generic_mio_trait_icon_anti_air_attack

		position = { x = 0 y = 0 }

		limit_to_equipment_type = { AA_Equipment medium_tank_aa_chassis }

		equipment_bonus = {
			air_attack = 0.03
			soft_attack = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_BoforsREMO
		name = SWE_Bofors_DefenceAB_BoforsREMO
		icon = GFX_generic_mio_trait_icon_aa_reliability

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_3P_ammo

		all_parents = { SWE_Bofors_DefenceAB_3P_ammo }

		limit_to_equipment_type = { AA_Equipment medium_tank_aa_chassis }

		equipment_bonus = {
			air_attack = 0.01
			soft_attack = 0.01
			reliability = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_Bofors40_mk4
		name = SWE_Bofors_DefenceAB_Bofors40_mk4
		icon = GFX_generic_mio_trait_icon_lg_attack

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_BoforsREMO

		all_parents = { SWE_Bofors_DefenceAB_BoforsREMO }

		limit_to_equipment_type = { medium_tank_aa_chassis }

		equipment_bonus = {
			air_attack = 0.02
			soft_attack = 0.02
			hard_attack = 0.02
			armor_value = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_TridonMk2
		name = SWE_Bofors_DefenceAB_TridonMk2
		icon = GFX_generic_mio_trait_icon_lg_attack
		special_trait_background = yes

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_Bofors40_mk4

		all_parents = { SWE_Bofors_DefenceAB_Bofors40_mk4 }

		limit_to_equipment_type = { medium_tank_aa_chassis }

		equipment_bonus = {
			air_attack = 0.03
			soft_attack = 0.03
			hard_attack = 0.03
			armor_value = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_AdvancedMultiPurposesubmunition
		name = SWE_Bofors_DefenceAB_AdvancedMultiPurposesubmunition
		icon = GFX_generic_mio_department_icon_tank_general_weapons
		special_trait_background = yes

		position = { x = 1 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_TridonMk2

		all_parents = { SWE_Bofors_DefenceAB_TridonMk2 SWE_Bofors_DefenceAB_EXCALIBURsubmunition }

		limit_to_equipment_type = { medium_tank_aa_chassis medium_tank_artillery_chassis artillery_equipment }

		equipment_bonus = {
			air_attack = 0.03
			soft_attack = 0.03
			hard_attack = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_MobilityFocus
		name = SWE_Bofors_DefenceAB_MobilityFocus
		icon = GFX_generic_mio_trait_icon_artillery_speed

		position = { x = 2 y = 0 }

		limit_to_equipment_type = { medium_tank_artillery_chassis artillery_equipment }

		equipment_bonus = {
			maximum_speed = 0.02
			defense = 0.01
			breakthrough = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_HighRoF
		name = SWE_Bofors_DefenceAB_HighRoF
		icon = GFX_generic_mio_trait_icon_artillery_breaktrough

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_MobilityFocus

		all_parents = { SWE_Bofors_DefenceAB_MobilityFocus }

		limit_to_equipment_type = { medium_tank_artillery_chassis artillery_equipment }

		equipment_bonus = {
			hard_attack = 0.01
			soft_attack = 0.01
			defense = 0.01
			breakthrough = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_BarrelLife
		name = SWE_Bofors_DefenceAB_BarrelLife
		icon = GFX_generic_mio_trait_icon_tank_gun

		position = { x = -1 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_HighRoF

		any_parent = { SWE_Bofors_DefenceAB_HighRoF SWE_Bofors_DefenceAB_BoforsREMO }

		limit_to_equipment_type = { AA_Equipment medium_tank_aa_chassis medium_tank_artillery_chassis artillery_equipment }

		equipment_bonus = {
			reliability = 0.05
			build_cost_ic = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_BONUSsubmunition
		name = SWE_Bofors_DefenceAB_BONUSsubmunition
		icon = GFX_generic_mio_trait_icon_hard_attack
		special_trait_background = yes

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_HighRoF

		all_parents = { SWE_Bofors_DefenceAB_HighRoF SWE_Bofors_DefenceAB_Scania_Engines }

		limit_to_equipment_type = { medium_tank_artillery_chassis artillery_equipment }

		equipment_bonus = {
			hard_attack = 0.03
			soft_attack = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_MultiPurposePlatforms
		name = SWE_Bofors_DefenceAB_MultiPurposePlatforms
		icon = GFX_generic_mio_trait_icon_util_efficiency_gain

		position = { x = 1 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_HighRoF

		all_parents = { SWE_Bofors_DefenceAB_HighRoF SWE_Bofors_DefenceAB_Scania_Engines }

		limit_to_equipment_type = { medium_tank_aa_chassis medium_tank_artillery_chassis }

		equipment_bonus = {
			build_cost_ic = -0.03
		}

		production_bonus = {
			production_conversion_speed_factor = 0.03
			production_resource_need_factor = -0.03
			production_resource_penalty_factor = -0.03
			production_efficiency_cap_factor = 0.03
			production_efficiency_gain_factor = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_StandarizedArmorPackages
		name = SWE_Bofors_DefenceAB_StandarizedArmorPackages
		icon = GFX_generic_mio_trait_icon_util_armor

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_MultiPurposePlatforms

		all_parents = { SWE_Bofors_DefenceAB_MultiPurposePlatforms }

		limit_to_equipment_type = { medium_tank_aa_chassis medium_tank_artillery_chassis }

		equipment_bonus = {
			breakthrough = 0.02
			defense = 0.02
			armor_value = 0.05
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.03
			production_efficiency_gain_factor = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_EXCALIBURsubmunition
		name = SWE_Bofors_DefenceAB_EXCALIBURsubmunition
		icon = GFX_generic_mio_trait_icon_hard_attack
		special_trait_background = yes

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_BONUSsubmunition

		all_parents = { SWE_Bofors_DefenceAB_BONUSsubmunition }

		limit_to_equipment_type = { medium_tank_artillery_chassis artillery_equipment }

		equipment_bonus = {
			hard_attack = 0.03
			soft_attack = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_VolvoA30D
		name = SWE_Bofors_DefenceAB_VolvoA30D
		icon = GFX_generic_mio_trait_icon_util_reliability

		position = { x = 4 y = 0 }

		limit_to_equipment_type = { medium_tank_aa_chassis medium_tank_artillery_chassis }

		equipment_bonus = {
			defense = 0.02
			breakthrough = 0.02
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_Scania_Engines
		name = SWE_Bofors_DefenceAB_Scania_Engines
		icon = GFX_generic_mio_trait_icon_util_breakthrough

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_VolvoA30D

		all_parents = { SWE_Bofors_DefenceAB_VolvoA30D }

		limit_to_equipment_type = { medium_tank_aa_chassis medium_tank_artillery_chassis }

		equipment_bonus = {
			maximum_speed = 0.04
			breakthrough = 0.04
			reliability = 0.02
		}

		production_bonus = {
			production_conversion_speed_factor = 0.02
			production_efficiency_cap_factor = 0.02
			production_efficiency_gain_factor = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_MANHX3
		name = SWE_Bofors_DefenceAB_MANHX3
		icon = GFX_generic_mio_trait_icon_util_defense
		special_trait_background = yes

		position = { x = 0 y = 3 }
		relative_position_id = SWE_Bofors_DefenceAB_Scania_Engines

		parent = {
				traits = { SWE_Bofors_DefenceAB_Scania_Engines SWE_Bofors_DefenceAB_StandarizedArmorPackages SWE_Bofors_DefenceAB_VehicleTestingEnviorment }
				num_parents_needed = 2
		}

		limit_to_equipment_type = { medium_tank_aa_chassis medium_tank_artillery_chassis }

		equipment_bonus = {
			maximum_speed = 0.03
			armor_value = 0.03
			defense = 0.03
			breakthrough = 0.03
			reliability = 0.03
		}

		production_bonus = {
			production_conversion_speed_factor = 0.03
			production_efficiency_cap_factor = 0.03
			production_efficiency_gain_factor = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_BoforsTestCenter
		name = SWE_Bofors_DefenceAB_BoforsTestCenter
		icon = GFX_generic_mio_trait_icon_task
		special_trait_background = yes

		position = { x = 7 y = 0 }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_funds_gain = 0.05
			military_industrial_organization_design_team_assign_cost = -0.05
			military_industrial_organization_design_team_change_cost = -0.05
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.05
			military_industrial_organization_research_bonus = 0.05
		}


		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_KarlskogaHQ
		name = SWE_Bofors_DefenceAB_KarlskogaHQ
		icon = GFX_generic_mio_trait_icon_task
		special_trait_background = yes

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_BoforsTestCenter

		all_parents = { SWE_Bofors_DefenceAB_BoforsTestCenter }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		production_bonus = {
			production_resource_penalty_factor = -0.1
			production_conversion_speed_factor = 0.1
			production_efficiency_cap_factor = 0.03
			production_efficiency_gain_factor = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_KarlskogaHQ
		name = SWE_Bofors_DefenceAB_KarlskogaHQ
		icon = GFX_generic_mio_trait_icon_task
		special_trait_background = yes

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_BoforsTestCenter

		all_parents = { SWE_Bofors_DefenceAB_BoforsTestCenter }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_funds_gain = 0.05
			military_industrial_organization_design_team_assign_cost = -0.05
			military_industrial_organization_design_team_change_cost = -0.05
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.05
		}

		production_bonus = {
			production_resource_penalty_factor = -0.05
			production_efficiency_cap_factor = 0.05
			production_efficiency_gain_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_VehicleTestingEnviorment
		name = SWE_Bofors_DefenceAB_VehicleTestingEnviorment
		icon = GFX_generic_mio_trait_icon_task

		position = { x = -2 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_KarlskogaHQ

		all_parents = { SWE_Bofors_DefenceAB_KarlskogaHQ SWE_Bofors_DefenceAB_Scania_Engines }

		limit_to_equipment_type = { medium_tank_artillery_chassis medium_tank_aa_chassis }
		equipment_bonus = {
			maximum_speed = 0.02
			reliability = 0.02
			breakthrough = 0.02
			defense = 0.02
		}
		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_funds_gain = 0.05
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_AmmunitionTestingSPG
		name = SWE_Bofors_DefenceAB_AmmunitionTestingSPG
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_VehicleTestingEnviorment

		all_parents = { SWE_Bofors_DefenceAB_VehicleTestingEnviorment }

		equipment_bonus = {
			reliability = 0.02
			breakthrough = 0.02
			defense = 0.02
			soft_attack = 0.02
			hard_attack = 0.02
		}
		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_funds_gain = 0.05
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_FundingDevelopment
		name = SWE_Bofors_DefenceAB_FundingDevelopment
		icon = GFX_generic_mio_trait_icon_funds

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_KarlskogaHQ

		all_parents = { SWE_Bofors_DefenceAB_KarlskogaHQ }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_research_bonus = 0.05
			military_industrial_organization_funds_gain = 0.15
			military_industrial_organization_design_team_assign_cost = -0.05
			military_industrial_organization_design_team_change_cost = -0.05
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Bofors_DefenceAB_InstituteBDAB
		name = SWE_Bofors_DefenceAB_InstituteBDAB
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Bofors_DefenceAB_FundingDevelopment

		all_parents = { SWE_Bofors_DefenceAB_FundingDevelopment }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
			military_industrial_organization_funds_gain = 0.05
			military_industrial_organization_design_team_assign_cost = -0.05
			military_industrial_organization_design_team_change_cost = -0.05
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}


}

SWE_Saab_Bofors_Dynamics_manufacturer = {
	allowed = { original_tag = SWE }
	icon = GFX_idea_SAAB_Tech_alt
	name = SWE_SaabBoforsDynamics_manufacturer
	ai_will_do = {
		base = 10
	}
	equipment_type = {
		AA_Equipment
		medium_tank_aa_chassis
		L_AT_Equipment
		H_AT_Equipment
		guided_missile_equipment
	}
	research_categories = { CAT_aa medium_tank_aa_chassis CAT_at guided_missile_equipment }
	initial_trait = {
		name = SWE_Saab_Bofors_Dynamics_manufacturer

		equipment_bonus = {
			ap_attack = 0.05
			hard_attack= 0.05
			reliability = 0.05
			air_attack = 0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
			military_industrial_organization_task_capacity = -3
		}
	}
	tree_header_text = {
		text = SWE_mio_header_Saab_Bofors_Dynamics_MANPAD_SAM
		x = 1
	}

	tree_header_text = {
		text = SWE_mio_header_Saab_Bofors_Dynamics_AT_Missiles
		x = 4
	}

	tree_header_text = {
		text = SWE_mio_header_Saab_Bofors_Dynamics_CruiseMissiles
		x = 6
	}

	tree_header_text = {
		text = SWE_mio_header_Saab_Bofors_Dynamics_Facilities
		x = 9
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_LOAL-AESA
		name = SWE_Saab_Bofors_Dynamics_LOAL-AESA
		icon = GFX_generic_mio_trait_icon_sam

		position = { x = 0 y = 0 }

		limit_to_equipment_type = { AA_Equipment medium_tank_aa_chassis }

		equipment_bonus = {
			air_attack = 0.05
			armor_value = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_LayeredSAM
		name = SWE_Saab_Bofors_Dynamics_LayeredSAM
		icon = GFX_generic_mio_trait_icon_sam_defense

		position = { x = 1 y = 1 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_LOAL-AESA

		limit_to_equipment_type = { AA_Equipment medium_tank_aa_chassis }

		all_parents = { SWE_Saab_Bofors_Dynamics_LOAL-AESA
						SWE_Saab_Bofors_Dynamics_AllAspect_AllWeather
						}

		equipment_bonus = {
			air_attack = 0.05
			defense = 0.05
			armor_value = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_Extended_Range
		name = SWE_Saab_Bofors_Dynamics_Extended_Range
		icon = GFX_generic_mio_trait_icon_sam_range

		position = { x = 0 y = 2 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_LOAL-AESA

		all_parents = { SWE_Saab_Bofors_Dynamics_LOAL-AESA }

		limit_to_equipment_type = { AA_Equipment medium_tank_aa_chassis }

		equipment_bonus = {
			air_attack = 0.05
			armor_value = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_FCAAM
		name = SWE_Saab_Bofors_Dynamics_FCAAM
		icon = GFX_generic_mio_trait_icon_sam_agility
		special_trait_background = yes

		position = { x = 1 y = 2 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_Extended_Range

		all_parents = { SWE_Saab_Bofors_Dynamics_Extended_Range
						SWE_Saab_Bofors_Dynamics_MSHORAD
						}

		limit_to_equipment_type = { AA_Equipment medium_tank_aa_chassis }

		equipment_bonus = {
			air_attack = 0.05
			reliability = 0.02
			armor_value = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_AllAspect_AllWeather
		name = SWE_Saab_Bofors_Dynamics_AllAspect_AllWeather
		icon = GFX_generic_mio_trait_icon_sam_reliability

		position = { x = 2 y = 0 }

		limit_to_equipment_type = { AA_Equipment medium_tank_aa_chassis }

		equipment_bonus = {
			air_attack = 0.05
			reliability = 0.02
			armor_value = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_MSHORAD
		name = SWE_Saab_Bofors_Dynamics_MSHORAD
		icon = GFX_generic_mio_trait_icon_spaa_speed
		special_trait_background = yes

		position = { x = 0 y = 2 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_AllAspect_AllWeather

		all_parents = { SWE_Saab_Bofors_Dynamics_AllAspect_AllWeather }

		limit_to_equipment_type = { AA_Equipment medium_tank_aa_chassis }

		equipment_bonus = {
			maximum_speed = 0.05
			breakthrough = 0.03
			defense = 0.03
			armor_value = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_RBS15_GLCM
		name = SWE_Saab_Bofors_Dynamics_RBS15_GLCM
		icon = GFX_generic_mio_trait_icon_guided_missile_strategic_attack

		position = { x = 6 y = 0 }

		limit_to_equipment_type = { guided_missile_equipment }

		equipment_bonus = {
			air_ground_attack = 0.02
			naval_strike_targetting = 0.02
			naval_strike_attack = 0.02
			air_bombing = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_ScaniaPlatforms
		name = SWE_Saab_Bofors_Dynamics_ScaniaPlatforms
		icon = GFX_generic_mio_trait_icon_util

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_RBS15_GLCM

		all_parents = { SWE_Saab_Bofors_Dynamics_RBS15_GLCM }

		limit_to_equipment_type = { guided_missile_equipment }

		equipment_bonus = {
			naval_strike_targetting = 0.02
			naval_strike_attack = 0.02
			build_cost_ic = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_KickstartGungnir
		name = SWE_Saab_Bofors_Dynamics_KickstartGungnir
		icon = GFX_generic_mio_trait_icon_guided_missile

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_ScaniaPlatforms

		all_parents = { SWE_Saab_Bofors_Dynamics_ScaniaPlatforms }

		limit_to_equipment_type = { guided_missile_equipment }

		equipment_bonus = {
			air_ground_attack = 0.02
			naval_strike_targetting = 0.02
			naval_strike_attack = 0.02
			air_bombing = 0.02
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_funds_gain = 0.05
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_TaurusProgramme
		name = SWE_Saab_Bofors_Dynamics_TaurusProgramme
		icon = GFX_generic_mio_trait_icon_guided_missile_strategic_attack
		special_trait_background=yes

		position = { x = 0 y = 2 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_KickstartGungnir

		all_parents = { SWE_Saab_Bofors_Dynamics_KickstartGungnir
						SWE_Saab_Bofors_Dynamics_MEPHISTOWarhead
						}

		limit_to_equipment_type = { guided_missile_equipment }

		equipment_bonus = {
			air_ground_attack = 0.05
			air_bombing = 0.05
			air_agility = 0.05
			naval_strike_targetting = 0.05
			naval_strike_attack = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_StealthExperiments
		name = SWE_Saab_Bofors_Dynamics_StealthExperiments
		icon = GFX_generic_mio_trait_icon_guided_missile_agility

		position = { x = 1 y = 1 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_ScaniaPlatforms

		all_parents = { SWE_Saab_Bofors_Dynamics_ScaniaPlatforms
						SWE_Saab_Bofors_Dynamics_MissileDevelopmentInstitute
						}

		limit_to_equipment_type = { guided_missile_equipment }

		equipment_bonus = {
			air_agility = 0.05
			naval_strike_targetting = 0.05
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_MEPHISTOWarhead
		name = SWE_Saab_Bofors_Dynamics_MEPHISTOWarhead
		icon = GFX_generic_mio_trait_icon_guided_missile_strategic_attack

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_StealthExperiments

		all_parents = { SWE_Saab_Bofors_Dynamics_StealthExperiments
						SWE_Saab_Bofors_Dynamics_MissileFunding
						}

		limit_to_equipment_type = { guided_missile_equipment }

		equipment_bonus = {
			air_ground_attack = 0.03
			air_bombing = 0.03
			naval_strike_attack = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_FactoryGrounds
		name = SWE_Saab_Bofors_Dynamics_FactoryGrounds
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 9 y = 0 }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		production_bonus = {
			production_resource_penalty_factor = -0.05
			production_conversion_speed_factor = 0.05
			production_efficiency_cap_factor = 0.05
			production_efficiency_gain_factor = 0.05
		}


		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_MissileDevelopmentInstitute
		name = SWE_Saab_Bofors_Dynamics_MissileDevelopmentInstitute
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_FactoryGrounds

		all_parents = { SWE_Saab_Bofors_Dynamics_FactoryGrounds }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_design_team_assign_cost = -0.05
			military_industrial_organization_design_team_change_cost = -0.05
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.05
			military_industrial_organization_research_bonus = 0.05
		}


		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_MissileFunding
		name = SWE_Saab_Bofors_Dynamics_MissileFunding
		icon = GFX_generic_mio_trait_icon_funds

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_MissileDevelopmentInstitute

		all_parents = { SWE_Saab_Bofors_Dynamics_MissileDevelopmentInstitute }

		limit_to_equipment_type = { AA_Equipment medium_tank_aa_chassis }

		equipment_bonus = {
			air_attack = 0.02
			armor_value = 0.02
			build_cost_ic = -0.02
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_funds_gain = 0.1
			military_industrial_organization_design_team_assign_cost = -0.05
			military_industrial_organization_design_team_change_cost = -0.05
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.05
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_ExperimentalTeams
		name = SWE_Saab_Bofors_Dynamics_ExperimentalTeams
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_MissileFunding

		all_parents = { SWE_Saab_Bofors_Dynamics_MissileFunding }

		production_bonus = {
			production_resource_penalty_factor = -0.05
			production_conversion_speed_factor = 0.05
			production_efficiency_cap_factor = 0.05
			production_efficiency_gain_factor = 0.05
		}


		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.1
			military_industrial_organization_design_team_change_cost = -0.1
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.1
			military_industrial_organization_research_bonus = 0.05
		}


		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_BoforsExperts
		name = SWE_Saab_Bofors_Dynamics_BoforsExperts
		icon = GFX_generic_mio_trait_icon_unique
		special_trait_background = yes

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_ExperimentalTeams

		all_parents = { SWE_Saab_Bofors_Dynamics_ExperimentalTeams }

		equipment_bonus = {
			build_cost_ic = -0.05
		}

		production_bonus = {
			production_resource_penalty_factor = -0.05
			production_conversion_speed_factor = 0.05
			production_efficiency_cap_factor = 0.05
			production_efficiency_gain_factor = 0.05
		}

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.1
			military_industrial_organization_design_team_change_cost = -0.1
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.1
			military_industrial_organization_research_bonus = 0.1
		}


		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_BILL
		name = SWE_Saab_Bofors_Dynamics_BILL
		icon = GFX_generic_mio_trait_icon_atgm_buildcost
		special_trait_background = yes

		position = { x = 4 y = 0 }

		limit_to_equipment_type = { H_AT_Equipment L_AT_Equipment }

		equipment_bonus = {
			ap_attack = 0.02
			hard_attack = 0.02
			reliability = 0.02
			build_cost_ic = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_FiringModes
		name = SWE_Saab_Bofors_Dynamics_FiringModes
		icon = GFX_generic_mio_trait_icon_atgm_breakthrough

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_BILL

		all_parents = { SWE_Saab_Bofors_Dynamics_BILL }

		limit_to_equipment_type = { H_AT_Equipment L_AT_Equipment }

		equipment_bonus = {
			ap_attack = 0.02
			soft_attack = 0.05
			hard_attack = 0.02
			defense = 0.02
			breakthrough = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_QuickLoading_AT
		name = SWE_Saab_Bofors_Dynamics_QuickLoading_AT
		icon = GFX_generic_mio_trait_icon_atgm_breakthrough
		special_trait_background = yes

		position = { x = -1 y = 1 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_FiringModes

		all_parents = { SWE_Saab_Bofors_Dynamics_FiringModes }

		limit_to_equipment_type = { H_AT_Equipment L_AT_Equipment }

		equipment_bonus = {
			ap_attack = 0.02
			hard_attack = 0.02
			soft_attack = 0.02
			defense = 0.02
			breakthrough = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_PLOS
		name = SWE_Saab_Bofors_Dynamics_PLOS
		icon = GFX_generic_mio_trait_icon_atgm_hard_attack

		position = { x = 0 y = 1 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_FiringModes

		all_parents = { SWE_Saab_Bofors_Dynamics_FiringModes }

		limit_to_equipment_type = { H_AT_Equipment L_AT_Equipment }

		equipment_bonus = {
			ap_attack = 0.03
			hard_attack = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_HighMobile_AT
		name = SWE_Saab_Bofors_Dynamics_HighMobile_AT
		icon = GFX_generic_mio_trait_icon_atgm_speed

		position = { x = -1 y = 1 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_PLOS

		all_parents = { SWE_Saab_Bofors_Dynamics_PLOS
						SWE_Saab_Bofors_Dynamics_MSHORAD
						}

		limit_to_equipment_type = { H_AT_Equipment L_AT_Equipment }

		equipment_bonus = {
			maximum_speed = 0.05
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_Saab_Bofors_Dynamics_TandemOTA
		name = SWE_Saab_Bofors_Dynamics_TandemOTA
		icon = GFX_generic_mio_trait_icon_atgm_ap_attack
		special_trait_background = yes

		position = { x = 0 y = 2 }
		relative_position_id = SWE_Saab_Bofors_Dynamics_PLOS

		all_parents = { SWE_Saab_Bofors_Dynamics_PLOS }

		limit_to_equipment_type = { H_AT_Equipment L_AT_Equipment }

		equipment_bonus = {
			ap_attack = 0.05
			hard_attack = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
}

SWE_Alvis_hagglunds_tank_manufacturer = {
	allowed = { original_tag = SWE }
	icon = GFX_idea_SWE_Hagglunds
	name = SWE_AlvisHagglunds_tank_manufacturer

	ai_will_do = {
		base = 10
	}

	equipment_type = {
		medium_tank_chassis
		medium_tank_destroyer_chassis
	}
	research_categories = { CAT_tanks CAT_computer_systems CAT_armour CAT_armor_engines CAT_armor_weapons CAT_afv_weapons}

	research_bonus = 0.05

	tree_header_text = {
		text = mio_header_tank_2_eq_header
		x = 2
	}

	tree_header_text = {
		text = mio_header_reseach_and_production
		x = 6
	}

	initial_trait = {
		name = generic_mio_initial_trait_md_specialized_tank_manufacturer

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		equipment_bonus = {
			armor_value = 0.05
			maximum_speed = 0.03
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_heavy_veh_rel
		name = generic_mio_spec_tank_trait_heavy_veh_rel
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 3 y = 0 }

		equipment_bonus = {
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_heavy_tank_stats
		name = generic_mio_spec_tank_trait_heavy_tank_stats
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = -1 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_heavy_veh_rel

		limit_to_equipment_type = { medium_tank_chassis medium_tank_destroyer_chassis }
		any_parent = { generic_mio_spec_tank_trait_heavy_veh_rel }

		equipment_bonus = {
			defense = 0.03
			breakthrough = 0.03
			maximum_speed = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_heavy_ifv_stats
		name = generic_mio_spec_tank_trait_heavy_ifv_stats
		icon = GFX_generic_mio_trait_icon_ifv_breakthrough

		position = { x = 1 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_heavy_veh_rel

		limit_to_equipment_type = { medium_tank_destroyer_chassis }
		any_parent = { generic_mio_spec_tank_trait_heavy_veh_rel }

		equipment_bonus = {
			defense = 0.05
			breakthrough = 0.05
			maximum_speed = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_heavy_prod_eff
		name = generic_mio_spec_tank_trait_heavy_prod_eff
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = -1 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_heavy_ifv_stats

		any_parent = { generic_mio_spec_tank_trait_heavy_ifv_stats generic_mio_spec_tank_trait_heavy_tank_stats }

		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_heavy_tank_stats_2
		name = generic_mio_spec_tank_trait_heavy_tank_stats_2
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 1 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_heavy_prod_eff

		limit_to_equipment_type = { medium_tank_chassis  }
		any_parent = { generic_mio_spec_tank_trait_heavy_prod_eff }

		equipment_bonus = {
			hard_attack = 0.03
			soft_attack = 0.05
			ap_attack = 0.03
			armor_value = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_heavy_ifv_stats_2
		name = generic_mio_spec_tank_trait_heavy_ifv_stats_2
		icon = GFX_generic_mio_trait_icon_ifv_armor

		position = { x = -1 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_heavy_prod_eff

		limit_to_equipment_type = { medium_tank_destroyer_chassis }
		any_parent = { generic_mio_spec_tank_trait_heavy_prod_eff }

		equipment_bonus = {
			hard_attack = 0.03
			soft_attack = 0.03
			ap_attack = 0.03
			armor_value = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_armor_stat
		name = generic_mio_spec_tank_trait_armor_stat
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 0 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_heavy_ifv_stats_2

		any_parent = { generic_mio_spec_tank_trait_heavy_ifv_stats_2 generic_mio_spec_tank_trait_heavy_tank_stats_2 }
		mutually_exclusive = { generic_mio_spec_tank_trait_piercing_stat }

		equipment_bonus = {
			armor_value = 0.07
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_piercing_stat
		name = generic_mio_spec_tank_trait_piercing_stat
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 2 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_heavy_ifv_stats_2

		any_parent = { generic_mio_spec_tank_trait_heavy_ifv_stats_2 generic_mio_spec_tank_trait_heavy_tank_stats_2 }
		mutually_exclusive = { generic_mio_spec_tank_trait_armor_stat }

		equipment_bonus = {
			ap_attack = 0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_main_stats
		name = generic_mio_spec_tank_trait_main_stats
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 1 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_armor_stat

		any_parent = { generic_mio_spec_tank_trait_piercing_stat generic_mio_spec_tank_trait_armor_stat }

		equipment_bonus = {
			hard_attack = 0.03
			soft_attack = 0.03
			defense = 0.03
			breakthrough = 0.03
			maximum_speed = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_cost
		name = generic_mio_spec_tank_trait_cost
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = -1 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_main_stats

		any_parent = { generic_mio_spec_tank_trait_main_stats }
		mutually_exclusive = { generic_mio_spec_tank_trait_resources generic_mio_spec_tank_trait_small_stats }

		equipment_bonus = {
			build_cost_ic = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_resources
		name = generic_mio_spec_tank_trait_resources
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 0 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_main_stats

		any_parent = { generic_mio_spec_tank_trait_main_stats }
		mutually_exclusive = { generic_mio_spec_tank_trait_small_stats generic_mio_spec_tank_trait_cost }

		production_bonus = {
			production_resource_need_factor = -0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_small_stats
		name = generic_mio_spec_tank_trait_small_stats
		icon = GFX_generic_mio_trait_icon_hardness

		position = { x = 1 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_main_stats

		any_parent = { generic_mio_spec_tank_trait_main_stats }
		mutually_exclusive = { generic_mio_spec_tank_trait_resources generic_mio_spec_tank_trait_cost }

		equipment_bonus = {
			hardness = 0.1
			armor_value = 0.03
			breakthrough = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_production_2
		name = generic_mio_spec_tank_trait_production_2
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 0 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_resources

		any_parent = { generic_mio_spec_tank_trait_resources generic_mio_spec_tank_trait_cost generic_mio_spec_tank_trait_small_stats }

		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_research
		name = generic_mio_spec_tank_trait_research
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 7 y = 0 }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_capacity
		name = generic_mio_spec_tank_trait_capacity
		icon = GFX_generic_mio_trait_icon_task

		position = { x = -1 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_research

		any_parent = { generic_mio_spec_tank_trait_research }
		mutually_exclusive = { generic_mio_spec_tank_trait_production }

		organization_modifier = {
			military_industrial_organization_task_capacity = 3
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_production
		name = generic_mio_spec_tank_trait_production
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 1 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_research

		any_parent = { generic_mio_spec_tank_trait_research }
		mutually_exclusive = { generic_mio_spec_tank_trait_capacity }

		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_resource_decr
		name = generic_mio_spec_tank_trait_resource_decr
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = -1 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_production

		any_parent = { generic_mio_spec_tank_trait_production generic_mio_spec_tank_trait_capacity }

		production_bonus = {
			production_resource_need_factor = -0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_bonuses
		name = generic_mio_spec_tank_trait_bonuses
		icon = GFX_generic_mio_trait_icon_design

		position = { x = 0 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_resource_decr

		any_parent = { generic_mio_spec_tank_trait_resource_decr }

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.15
			military_industrial_organization_design_team_change_cost = -0.1
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.1
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_capacity_2
		name = generic_mio_spec_tank_trait_capacity_2
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 0 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_bonuses

		any_parent = { generic_mio_spec_tank_trait_bonuses }

		organization_modifier = {
			military_industrial_organization_task_capacity = 3
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_research_2
		name = generic_mio_spec_tank_trait_research_2
		icon = GFX_generic_mio_trait_icon_research

		position = { x = -1 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_capacity_2

		all_parents = { generic_mio_spec_tank_trait_capacity_2 }
		mutually_exclusive = { generic_mio_spec_tank_trait_reliability }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = generic_mio_spec_tank_trait_reliability
		name = generic_mio_spec_tank_trait_reliability
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 1 y = 1 }
		relative_position_id = generic_mio_spec_tank_trait_capacity_2

		all_parents = { generic_mio_spec_tank_trait_capacity_2 }
		mutually_exclusive = { generic_mio_spec_tank_trait_research_2 }

		equipment_bonus = {
			reliability = 0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

}

SWE_Alvis_hagglunds_afv_manufacturer = {
	allowed = { original_tag = SWE }
	icon = GFX_idea_SWE_Hagglunds
	name = SWE_AlvisHagglunds_tank_manufacturer
	include = generic_AFV_equipment_organization
}

SWE_Volvo_utility_vehicle_manufacturer = {
	icon = GFX_idea_SWE_MD_volvo
	name = SWE_Volvo_utility_vehicle_manufacturer
	allowed = { original_tag = SWE }
	include = GER_generic_utility_vehicle_manufacturer
}

SWE_kockums_ab_naval_manufacturer = {
	allowed = { original_tag = SWE }
	icon = GFX_idea_Kockums_AB
	name = SWE_kockums_ab_naval_manufacturer
	include = generic_naval_light_equipment_organization
}

SWE_kockums_ab_naval_manufacturer2 = {
	allowed = { original_tag = SWE }
	icon = GFX_idea_Kockums_AB
	name = SWE_kockums_ab_naval_manufacturer
	include = generic_sub_equipment_organization
}

SWE_saab_ab_materiel_manufacturer = {
	allowed = { original_tag = SWE }
	icon = GFX_idea_SAAB_tech
	name = SWE_saab_ab_materiel_manufacturer
	include = generic_infantry_equipment_organization
}

SWE_saab_ab_aircraft_manufacturer = {
	allowed = { original_tag = SWE }
	icon = GFX_idea_SAAB_alt
	name = SWE_saab_ab_aircraft_manufacturer
	ai_will_do = {
		base = 10
	}

	equipment_type = {
		mio_cat_eq_only_light_aircraft
		mio_cat_eq_only_light_cv_aircraft
		mio_cat_eq_only_medium_aircraft
		mio_cat_eq_only_cv_medium_aircraft
		mio_cat_eq_only_uav
	}
	research_categories = { CAT_air_eqp }

	research_bonus = 0.1

	tree_header_text = {
		text = SWE_mio_header_saab_ab_avionics_drones
		x = 1
	}

	tree_header_text = {
		text = SWE_mio_header_saab_ab_airframe_weapons
		x = 5
	}

	tree_header_text = {
		text = SWE_mio_header_saab_ab_research_development
		x = 9
	}

	initial_trait = {
		name = SWE_saab_ab_delta_wing_pioneers

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
			military_industrial_organization_task_capacity = -3
		}

		equipment_bonus = {
			air_agility = 0.05
			air_defence = 0.05
			reliability = 0.05
		}

		production_bonus = {
			production_resource_need_factor = -0.05
		}
	}

	trait = {
		token = SWE_saab_ab_fuselage_pylons
		name = SWE_saab_ab_fuselage_pylons
		icon = GFX_generic_mio_trait_icon_strategic_attack

		position = { x = 6 y = 0 }

		limit_to_equipment_type = {	mio_cat_eq_only_light_aircraft
		mio_cat_eq_only_light_cv_aircraft
		mio_cat_eq_only_medium_aircraft
		mio_cat_eq_only_cv_medium_aircraft
		}

		equipment_bonus = {
			air_range = 0.05
			air_attack = 0.01
			air_bombing = 0.01
			air_ground_attack = 0.01
			naval_strike_attack = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_short_takeoff_landing
		name = SWE_saab_ab_short_takeoff_landing
		icon = GFX_generic_mio_trait_icon_air_superiority
		special_trait_background = yes

		position = { x = 0 y = 1 }
		relative_position_id = SWE_saab_ab_fuselage_pylons

		all_parents = { SWE_saab_ab_fuselage_pylons }

		equipment_bonus = {
			air_range = 0.02
			fuel_consumption = -0.02
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_cranked_arrows
		name = SWE_saab_ab_cranked_arrows
		icon = GFX_generic_mio_trait_icon_light_aircraft_agility

		position = { x = 4 y = 0 }

		limit_to_equipment_type = {	mio_cat_eq_only_light_aircraft
		mio_cat_eq_only_light_cv_aircraft
		mio_cat_eq_only_medium_aircraft
		mio_cat_eq_only_cv_medium_aircraft
		}

		equipment_bonus = {
			air_attack = 0.02
			air_agility = 0.02
			air_defence = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_air_ground_radar
		name = SWE_saab_ab_air_ground_radar
		icon = GFX_generic_mio_trait_icon_light_aircraft_air_ground_attack

		position = { x = 2 y = 0 }

		limit_to_equipment_type = {	mio_cat_eq_only_light_aircraft
		mio_cat_eq_only_light_cv_aircraft
		mio_cat_eq_only_medium_aircraft
		mio_cat_eq_only_cv_medium_aircraft
		}

		equipment_bonus = {
			air_attack = 0.01
			air_ground_attack = 0.01
			surface_detection = 0.01
			naval_strike_targetting = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_double_delta
		name = SWE_saab_ab_double_delta
		icon = GFX_generic_mio_trait_icon_light_aircraft_agility
		special_trait_background = yes

		position = { x = 0 y = 1 }
		relative_position_id = SWE_saab_ab_cranked_arrows

		limit_to_equipment_type = {	mio_cat_eq_only_light_aircraft
		mio_cat_eq_only_light_cv_aircraft
		mio_cat_eq_only_medium_aircraft
		mio_cat_eq_only_cv_medium_aircraft
		}

		all_parents = { SWE_saab_ab_cranked_arrows }

		limit_to_equipment_type = {	mio_cat_eq_only_light_aircraft
		mio_cat_eq_only_light_cv_aircraft
		mio_cat_eq_only_medium_aircraft
		mio_cat_eq_only_cv_medium_aircraft
		}

		equipment_bonus = {
			air_attack = 0.02
			air_agility = 0.02
			air_defence = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_lightweight_materials
		name = SWE_saab_ab_lightweight_materials
		icon = GFX_generic_mio_trait_icon_light_aircraft_resources
		special_trait_background = yes

		position = { x = 1 y = 1 }
		relative_position_id = SWE_saab_ab_double_delta

		all_parents = { SWE_saab_ab_double_delta SWE_saab_ab_short_takeoff_landing }

		equipment_bonus = {
			air_range = 0.02
			air_agility = 0.02
			maximum_speed = 0.05
			reliability = 0.01
			build_cost_ic = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_longrange_improvements
		name = SWE_saab_ab_longrange_improvements
		icon = GFX_generic_mio_trait_icon_light_aircraft_range

		position = { x = 1 y = 1 }
		relative_position_id = SWE_saab_ab_lightweight_materials

		all_parents = { SWE_saab_ab_lightweight_materials }

		limit_to_equipment_type = {	mio_cat_eq_only_light_aircraft
		mio_cat_eq_only_light_cv_aircraft
		mio_cat_eq_only_medium_aircraft
		mio_cat_eq_only_cv_medium_aircraft
		}

		equipment_bonus = {
			air_range = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_DroneFuel
		name = SWE_saab_ab_DroneFuel
		icon = GFX_generic_mio_trait_icon_uav_range

		position = { x = 0 y = 2 }
		relative_position_id = SWE_saab_ab_longrange_improvements

		all_parents = { SWE_saab_ab_longrange_improvements SWE_saab_ab_expanded_drone_pylons }

		limit_to_equipment_type = { mio_cat_eq_only_uav }

		equipment_bonus = {
			air_range = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_modern_engines
		name = SWE_saab_ab_modern_engines
		icon = GFX_generic_mio_trait_icon_light_aircraft_speed
		special_trait_background=yes

		position = { x = 1 y = 1 }
		relative_position_id = SWE_saab_ab_longrange_improvements

		all_parents = { SWE_saab_ab_longrange_improvements SWE_saab_ab_mechanics_laboratory }

		equipment_bonus = {
			air_range = 0.03
			fuel_consumption = -0.03
			maximum_speed = 0.03

		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_expanded_pylons
		name = SWE_saab_ab_expanded_pylons
		icon = GFX_generic_mio_trait_icon_strategic_attack

		position = { x = -1 y = 1 }
		relative_position_id = SWE_saab_ab_lightweight_materials

		all_parents = { SWE_saab_ab_lightweight_materials }

		limit_to_equipment_type = {	mio_cat_eq_only_light_aircraft
		mio_cat_eq_only_light_cv_aircraft
		mio_cat_eq_only_medium_aircraft
		mio_cat_eq_only_cv_medium_aircraft
		}

		equipment_bonus = {
			air_attack = 0.02
			air_defence = 0.02
			air_ground_attack = 0.02
			naval_strike_attack = 0.02
			air_bombing = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_expanded_drone_pylons
		name = SWE_saab_ab_expanded_drone_pylons
		icon = GFX_generic_mio_trait_icon_uav_strategic_attack

		position = { x = 0 y = 1 }
		relative_position_id = SWE_saab_ab_expanded_pylons

		all_parents = { SWE_saab_ab_expanded_pylons }

		limit_to_equipment_type = { mio_cat_eq_only_uav }

		equipment_bonus = {
			air_attack = 0.02
			air_defence = 0.02
			air_ground_attack = 0.02
			naval_strike_attack = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_uav_Taurus
		name = SWE_saab_ab_uav_Taurus
		icon = GFX_generic_mio_trait_icon_uav_air_ground_attack
		special_trait_background = yes

		position = { x = 1 y = 1 }
		relative_position_id = SWE_saab_ab_expanded_drone_pylons

		all_parents = { SWE_saab_ab_expanded_drone_pylons SWE_saab_ab_Taurus_ALCM }

		limit_to_equipment_type = { mio_cat_eq_only_uav }

		equipment_bonus = {
			air_attack = 0.02
			air_defence = 0.02
			air_ground_attack = 0.02
			air_bombing = 0.02
			naval_strike_attack = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_Taurus_ALCM
		name = SWE_saab_ab_Taurus_ALCM
		icon = GFX_generic_mio_trait_icon_guided_missile
		special_trait_background = yes

		position = { x = 1 y = 1 }
		relative_position_id = SWE_saab_ab_expanded_pylons

		all_parents = { SWE_saab_ab_expanded_pylons }

		limit_to_equipment_type = {	mio_cat_eq_only_light_aircraft
		mio_cat_eq_only_light_cv_aircraft
		mio_cat_eq_only_medium_aircraft
		mio_cat_eq_only_cv_medium_aircraft
		}

		available ={
		FROM= {
			mio:SWE_Saab_Bofors_Dynamics_manufacturer { is_mio_trait_completed = SWE_Saab_Bofors_Dynamics_TaurusProgramme }
			}
		}

		equipment_bonus = {
			air_ground_attack = 0.05
			naval_strike_attack = 0.05
			naval_strike_targetting = 0.05
			air_bombing = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_MBDA_integration
		name = SWE_saab_ab_MBDA_integration
		icon = GFX_generic_mio_trait_icon_air_attack
		special_trait_background = yes

		position = { x = -1 y = 1 }
		relative_position_id = SWE_saab_ab_expanded_pylons

		limit_to_equipment_type = {	mio_cat_eq_only_light_aircraft
		mio_cat_eq_only_light_cv_aircraft
		mio_cat_eq_only_medium_aircraft
		mio_cat_eq_only_cv_medium_aircraft
		}

		all_parents = { SWE_saab_ab_expanded_pylons SWE_saab_ab_AESA_radar }

		equipment_bonus = {
			air_attack = 0.05
			air_agility = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_advanced_avionics
		name = SWE_saab_ab_advanced_avionics
		icon = GFX_generic_mio_trait_icon_detection
		special_trait_background = yes

		position = { x = 1 y = 1 }
		relative_position_id = SWE_saab_ab_advanced_digital_cockpits

		all_parents = { SWE_saab_ab_advanced_digital_cockpits SWE_saab_ab_Xband_radar }

		equipment_bonus = {
			air_defence = 0.02
			air_agility = 0.02
			air_ground_attack = 0.02
			naval_strike_attack = 0.02
			surface_detection = 0.02
			naval_strike_targetting = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_drone_integration
		name = SWE_saab_ab_drone_integration
		icon = GFX_generic_mio_trait_icon_uav

		position = { x = -1 y = 1 }
		relative_position_id = SWE_saab_ab_advanced_avionics

		all_parents = { SWE_saab_ab_advanced_avionics }

		equipment_bonus = {
			air_defence = 0.02
			air_ground_attack = 0.02
			surface_detection = 0.02
			naval_strike_targetting = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_CENTAUR_AI
		name = SWE_saab_ab_CENTAUR_AI
		icon = GFX_generic_mio_trait_icon_light_aircraft_anti_air
		special_trait_background = yes

		position = { x = 0 y = 1 }
		relative_position_id = SWE_saab_ab_drone_integration

		all_parents = { SWE_saab_ab_drone_integration }

		equipment_bonus = {
			air_agility = 0.02
			air_attack = 0.02
			air_defence = 0.02
			surface_detection = 0.01
			naval_strike_targetting = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_LoyalWingmen
		name = SWE_saab_ab_LoyalWingmen
		icon = GFX_generic_mio_trait_icon_uav_air_attack
		special_trait_background = yes

		position = { x = 0 y = 1 }
		relative_position_id = SWE_saab_ab_CENTAUR_AI

		all_parents = { SWE_saab_ab_CENTAUR_AI }

		equipment_bonus = {
			air_agility = 0.02
			air_attack = 0.02
			air_defence = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_DroneSwarm
		name = SWE_saab_ab_DroneSwarm
		icon = GFX_generic_mio_trait_icon_uav_efficiency_gain

		position = { x = 1 y = 1 }
		relative_position_id = SWE_saab_ab_LoyalWingmen

		all_parents = { SWE_saab_ab_LoyalWingmen SWE_saab_ab_DroneDatalink }

		limit_to_equipment_type = { mio_cat_eq_only_uav }

		equipment_bonus = {
			air_defence = 0.02
			build_cost_ic = -0.05
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.03
			production_efficiency_gain_factor = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_advanced_digital_cockpits
		name = SWE_saab_ab_advanced_digital_cockpits
		icon = GFX_generic_mio_trait_icon_detection

		position = { x = 0 y = 1 }
		relative_position_id = SWE_saab_ab_smart_strike_munitions

		all_parents = { SWE_saab_ab_smart_strike_munitions }

		limit_to_equipment_type = {	mio_cat_eq_only_light_aircraft
		mio_cat_eq_only_light_cv_aircraft
		mio_cat_eq_only_medium_aircraft
		mio_cat_eq_only_cv_medium_aircraft
		}

		equipment_bonus = {
			air_defence = 0.01
			air_agility = 0.01
			air_ground_attack = 0.01
			air_bombing = 0.01
			naval_strike_attack = 0.01
			naval_strike_targetting = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_smart_strike_munitions
		name = SWE_saab_ab_smart_strike_munitions
		icon = GFX_generic_mio_trait_icon_light_aircraft_air_ground_attack

		position = { x = 0 y = 0 }

		equipment_bonus = {
			air_ground_attack = 0.01
			naval_strike_attack = 0.01
			surface_detection = 0.01
			naval_strike_targetting = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_Xband_radar
		name = SWE_saab_ab_Xband_radar
		icon = GFX_generic_mio_trait_icon_light_aircraft_anti_air

		position = { x = 0 y = 1 }
		relative_position_id = SWE_saab_ab_air_ground_radar

		limit_to_equipment_type = {	mio_cat_eq_only_light_aircraft
		mio_cat_eq_only_light_cv_aircraft
		mio_cat_eq_only_medium_aircraft
		mio_cat_eq_only_cv_medium_aircraft
		}

		all_parents = { SWE_saab_ab_air_ground_radar }

		equipment_bonus = {
			air_agility = 0.02
			air_attack = 0.02
			air_defence = 0.02
			air_ground_attack = 0.01
			surface_detection = 0.01
			naval_strike_targetting = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_AESA_radar
		name = SWE_saab_ab_AESA_radar
		icon = GFX_generic_mio_trait_icon_light_aircraft_anti_air

		position = { x = 1 y = 1 }
		relative_position_id = SWE_saab_ab_advanced_avionics

		all_parents = { SWE_saab_ab_advanced_avionics }

		limit_to_equipment_type = {	mio_cat_eq_only_light_aircraft
		mio_cat_eq_only_light_cv_aircraft
		mio_cat_eq_only_medium_aircraft
		mio_cat_eq_only_cv_medium_aircraft
		}

		equipment_bonus = {
			air_agility = 0.02
			air_attack = 0.02
			air_defence = 0.02
			air_ground_attack = 0.01
			surface_detection = 0.01
			naval_strike_targetting = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_Meteor-ER
		name = SWE_saab_ab_Meteor-ER
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 0 y = 1 }
		relative_position_id = SWE_saab_ab_MBDA_integration

		all_parents = { SWE_saab_ab_MBDA_integration }

		limit_to_equipment_type = {	mio_cat_eq_only_light_aircraft
		mio_cat_eq_only_light_cv_aircraft
		mio_cat_eq_only_medium_aircraft
		mio_cat_eq_only_cv_medium_aircraft
		}

		equipment_bonus = {
			air_agility = 0.02
			air_attack = 0.02
			air_defence = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_MeteorDrones
		name = SWE_saab_ab_MeteorDrones
		icon = GFX_generic_mio_trait_icon_uav_air_attack
		special_trait_background = yes

		position = { x = 1 y = 1 }
		relative_position_id = SWE_saab_ab_Meteor-ER

		all_parents = { SWE_saab_ab_Meteor-ER SWE_saab_ab_DroneDatalink SWE_saab_ab_expanded_drone_pylons }

		limit_to_equipment_type = { mio_cat_eq_only_uav }

		equipment_bonus = {
			air_agility = 0.02
			air_attack = 0.02
			air_defence = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_DroneDatalink
		name = SWE_saab_ab_DroneDatalink
		icon = GFX_generic_mio_trait_icon_uav_air_attack

		position = { x = 0 y = 2 }
		relative_position_id = SWE_saab_ab_AESA_radar

		all_parents = { SWE_saab_ab_AESA_radar }

		equipment_bonus = {
			air_attack = 0.02
			air_defence = 0.02
			air_agility = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_research_facilities
		name = SWE_saab_ab_research_facilities
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 9 y = 0 }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_expanded_production
		name = SWE_saab_ab_expanded_production
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 0 y = 1 }
		relative_position_id = SWE_saab_ab_research_facilities

		all_parents = { SWE_saab_ab_research_facilities }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		production_bonus = {
			production_resource_penalty_factor = -0.1
			production_conversion_speed_factor = 0.1
			production_efficiency_cap_factor = 0.03
			production_efficiency_gain_factor = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_advanced_engineering_teams
		name = SWE_saab_ab_advanced_engineering_teams
		icon = GFX_generic_mio_trait_icon_design

		position = { x = -1 y = 1 }
		relative_position_id = SWE_saab_ab_expanded_production

		all_parents = { SWE_saab_ab_expanded_production }

		equipment_bonus = {
			reliability = 0.03
			build_cost_ic = -0.03
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		production_bonus = {
			production_resource_penalty_factor = -0.05
			production_conversion_speed_factor = 0.05
			production_efficiency_cap_factor = 0.03
			production_efficiency_gain_factor = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_mechanics_laboratory
		name = SWE_saab_ab_mechanics_laboratory
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 0 y = 1 }
		relative_position_id = SWE_saab_ab_advanced_engineering_teams

		all_parents = { SWE_saab_ab_advanced_engineering_teams }

		equipment_bonus = {
			reliability = 0.03
			air_attack = 0.01
			air_ground_attack = 0.01
			build_cost_ic = -0.03
		}

		production_bonus = {
			production_resource_penalty_factor = -0.05
			production_conversion_speed_factor = 0.05
			production_efficiency_cap_factor = 0.04
			production_efficiency_gain_factor = 0.04
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_research_bonus = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_government_grants
		name = SWE_saab_ab_government_grants
		icon = GFX_generic_mio_trait_icon_funds

		position = { x = 0 y = 1 }
		relative_position_id = SWE_saab_ab_expanded_production

		all_parents = { SWE_saab_ab_expanded_production }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_funds_gain = 0.10
			military_industrial_organization_design_team_assign_cost = -0.05
			military_industrial_organization_design_team_change_cost = -0.05
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.05
			military_industrial_organization_research_bonus = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

	trait = {
		token = SWE_saab_ab_university_of_aeronautics
		name = SWE_saab_ab_university_of_aeronautics
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 0 y = 1 }
		relative_position_id = SWE_saab_ab_government_grants

		all_parents = { SWE_saab_ab_government_grants }


		equipment_bonus = {
			air_agility = 0.02
			air_defence = 0.02
			reliability = 0.02
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_funds_gain = 0.10
			military_industrial_organization_design_team_assign_cost = -0.05
			military_industrial_organization_design_team_change_cost = -0.05
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.05
			military_industrial_organization_research_bonus = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}


	trait = {
		token = SWE_saab_ab_internationally_recognized_experts
		name = SWE_saab_ab_internationally_recognized_experts
		icon = GFX_generic_mio_trait_icon_unique
		special_trait_background=yes

		position = { x = 0 y = 1 }
		relative_position_id = SWE_saab_ab_university_of_aeronautics

		all_parents = { SWE_saab_ab_university_of_aeronautics SWE_saab_ab_mechanics_laboratory }

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
			military_industrial_organization_funds_gain = 0.10
			military_industrial_organization_design_team_assign_cost = -0.1
			military_industrial_organization_design_team_change_cost = -0.1
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.1
			military_industrial_organization_research_bonus = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}

}

