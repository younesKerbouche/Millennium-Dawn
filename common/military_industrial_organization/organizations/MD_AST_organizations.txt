# Author(s): TheGeneral
# Equipment
AST_thales_australia_material = {
	allowed = { original_tag = AST }
	name = AST_thales_australia_materiel_manufacturer
	icon = GFX_idea_Thales_NL

	equipment_type = {
		Inf_equipment
		util_vehicle_equipment
		heavy_tank_chassis
		heavy_tank_amphibious_chassis
	}

	research_categories = {
		CAT_afv_weapons
		CAT_armor_weapons
		CAT_inf_wep
		CAT_naval_electronics
		CAT_avionics
		CAT_infrastructure
	}

	task_capacity = 3

	research_bonus = 0.12

	tree_header_text = {
		text = "Lithgow Lineage"
		x = 1
	}

	tree_header_text = {
		text = "Protected Mobility"
		x = 4
	}

	tree_header_text = {
		text = "Avionics Integration"
		x = 8
	}

	initial_trait = {
		name = AST_thales_australia_materiel_manufacturer_trait

		equipment_bonus = {
			reliability = 0.15
			build_cost_ic = -0.10
		}
	}

	trait = {
		token = AST_thales_australia_mio_trait_f90_ergonomics
		name = AST_thales_australia_mio_trait_f90_ergonomics
		icon = GFX_generic_mio_trait_icon_smallarms_attack

		position = { x = 1 y = 0 }

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			soft_attack = 0.10
			reliability = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_polymer_receiver
		name = AST_thales_australia_mio_trait_polymer_receiver
		icon = GFX_generic_mio_trait_icon_smallarms_resources

		position = { x = -1 y = 1 }
		relative_position_id = AST_thales_australia_mio_trait_f90_ergonomics
		all_parents = {
			AST_thales_australia_mio_trait_f90_ergonomics
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_brenade_launcher
		name = AST_thales_australia_mio_trait_brenade_launcher
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = -1 y = 2 }
		relative_position_id = AST_thales_australia_mio_trait_f90_ergonomics
		all_parents = {
			AST_thales_australia_mio_trait_polymer_receiver
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			hard_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_export_standards
		name = AST_thales_australia_mio_trait_export_standards
		icon = GFX_generic_mio_trait_icon_funds

		position = { x = -1 y = 4 }
		relative_position_id = AST_thales_australia_mio_trait_f90_ergonomics
		all_parents = {
			AST_thales_australia_mio_trait_brenade_launcher
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.05
			military_industrial_organization_research_bonus = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_marksman_package
		name = AST_thales_australia_mio_trait_marksman_package
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 1 y = 1 }
		relative_position_id = AST_thales_australia_mio_trait_f90_ergonomics
		all_parents = {
			AST_thales_australia_mio_trait_f90_ergonomics
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			breakthrough = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_ruggedized_sights
		name = AST_thales_australia_mio_trait_ruggedized_sights
		icon = GFX_generic_mio_trait_icon_smallarms_attack
		position = { x = 1 y = 2 }
		relative_position_id = AST_thales_australia_mio_trait_f90_ergonomics
		all_parents = {
			AST_thales_australia_mio_trait_marksman_package
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			soft_attack = 0.08
			breakthrough = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_modular_rails
		name = AST_thales_australia_mio_trait_modular_rails
		icon = GFX_generic_mio_trait_icon_smallarms_reliability
		position = { x = 2 y = 3 }
		relative_position_id = AST_thales_australia_mio_trait_f90_ergonomics
		all_parents = {
			AST_thales_australia_mio_trait_ruggedized_sights
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			reliability = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_bullpup_refinement
		name = AST_thales_australia_mio_trait_bullpup_refinement
		icon = GFX_generic_mio_trait_icon_smallarms_attack
		position = { x = 0 y = 3 }
		relative_position_id = AST_thales_australia_mio_trait_f90_ergonomics
		all_parents = {
			AST_thales_australia_mio_trait_ruggedized_sights
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			soft_attack = 0.06
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_cold_weather
		name = AST_thales_australia_mio_trait_cold_weather
		icon = GFX_generic_mio_trait_icon_efficiency_cap
		position = { x = 1 y = 4 }
		relative_position_id = AST_thales_australia_mio_trait_f90_ergonomics
		all_parents = {
			AST_thales_australia_mio_trait_bullpup_refinement
			AST_thales_australia_mio_trait_modular_rails
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			reliability = 0.05
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_integrated_soldier
		name = AST_thales_australia_mio_trait_integrated_soldier
		icon = GFX_generic_mio_trait_icon_smallarms_defense

		position = { x = 0 y = 5 }
		relative_position_id = AST_thales_australia_mio_trait_f90_ergonomics
		all_parents = {
			AST_thales_australia_mio_trait_export_standards
			AST_thales_australia_mio_trait_cold_weather
		}

		limit_to_equipment_type = {
			Inf_equipment
		}

		equipment_bonus = {
			defense = 0.10
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_v_hull
		name = AST_thales_australia_mio_trait_v_hull
		icon = GFX_generic_mio_trait_icon_util_defense

		position = { x = 4 y = 0 }

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			defense = 0.12
			reliability = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_composite_armor_panels
		name = AST_thales_australia_mio_composite_armor_panels
		icon = GFX_generic_mio_trait_icon_util_armor

		position = { x = 2 y = 0 }
		relative_position_id = AST_thales_australia_mio_trait_v_hull

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			armor_value = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_all_terrain_suspension
		name = AST_thales_australia_mio_all_terrain_suspension
		icon = GFX_generic_mio_trait_icon_util_speed

		position = { x = 1 y = 1 }
		relative_position_id = AST_thales_australia_mio_trait_v_hull
		all_parents = {
			AST_thales_australia_mio_composite_armor_panels
			AST_thales_australia_mio_trait_v_hull
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			maximum_speed = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_lightweight_frame
		name = AST_thales_australia_mio_lightweight_frame
		icon = GFX_generic_mio_trait_icon_util_weight

		position = { x = 1 y = 2 }
		relative_position_id = AST_thales_australia_mio_trait_v_hull
		all_parents = {
			AST_thales_australia_mio_all_terrain_suspension
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			weight = -0.10
			build_cost_ic = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_deployable_workshops
		name = AST_thales_australia_mio_deployable_workshops
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 1 y = 3 }
		relative_position_id = AST_thales_australia_mio_trait_v_hull
		all_parents = {
			AST_thales_australia_mio_lightweight_frame
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.15
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_mine_blast
		name = AST_thales_australia_mio_mine_blast
		icon = GFX_generic_mio_trait_icon_util_defense

		position = { x = 0 y = 4 }
		relative_position_id = AST_thales_australia_mio_trait_v_hull
		all_parents = {
			AST_thales_australia_mio_deployable_workshops
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			defense = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_modular_mission
		name = AST_thales_australia_mio_modular_mission
		icon = GFX_generic_mio_trait_icon_util_breakthrough

		position = { x = -1 y = 5 }
		relative_position_id = AST_thales_australia_mio_trait_v_hull
		all_parents = {
			AST_thales_australia_mio_mine_blast
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			breakthrough = 0.075
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_miologistic_commonality
		name = AST_thales_australia_miologistic_commonality
		icon = GFX_generic_mio_trait_icon_util_resources

		position = { x = 1 y = 5 }
		relative_position_id = AST_thales_australia_mio_trait_v_hull
		all_parents = {
			AST_thales_australia_mio_mine_blast
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		production_bonus = {
			production_resource_need_factor = -0.08
		}

		organization_modifier = {
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_ruggedized_electronics
		name = AST_thales_australia_mio_ruggedized_electronics
		icon = GFX_generic_mio_trait_icon_util_reliability

		position = { x = 2 y = 4 }
		relative_position_id = AST_thales_australia_mio_trait_v_hull
		all_parents = {
			AST_thales_australia_mio_deployable_workshops
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			reliability = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_remote_weapon
		name = AST_thales_australia_mio_remote_weapon
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 0 y = 2 }
		relative_position_id = AST_thales_australia_mio_trait_v_hull
		all_parents = {
			AST_thales_australia_mio_all_terrain_suspension
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			soft_attack = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_mission_system_fusion
		name = AST_thales_australia_mio_trait_mission_system_fusion
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 8 y = 0 }

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			anti_air_attack = 0.08
			ap_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_digital_cockpit
		name = AST_thales_australia_mio_trait_digital_cockpit
		icon = GFX_generic_mio_trait_icon_attackheli_speed

		position = { x = -1 y = 1 }
		relative_position_id = AST_thales_australia_mio_trait_mission_system_fusion
		all_parents = {
			AST_thales_australia_mio_trait_mission_system_fusion
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			maximum_speed = 0.08
			breakthrough = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_nvg_compatibility
		name = AST_thales_australia_mio_trait_nvg_compatibility
		icon = GFX_generic_mio_trait_icon_attackheli_breakthrough

		position = { x = 1 y = 1 }
		relative_position_id = AST_thales_australia_mio_trait_mission_system_fusion
		all_parents = {
			AST_thales_australia_mio_trait_mission_system_fusion
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			breakthrough = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_survivability_suite
		name = AST_thales_australia_mio_trait_survivability_suite
		icon = GFX_generic_mio_trait_icon_attackheli_defense

		position = { x = 0 y = 2 }
		relative_position_id = AST_thales_australia_mio_trait_mission_system_fusion
		all_parents = {
			AST_thales_australia_mio_trait_nvg_compatibility
			AST_thales_australia_mio_trait_digital_cockpit
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			defense = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_ligtweight_wiring
		name = AST_thales_australia_mio_trait_ligtweight_wiring
		icon = GFX_generic_mio_trait_icon_attackheli_buildcost

		position = { x = -1 y = 3 }
		relative_position_id = AST_thales_australia_mio_trait_mission_system_fusion
		all_parents = {
			AST_thales_australia_mio_trait_survivability_suite
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			weight = -0.05
			build_cost_ic = -0.075
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_mission_support
		name = AST_thales_australia_mio_trait_mission_support
		icon = GFX_generic_mio_trait_icon_task

		position = { x = -1 y = 5 }
		relative_position_id = AST_thales_australia_mio_trait_mission_system_fusion
		all_parents = {
			AST_thales_australia_mio_trait_ligtweight_wiring
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			max_organisation = 0.10
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_sensor_mast
		name = AST_thales_australia_mio_trait_sensor_mast
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 1 y = 3 }
		relative_position_id = AST_thales_australia_mio_trait_mission_system_fusion
		all_parents = {
			AST_thales_australia_mio_trait_survivability_suite
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			soft_attack = 0.05
			hard_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_data_link_interoperability
		name = AST_thales_australia_mio_trait_data_link_interoperability
		icon = GFX_generic_mio_trait_icon_attackheli_reliability

		position = { x = 1 y = 4 }
		relative_position_id = AST_thales_australia_mio_trait_mission_system_fusion
		all_parents = {
			AST_thales_australia_mio_trait_sensor_mast
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			reliability = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_thales_australia_mio_trait_composite_blade
		name = AST_thales_australia_mio_trait_composite_blade
		icon = GFX_generic_mio_trait_icon_attackheli_armor

		position = { x = 1 y = 5 }
		relative_position_id = AST_thales_australia_mio_trait_mission_system_fusion
		all_parents = {
			AST_thales_australia_mio_trait_data_link_interoperability
		}

		limit_to_equipment_type = {
			heavy_tank_chassis
			heavy_tank_amphibious_chassis
		}

		equipment_bonus = {
			armor_value = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}
AST_varley_rafael_australia_material = {
	allowed = { original_tag = AST }
	name = AST_varley_rafael_australia_material
	icon = GFX_idea_varley_company

	equipment_type = {
		L_AT_Equipment
		H_AT_Equipment
	}

	research_categories = {
		CAT_at
	}

	research_bonus = 0.06

	tree_header_text = {
		text = "Warhead & Propulsion"
		x = 2
	}
	tree_header_text = {
		text = "Seeker, Guidance & Production"
		x = 7
	}

	initial_trait = {
		name = AST_varley_rafael_australia_materiel_manufacturer_trait

		equipment_bonus = {
			ap_attack = 0.12
			reliability = 0.06
		}

		production_bonus = {
			production_cost_factor = -0.10
		}
	}

	trait = {
		token = AST_varley_rafael_australia_mio_trait_insensitive_muniions
		name = AST_varley_rafael_australia_mio_trait_insensitive_muniions
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 1 y = 0 }

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_varley_rafael_australia_mio_trait_high_temperature_rocket
		name = AST_varley_rafael_australia_mio_trait_high_temperature_rocket
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 2 y = 0 }
		relative_position_id = AST_varley_rafael_australia_mio_trait_insensitive_muniions

		equipment_bonus = {
			ap_attack = 0.03
			breakthrough = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_varley_rafael_australia_mio_trait_explosive_penetrator
		name = AST_varley_rafael_australia_mio_trait_explosive_penetrator
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 2 y = 1 }
		relative_position_id = AST_varley_rafael_australia_mio_trait_insensitive_muniions
		all_parents = {
			AST_varley_rafael_australia_mio_trait_high_temperature_rocket
		}

		equipment_bonus = {
			ap_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_varley_rafael_australia_mio_trait_ligtweight_casing
		name = AST_varley_rafael_australia_mio_trait_ligtweight_casing
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 0 y = 1 }
		relative_position_id = AST_varley_rafael_australia_mio_trait_insensitive_muniions
		all_parents = {
			AST_varley_rafael_australia_mio_trait_insensitive_muniions
		}

		equipment_bonus = {
			build_cost_ic = -0.095
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_varley_rafael_australia_mio_trait_primary_explosives
		name = AST_varley_rafael_australia_mio_trait_primary_explosives
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 1 y = 2 }
		relative_position_id = AST_varley_rafael_australia_mio_trait_insensitive_muniions
		all_parents = {
			AST_varley_rafael_australia_mio_trait_ligtweight_casing
			AST_varley_rafael_australia_mio_trait_explosive_penetrator
		}

		production_bonus = {
			production_capacity_factor = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.09
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_varley_rafael_australia_mio_trait_rpaid_shell_forging
		name = AST_varley_rafael_australia_mio_trait_rpaid_shell_forging
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = -2 y = 1 }
		relative_position_id = AST_varley_rafael_australia_mio_trait_primary_explosives
		all_parents = {
			AST_varley_rafael_australia_mio_trait_primary_explosives
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_varley_rafael_australia_mio_trait_thermal_protection
		name = AST_varley_rafael_australia_mio_trait_thermal_protection
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 0 y = 1 }
		relative_position_id = AST_varley_rafael_australia_mio_trait_primary_explosives
		all_parents = {
			AST_varley_rafael_australia_mio_trait_primary_explosives
		}

		equipment_bonus = {
			defense = 0.125
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_varley_rafael_australia_mio_trait_rocket_motor
		name = AST_varley_rafael_australia_mio_trait_rocket_motor
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 2 y = 1 }
		relative_position_id = AST_varley_rafael_australia_mio_trait_primary_explosives
		all_parents = {
			AST_varley_rafael_australia_mio_trait_primary_explosives
		}

		equipment_bonus = {
			ap_attack = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_varley_rafael_australia_mio_trait_dual_mode
		name = AST_varley_rafael_australia_mio_trait_dual_mode
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 7 y = 0 }

		equipment_bonus = {
			hard_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_varley_rafael_australia_mio_trait_ruggedized_seeker
		name = AST_varley_rafael_australia_mio_trait_ruggedized_seeker
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -2 y = 1 }
		relative_position_id = AST_varley_rafael_australia_mio_trait_dual_mode
		all_parents = {
			AST_varley_rafael_australia_mio_trait_dual_mode
		}

		equipment_bonus = {
			reliability = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_varley_rafael_australia_mio_trait_ballistics_test
		name = AST_varley_rafael_australia_mio_trait_ballistics_test
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -2 y = 1 }
		relative_position_id = AST_varley_rafael_australia_mio_trait_dual_mode
		all_parents = {
			AST_varley_rafael_australia_mio_trait_dual_mode
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.08
			military_industrial_organization_design_team_assign_cost = -0.33
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_varley_rafael_australia_mio_trait_guidance_algorithms
		name = AST_varley_rafael_australia_mio_trait_guidance_algorithms
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 0 y = 1 }
		relative_position_id = AST_varley_rafael_australia_mio_trait_dual_mode
		all_parents = {
			AST_varley_rafael_australia_mio_trait_dual_mode
		}

		equipment_bonus = {
			breakthrough = 0.12
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_varley_rafael_australia_mio_trait_launcher_integration
		name = AST_varley_rafael_australia_mio_trait_launcher_integration
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 2 y = 1 }
		relative_position_id = AST_varley_rafael_australia_mio_trait_dual_mode
		all_parents = {
			AST_varley_rafael_australia_mio_trait_dual_mode
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_varley_rafael_australia_mio_trait_emc_hardened
		name = AST_varley_rafael_australia_mio_trait_emc_hardened
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -1 y = 2 }
		relative_position_id = AST_varley_rafael_australia_mio_trait_dual_mode
		all_parents = {
			AST_varley_rafael_australia_mio_trait_guidance_algorithms
			AST_varley_rafael_australia_mio_trait_ballistics_test
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_varley_rafael_australia_mio_trait_export_certification
		name = AST_varley_rafael_australia_mio_trait_export_certification
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 1 y = 2 }
		relative_position_id = AST_varley_rafael_australia_mio_trait_dual_mode
		all_parents = {
			AST_varley_rafael_australia_mio_trait_guidance_algorithms
			AST_varley_rafael_australia_mio_trait_launcher_integration
		}

		organization_modifier = {
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.40
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

AST_nioa_australia_material = {
	allowed = { original_tag = AST }
	name = AST_nioa_australia_material
	icon = GFX_idea_nioa_company

	equipment_type = {
		Inf_equipment
	}

	research_categories = {
		CAT_inf
		CAT_art_ammo
	}

	research_bonus = 0.12

	tree_header_text = {
		text = "Service & Patrol Weapons"
		x = 2
	}

	tree_header_text = {
		text = "Barrett Precision Systems"
		x = 8
	}

	initial_trait = {
		name = AST_nioa_australia_material_manufacturer_trait

		equipment_bonus = {
			build_cost_ic = -0.10
		}

		production_bonus = {
			production_capacity_factor = 0.10
		}
	}

	trait = {
		token = AST_nioa_australia_mio_trait_hardened_service_barrel
		name = AST_nioa_australia_mio_trait_hardened_service_barrel
		icon = GFX_generic_mio_trait_icon_smallarms_reliability

		position = { x = 2 y = 0 }

		equipment_bonus = {
			reliability = 0.10
			soft_attack = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_nioa_australia_mio_trait_simplified_field
		name = AST_nioa_australia_mio_trait_simplified_field
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = -2 y = 1 }
		relative_position_id = AST_nioa_australia_mio_trait_hardened_service_barrel
		all_parents = {
			AST_nioa_australia_mio_trait_hardened_service_barrel
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_nioa_australia_mio_trait_cost_optimized_receiver
		name = AST_nioa_australia_mio_trait_cost_optimized_receiver
		icon = GFX_generic_mio_trait_icon_smallarms_buildcost

		position = { x = 0 y = 1 }
		relative_position_id = AST_nioa_australia_mio_trait_hardened_service_barrel
		all_parents = {
			AST_nioa_australia_mio_trait_hardened_service_barrel
		}

		organization_modifier = {
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.35
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_nioa_australia_mio_trait_rapid_production
		name = AST_nioa_australia_mio_trait_rapid_production
		icon = GFX_generic_mio_trait_icon_smallarms_efficiency_gain

		position = { x = -2 y = 2 }
		relative_position_id = AST_nioa_australia_mio_trait_hardened_service_barrel
		all_parents = {
			AST_nioa_australia_mio_trait_simplified_field
			AST_nioa_australia_mio_trait_cost_optimized_receiver
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_nioa_australia_mio_trait_integrated_low_sights
		name = AST_nioa_australia_mio_trait_integrated_low_sights
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 1 y = 1 }
		relative_position_id = AST_nioa_australia_mio_trait_hardened_service_barrel
		all_parents = {
			AST_nioa_australia_mio_trait_hardened_service_barrel
		}

		equipment_bonus = {
			breakthrough = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_nioa_australia_mio_trait_suppresor
		name = AST_nioa_australia_mio_trait_suppresor
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 3 y = 1 }
		relative_position_id = AST_nioa_australia_mio_trait_hardened_service_barrel
		all_parents = {
			AST_nioa_australia_mio_trait_hardened_service_barrel
		}

		equipment_bonus = {
			soft_attack = 0.12
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_nioa_australia_mio_trait_export_compliance
		name = AST_nioa_australia_mio_trait_export_compliance
		icon = GFX_generic_mio_trait_icon_funds

		position = { x = 2 y = 2 }
		relative_position_id = AST_nioa_australia_mio_trait_hardened_service_barrel
		all_parents = {
			AST_nioa_australia_mio_trait_integrated_low_sights
			AST_nioa_australia_mio_trait_suppresor
		}

		organization_modifier = {
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.25
			military_industrial_organization_funds_gain = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_nioa_australia_mio_trait_match_grade_barrel
		name = AST_nioa_australia_mio_trait_match_grade_barrel
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 8 y = 0 }

		equipment_bonus = {
			breakthrough = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_nioa_australia_mio_trait_heavy_calible
		name = AST_nioa_australia_mio_trait_heavy_calible
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 1 y = 1 }
		relative_position_id = AST_nioa_australia_mio_trait_match_grade_barrel
		all_parents = {
			AST_nioa_australia_mio_trait_match_grade_barrel
		}

		equipment_bonus = {
			ap_attack = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_nioa_australia_mio_trait_precision_optics
		name = AST_nioa_australia_mio_trait_precision_optics
		icon = GFX_generic_mio_trait_icon_smallarms_attack

		position = { x = -1 y = 1 }
		relative_position_id = AST_nioa_australia_mio_trait_match_grade_barrel
		all_parents = {
			AST_nioa_australia_mio_trait_match_grade_barrel
		}

		equipment_bonus = {
			soft_attack = 0.075
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_nioa_australia_mio_trait_barrett_test
		name = AST_nioa_australia_mio_trait_barrett_test
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -1 y = 2 }
		relative_position_id = AST_nioa_australia_mio_trait_match_grade_barrel
		all_parents = {
			AST_nioa_australia_mio_trait_precision_optics
		}

		equipment_bonus = {
			reliability = 0.05
		}

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.15
			military_industrial_organization_design_team_change_cost = -0.25
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_nioa_australia_mio_trait_cold_shot
		name = AST_nioa_australia_mio_trait_cold_shot
		icon = GFX_generic_mio_trait_icon_smallarms_defense

		position = { x = -3 y = 3 }
		relative_position_id = AST_nioa_australia_mio_trait_match_grade_barrel
		all_parents = {
			AST_nioa_australia_mio_trait_barrett_test
			AST_nioa_australia_mio_trait_suppresor
		}

		equipment_bonus = {
			defense = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_nioa_australia_mio_trait_modular_muzzle_brake
		name = AST_nioa_australia_mio_trait_modular_muzzle_brake
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = -1 y = 3 }
		relative_position_id = AST_nioa_australia_mio_trait_match_grade_barrel
		all_parents = {
			AST_nioa_australia_mio_trait_barrett_test
		}

		equipment_bonus = {
			breakthrough = 0.085
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_nioa_australia_mio_trait_depot_level_service
		name = AST_nioa_australia_mio_trait_depot_level_service
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 1 y = 3 }
		relative_position_id = AST_nioa_australia_mio_trait_match_grade_barrel
		all_parents = {
			AST_nioa_australia_mio_trait_barrett_test
			AST_nioa_australia_mio_trait_heavy_calible
		}

		production_bonus = {
			production_capacity_factor = 0.10
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

# Vehicles

AST_gdls_australia_tank = {
	allowed = { original_tag = AST }
	name = AST_gdls_australia_tank_manufacturer
	icon = GFX_idea_GDLS_Australia_AST

	equipment_type = {
		medium_tank_flame_chassis
		medium_tank_chassis
	}

	research_categories = {
		CAT_armor
	}

	tree_header_text = {
		text = "Lethal Survivability"
		x = 2
	}

	tree_header_text = {
		text = "Mobility, Systems & Sustainment"
		x = 7
	}

	task_capacity = 3

	initial_trait = {
		name = AST_gdls_australia_material_manufacturer_trait

		equipment_bonus = {
			armor_value = 0.15
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.20
		}
	}

	trait = {
		token = AST_gdls_australia_mio_trait_composite_armour
		name = AST_gdls_australia_mio_trait_composite_armour
		icon = GFX_generic_mio_trait_icon_mbt_armor

		position = { x = 2 y = 0 }

		limit_to_equipment_type = {
			medium_tank_chassis
		}

		equipment_bonus = {
			armor_value = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_smoothbore_upgrade
		name = AST_gdls_australia_mio_trait_smoothbore_upgrade
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = -1 y = 1  }
		relative_position_id = AST_gdls_australia_mio_trait_composite_armour
		all_parents = {
			AST_gdls_australia_mio_trait_composite_armour
		}

		limit_to_equipment_type = {
			medium_tank_chassis
		}

		equipment_bonus = {
			ap_attack = 0.12
			hard_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_reactive_armour
		name = AST_gdls_australia_mio_trait_reactive_armour
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = -1 y = 2  }
		relative_position_id = AST_gdls_australia_mio_trait_composite_armour
		all_parents = {
			AST_gdls_australia_mio_trait_smoothbore_upgrade
		}

		equipment_bonus = {
			defense = 0.09
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_deep_slope
		name = AST_gdls_australia_mio_trait_deep_slope
		icon = GFX_generic_mio_trait_icon_mbt_armor

		position = { x = -1 y = 3  }
		relative_position_id = AST_gdls_australia_mio_trait_composite_armour
		all_parents = {
			AST_gdls_australia_mio_trait_reactive_armour
		}

		limit_to_equipment_type = {
			medium_tank_chassis
		}

		equipment_bonus = {
			armor_value = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_thermal_sighting
		name = AST_gdls_australia_mio_trait_thermal_sighting
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 1 y = 1  }
		relative_position_id = AST_gdls_australia_mio_trait_composite_armour
		all_parents = {
			AST_gdls_australia_mio_trait_composite_armour
		}

		equipment_bonus = {
			breakthrough = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_tank_ammunition
		name = AST_gdls_australia_mio_trait_tank_ammunition
		icon = GFX_generic_mio_trait_icon_mbt_reliability

		position = { x = 1 y = 2  }
		relative_position_id = AST_gdls_australia_mio_trait_composite_armour
		all_parents = {
			AST_gdls_australia_mio_trait_thermal_sighting
		}

		limit_to_equipment_type = {
			medium_tank_chassis
		}

		equipment_bonus = {
			reliability = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_close_combat
		name = AST_gdls_australia_mio_trait_close_combat
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 1 y = 3  }
		relative_position_id = AST_gdls_australia_mio_trait_composite_armour
		all_parents = {
			AST_gdls_australia_mio_trait_tank_ammunition
		}

		equipment_bonus = {
			defense = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_heavy_crew
		name = AST_gdls_australia_mio_trait_heavy_crew
		icon = GFX_generic_mio_trait_icon_max_strength
		position = { x = -2 y = 4  }
		relative_position_id = AST_gdls_australia_mio_trait_composite_armour
		all_parents = {
			AST_gdls_australia_mio_trait_close_combat
			AST_gdls_australia_mio_trait_deep_slope
		}

		limit_to_equipment_type = {
			medium_tank_chassis
		}

		equipment_bonus = {
			max_organisation = 0.10
			defense = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_long_range_fire
		name = AST_gdls_australia_mio_trait_long_range_fire
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 0 y = 4  }
		relative_position_id = AST_gdls_australia_mio_trait_composite_armour
		all_parents = {
			AST_gdls_australia_mio_trait_close_combat
			AST_gdls_australia_mio_trait_deep_slope
		}

		limit_to_equipment_type = {
			medium_tank_chassis
		}

		equipment_bonus = {
			hard_attack = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_main_gun_barrel
		name = AST_gdls_australia_mio_trait_main_gun_barrel
		icon = GFX_generic_mio_trait_icon_mbt_defense

		position = { x = 2 y = 4  }
		relative_position_id = AST_gdls_australia_mio_trait_composite_armour
		all_parents = {
			AST_gdls_australia_mio_trait_close_combat
			AST_gdls_australia_mio_trait_deep_slope
		}

		limit_to_equipment_type = {
			medium_tank_chassis
		}

		equipment_bonus = {
			breakthrough = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_rapid_turret
		name = AST_gdls_australia_mio_trait_rapid_turret
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}


		equipment_bonus = {
			soft_attack = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_modular_remote
		name = AST_gdls_australia_mio_trait_modular_remote
		icon = GFX_generic_mio_trait_icon_ifv_buildcost

		position = { x = 2 y = 1 }
		relative_position_id = AST_gdls_australia_mio_trait_rapid_turret
		all_parents = {
			AST_gdls_australia_mio_trait_rapid_turret
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}


		equipment_bonus = {
			soft_attack = 0.03
			build_cost_ic = -0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_water_crossing_package
		name = AST_gdls_australia_mio_trait_modular_remote
		icon = GFX_generic_mio_trait_icon_ifv_speed

		position = { x = 2 y = 2 }
		relative_position_id = AST_gdls_australia_mio_trait_rapid_turret
		all_parents = {
			AST_gdls_australia_mio_trait_modular_remote
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			maximum_speed = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_advanced_communication
		name = AST_gdls_australia_mio_trait_advanced_communication
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 0 y = 1 }
		relative_position_id = AST_gdls_australia_mio_trait_rapid_turret
		all_parents = {
			AST_gdls_australia_mio_trait_rapid_turret
		}

		equipment_bonus = {
			breakthrough = 0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_recon_optics
		name = AST_gdls_australia_mio_trait_recon_optics
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 0 y = 2 }
		relative_position_id = AST_gdls_australia_mio_trait_rapid_turret
		all_parents = {
			AST_gdls_australia_mio_trait_advanced_communication
		}

		equipment_bonus = {
			hard_attack = 0.06
			soft_attack = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_active_suspension
		name = AST_gdls_australia_mio_trait_active_suspension
		icon = GFX_generic_mio_trait_icon_ifv_speed

		position = { x = -2 y = 1 }
		relative_position_id = AST_gdls_australia_mio_trait_rapid_turret
		all_parents = {
			AST_gdls_australia_mio_trait_rapid_turret
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			maximum_speed = 0.07
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_urban_armour
		name = AST_gdls_australia_mio_trait_urban_armour
		icon = GFX_generic_mio_trait_icon_ifv_armor

		position = { x = -2 y = 2 }
		relative_position_id = AST_gdls_australia_mio_trait_rapid_turret
		all_parents = {
			AST_gdls_australia_mio_trait_active_suspension
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			armor_value = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_lightweight_composite
		name = AST_gdls_australia_mio_trait_lightweight_composite
		icon = GFX_generic_mio_trait_icon_ifv_armor

		position = { x = -1 y = 3 }
		relative_position_id = AST_gdls_australia_mio_trait_rapid_turret
		all_parents = {
			AST_gdls_australia_mio_trait_urban_armour
			AST_gdls_australia_mio_trait_recon_optics
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			armor_value = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_rapid_disembark
		name = AST_gdls_australia_mio_trait_rapid_disembark
		icon = GFX_generic_mio_trait_icon_ifv_breakthrough

		position = { x = 1 y = 3 }
		relative_position_id = AST_gdls_australia_mio_trait_rapid_turret
		all_parents = {
			AST_gdls_australia_mio_trait_water_crossing_package
			AST_gdls_australia_mio_trait_recon_optics
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			breakthrough = 0.08
			maximum_speed = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_gdls_australia_mio_trait_fied_repair
		name = AST_gdls_australia_mio_trait_fied_repair
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 0 y = 4 }
		relative_position_id = AST_gdls_australia_mio_trait_rapid_turret
		all_parents = {
			AST_gdls_australia_mio_trait_rapid_disembark
			AST_gdls_australia_mio_trait_lightweight_composite
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

AST_hanwha_australia_tank = {
	allowed = { original_tag = AST }
	name = AST_hanwha_australia_tank
	icon = GFX_idea_Hanwha_defence_systems

	task_capacity = 3

	equipment_type = {
		medium_tank_amphibious_chassis
		medium_tank_flame_chassis
		medium_tank_artillery_chassis
	}

	research_categories = {
		CAT_sp_arty
		CAT_tanks
	}

	tree_header_text = {
		text = "Mobile Fire & Resupply"
		x = 2
	}
	tree_header_text = {
		text = "IFV Sensor & Survivability Systems"
		x = 7
	}


	initial_trait = {
		name = AST_hanwha_australia_tank_trait

		equipment_bonus = {
			hard_attack = 0.12
			build_cost_ic = -0.10
		}

		production_bonus = {
			production_capacity_factor = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.06
		}
	}

	trait = {
		token = AST_hanwha_mio_trait_rapid_fire
		name = AST_hanwha_mio_trait_rapid_fire
		icon = GFX_generic_mio_trait_icon_spg_hard_attack

		position = { x = 2 y = 0 }

		limit_to_equipment_type = {
			medium_tank_artillery_chassis
		}

		equipment_bonus = {
			hard_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_extended_range_barrel
		name = AST_hanwha_mio_trait_extended_range_barrel
		icon = GFX_generic_mio_trait_icon_spg_breaktrough

		position = { x = -1 y = 1 }
		relative_position_id = AST_hanwha_mio_trait_rapid_fire
		all_parents = {
			AST_hanwha_mio_trait_rapid_fire
		}

		limit_to_equipment_type = {
			medium_tank_artillery_chassis
		}

		equipment_bonus = {
			breakthrough = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_auto_loading_resupply
		name = AST_hanwha_mio_trait_auto_loading_resupply
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 1 y = 1 }
		relative_position_id = AST_hanwha_mio_trait_rapid_fire
		all_parents = {
			AST_hanwha_mio_trait_rapid_fire
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
			medium_tank_artillery_chassis
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_shoot_scoot_phasing
		name = AST_hanwha_mio_trait_shoot_scoot_phasing
		icon = GFX_generic_mio_trait_icon_spg_speed

		position = { x = -2 y = 2 }
		relative_position_id = AST_hanwha_mio_trait_rapid_fire
		all_parents = {
			AST_hanwha_mio_trait_extended_range_barrel
		}

		limit_to_equipment_type = {
			medium_tank_artillery_chassis
		}

		equipment_bonus = {
			maximum_speed = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_suppression_resistant
		name = AST_hanwha_mio_trait_suppression_resistant
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = -2 y = 4 }
		relative_position_id = AST_hanwha_mio_trait_rapid_fire
		all_parents = {
			AST_hanwha_mio_trait_shoot_scoot_phasing
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
			medium_tank_artillery_chassis
		}

		equipment_bonus = {
			ap_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_armoured_ammunition
		name = AST_hanwha_mio_trait_armoured_ammunition
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 0 y = 2 }
		relative_position_id = AST_hanwha_mio_trait_rapid_fire
		all_parents = {
			AST_hanwha_mio_trait_rapid_fire
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
			medium_tank_artillery_chassis
		}

		equipment_bonus = {
			defense = 0.10
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_quick_action
		name = AST_hanwha_mio_trait_quick_action
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = -1 y = 3 }
		relative_position_id = AST_hanwha_mio_trait_rapid_fire
		all_parents = {
			AST_hanwha_mio_trait_armoured_ammunition
		}

		mutually_exclusive = {
			AST_hanwha_mio_trait_heavy_suspension
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
			medium_tank_artillery_chassis
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		organization_modifier = {
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_heavy_suspension
		name = AST_hanwha_mio_trait_heavy_suspension
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 1 y = 3 }
		relative_position_id = AST_hanwha_mio_trait_rapid_fire
		all_parents = {
			AST_hanwha_mio_trait_armoured_ammunition
		}

		mutually_exclusive = {
			AST_hanwha_mio_trait_quick_action
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
			medium_tank_artillery_chassis
		}

		equipment_bonus = {
			maximum_speed = 0.10
			build_cost_ic = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_high_explosive_fragmentation
		name = AST_hanwha_mio_trait_high_explosive_fragmentation
		icon = GFX_generic_mio_trait_icon_spg_soft_attack

		position = { x = 0 y = 4 }
		relative_position_id = AST_hanwha_mio_trait_rapid_fire
		any_parent = {
			AST_hanwha_mio_trait_quick_action
			AST_hanwha_mio_trait_heavy_suspension
		}

		limit_to_equipment_type = {
			medium_tank_artillery_chassis
		}

		equipment_bonus = {
			soft_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_thermal_support
		name = AST_hanwha_mio_trait_thermal_support
		icon = GFX_generic_mio_trait_icon_spg_breaktrough

		position = { x = 1 y = 5 }
		relative_position_id = AST_hanwha_mio_trait_rapid_fire
		all_parents = {
			AST_hanwha_mio_trait_high_explosive_fragmentation
			AST_hanwha_mio_trait_tactical_fire
		}

		limit_to_equipment_type = {
			medium_tank_artillery_chassis
		}

		equipment_bonus = {
			breakthrough = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_capacity_surge
		name = AST_hanwha_mio_trait_capacity_surge
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = -1 y = 5 }
		relative_position_id = AST_hanwha_mio_trait_rapid_fire
		all_parents = {
			AST_hanwha_mio_trait_high_explosive_fragmentation
			AST_hanwha_mio_trait_suppression_resistant
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
			medium_tank_artillery_chassis
		}

		production_bonus = {
			production_capacity_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_local_engine
		name = AST_hanwha_mio_trait_local_engine
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 2 y = 2 }
		relative_position_id = AST_hanwha_mio_trait_rapid_fire
		all_parents = {
			AST_hanwha_mio_trait_auto_loading_resupply
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_tactical_fire
		name = AST_hanwha_mio_trait_tactical_fire
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 2 y = 4 }
		relative_position_id = AST_hanwha_mio_trait_rapid_fire
		all_parents = {
			AST_hanwha_mio_trait_local_engine
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
			medium_tank_artillery_chassis
		}

		equipment_bonus = {
			hard_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_situational_awareness
		name = AST_hanwha_mio_trait_situational_awareness
		icon = GFX_generic_mio_trait_icon_ifv_breakthrough

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			breakthrough = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_advanced_turret
		name = AST_hanwha_mio_trait_advanced_turret
		icon = GFX_generic_mio_trait_icon_ifv_ap_attack

		position = { x = -1 y = 1 }
		relative_position_id = AST_hanwha_mio_trait_situational_awareness
		all_parents = {
			AST_hanwha_mio_trait_situational_awareness
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			ap_attack = 0.05
			hard_attack = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_composite_hull_panels
		name = AST_hanwha_mio_trait_composite_hull_panels
		icon = GFX_generic_mio_trait_icon_ifv_reliability

		position = { x = 1 y = 1 }
		relative_position_id = AST_hanwha_mio_trait_situational_awareness
		all_parents = {
			AST_hanwha_mio_trait_situational_awareness
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			reliability = 0.10
			weight = -0.05
		}

		production_bonus = {
			production_resource_need_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_local_transmission
		name = AST_hanwha_mio_trait_local_transmission
		icon = GFX_generic_mio_trait_icon_ifv_efficiency_cap

		position = { x = 0 y = 2 }
		relative_position_id = AST_hanwha_mio_trait_situational_awareness
		all_parents = {
			AST_hanwha_mio_trait_advanced_turret
			AST_hanwha_mio_trait_composite_hull_panels
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
			production_capacity_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_enhanced_c4i
		name = AST_hanwha_mio_trait_enhanced_c4i
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 0 y = 3 }
		relative_position_id = AST_hanwha_mio_trait_situational_awareness
		all_parents = {
			AST_hanwha_mio_trait_local_transmission
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			max_organisation = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_hanwha_mio_trait_crew_comfort
		name = AST_hanwha_mio_trait_crew_comfort
		icon = GFX_generic_mio_trait_icon_ifv_reliability

		position = { x = 0 y = 4 }
		relative_position_id = AST_hanwha_mio_trait_situational_awareness
		all_parents = {
			AST_hanwha_mio_trait_enhanced_c4i
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			reliability = 0.08
			armor_value = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

AST_rheinmetall_australia_tank = {
	allowed = { original_tag = AST }
	name = AST_rheinmetall_australia_tank
	icon = GFX_idea_Rheinmetall

	task_capacity = 3

	equipment_type = {
		util_vehicle_equipment
		medium_tank_flame_chassis
	}

	research_categories = {
		CAT_pds
		CAT_util
		CAT_armor
	}

	tree_header_text = {
		text = "Utility Mobility"
		x = 2
	}
	tree_header_text = {
		text = "Boxer Combat Systems"
		x = 7
	}


	initial_trait = {
		name = AST_rheinmetall_australia_tank_trait

		equipment_bonus = {
			reliability = 0.10
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
			production_capacity_factor = 0.10
		}
	}

	trait = {
		token = AST_rheinmetall_mio_trait_long_range_fuel
		name = AST_rheinmetall_mio_trait_long_range_fuel
		icon = GFX_generic_mio_trait_icon_util

		position = { x = 2 y = 0 }

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			max_organisation = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_rheinmetall_mio_trait_modular_cargo
		name = AST_rheinmetall_mio_trait_modular_cargo
		icon = GFX_generic_mio_trait_icon_util_buildcost

		position = { x = -1 y = 1 }
		relative_position_id = AST_rheinmetall_mio_trait_long_range_fuel
		all_parents = {
			AST_rheinmetall_mio_trait_long_range_fuel
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			build_cost_ic = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_rheinmetall_mio_trait_heavy_duty_suspension
		name = AST_rheinmetall_mio_trait_heavy_duty_suspension
		icon = GFX_generic_mio_trait_icon_util_speed

		position = { x = 1 y = 1 }
		relative_position_id = AST_rheinmetall_mio_trait_long_range_fuel
		all_parents = {
			AST_rheinmetall_mio_trait_long_range_fuel
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			maximum_speed = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_rheinmetall_mio_trait_rapid_field_repair
		name = AST_rheinmetall_mio_trait_rapid_field_repair
		icon = GFX_generic_mio_trait_icon_util_reliability

		position = { x = 0 y = 2 }
		relative_position_id = AST_rheinmetall_mio_trait_long_range_fuel
		all_parents = {
			AST_rheinmetall_mio_trait_heavy_duty_suspension
			AST_rheinmetall_mio_trait_modular_cargo
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			reliability = 0.05
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_rheinmetall_mio_trait_hardened_electronics
		name = AST_rheinmetall_mio_trait_hardened_electronics
		icon = GFX_generic_mio_trait_icon_util_defense

		position = { x = -2 y = 3 }
		relative_position_id = AST_rheinmetall_mio_trait_long_range_fuel
		all_parents = {
			AST_rheinmetall_mio_trait_rapid_field_repair
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			reliability = 0.06
			defense = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_rheinmetall_mio_trait_logistisc_batch
		name = AST_rheinmetall_mio_trait_logistisc_batch
		icon = GFX_generic_mio_trait_icon_util_efficiency_gain

		position = { x = 0 y = 3 }
		relative_position_id = AST_rheinmetall_mio_trait_long_range_fuel
		all_parents = {
			AST_rheinmetall_mio_trait_rapid_field_repair
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_rheinmetall_mio_trait_cold_start_kit
		name = AST_rheinmetall_mio_trait_cold_start_kit
		icon = GFX_generic_mio_trait_icon_util_reliability

		position = { x = 2 y = 3 }
		relative_position_id = AST_rheinmetall_mio_trait_long_range_fuel
		all_parents = {
			AST_rheinmetall_mio_trait_rapid_field_repair
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
		}

		equipment_bonus = {
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_rheinmetall_mio_trait_advanced_applique
		name = AST_rheinmetall_mio_trait_advanced_applique
		icon = GFX_generic_mio_trait_icon_ifv_armor

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			max_organisation = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_rheinmetall_mio_trait_networked_fire_control
		name = AST_rheinmetall_mio_trait_networked_fire_control
		icon = GFX_generic_mio_trait_icon_ifv_breakthrough

		position = { x = -1 y = 1 }
		relative_position_id = AST_rheinmetall_mio_trait_advanced_applique
		all_parents = {
			AST_rheinmetall_mio_trait_advanced_applique
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			breakthrough = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_rheinmetall_mio_trait_crew_survivability
		name = AST_rheinmetall_mio_trait_crew_survivability
		icon = GFX_generic_mio_trait_icon_ifv_defense

		position = { x = -1 y = 2 }
		relative_position_id = AST_rheinmetall_mio_trait_advanced_applique
		all_parents = {
			AST_rheinmetall_mio_trait_networked_fire_control
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			defense = 0.10
			reliability = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_rheinmetall_mio_trait_stabilised_gun
		name = AST_rheinmetall_mio_trait_stabilised_gun
		icon = GFX_generic_mio_trait_icon_ifv_hard_attack

		position = { x = 1 y = 1 }
		relative_position_id = AST_rheinmetall_mio_trait_advanced_applique
		all_parents = {
			AST_rheinmetall_mio_trait_advanced_applique
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		equipment_bonus = {
			hard_attack = 0.08
			ap_attack = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_rheinmetall_mio_trait_localised_armour
		name = AST_rheinmetall_mio_trait_localised_armour
		icon = GFX_generic_mio_trait_icon_ifv_efficiency_cap

		position = { x = 1 y = 2 }
		relative_position_id = AST_rheinmetall_mio_trait_advanced_applique
		all_parents = {
			AST_rheinmetall_mio_trait_stabilised_gun
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.15
		}
		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_rheinmetall_mio_trait_field_integration
		name = AST_rheinmetall_mio_trait_field_integration
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 0 y = 3 }
		relative_position_id = AST_rheinmetall_mio_trait_advanced_applique
		all_parents = {
			AST_rheinmetall_mio_trait_localised_armour
			AST_rheinmetall_mio_trait_crew_survivability
		}

		limit_to_equipment_type = {
			medium_tank_flame_chassis
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.06
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

# Navy
AST_raytheon_australia_material = {
	allowed = { original_tag = AST }
	name = AST_raytheon_australia_material
	icon = GFX_idea_Raytheon

	equipment_type = {
		guided_missile_equipment
		mio_cat_destroyers
		submarine
	}

	research_categories = {
		CAT_destroyer
		CAT_sub
		CAT_avionics
		CAT_naval_electronics
		CAT_pds
		CAT_air_to_air_weapons
		CAT_glcm
		CAT_vls_systems
	}

	research_bonus = 0.06

	task_capacity = 3

	tree_header_text = {
		text = "Maritime Strike & Missile Systems"
		x = 2
	}

	tree_header_text = {
		text = "Combat System & Naval Platform Integration"
		x = 7
	}


	initial_trait = {
		name = AST_raytheon_australia_material_trait

		equipment_bonus = {
			naval_strike_attack = 0.10
			hg_attack = 0.10
			build_cost_ic = -0.05
		}
	}

	trait = {
		token = AST_raytheon_mio_trait_loitering_cruise
		name = AST_raytheon_mio_trait_loitering_cruise
		icon = GFX_generic_mio_trait_icon_guided_missile_range

		position = { x = 2 y = 0 }

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			naval_strike_attack = 0.05
			air_range = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_raytheon_mio_trait_multi_effect_warhead
		name = AST_raytheon_mio_trait_multi_effect_warhead
		icon = GFX_generic_mio_trait_icon_guided_missile_strategic_attack

		position = { x = -1 y = 1 }
		relative_position_id = AST_raytheon_mio_trait_loitering_cruise
		all_parents = {
			AST_raytheon_mio_trait_loitering_cruise
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			air_ground_attack = 0.08
			strategic_attack = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_raytheon_mio_trait_dynamic_retargeting_ling
		name = AST_raytheon_mio_trait_dynamic_retargeting_ling
		icon = GFX_generic_mio_trait_icon_guided_missile_agility

		position = { x = -1 y = 2 }
		relative_position_id = AST_raytheon_mio_trait_loitering_cruise
		all_parents = {
			AST_raytheon_mio_trait_multi_effect_warhead
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			air_agility = 0.12
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_raytheon_mio_trait_propulsion_efficiency
		name = AST_raytheon_mio_trait_propulsion_efficiency
		icon = GFX_generic_mio_trait_icon_guided_missile_range

		position = { x = 1 y = 1 }
		relative_position_id = AST_raytheon_mio_trait_loitering_cruise
		all_parents = {
			AST_raytheon_mio_trait_loitering_cruise
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			air_range = 0.08
			build_cost_ic = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_raytheon_mio_trait_stealthy_airframe
		name = AST_raytheon_mio_trait_stealthy_airframe
		icon = GFX_generic_mio_trait_icon_guided_missile_defense

		position = { x = 1 y = 2 }
		relative_position_id = AST_raytheon_mio_trait_loitering_cruise
		all_parents = {
			AST_raytheon_mio_trait_propulsion_efficiency
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			air_defence = 0.08
			air_agility = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_raytheon_mio_trait_local_missile
		name = AST_raytheon_mio_trait_local_missile
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 0 y = 3 }
		relative_position_id = AST_raytheon_mio_trait_loitering_cruise
		all_parents = {
			AST_raytheon_mio_trait_stealthy_airframe
			AST_raytheon_mio_trait_dynamic_retargeting_ling
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		production_bonus = {
			production_capacity_factor = 0.10
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_raytheon_mio_trait_precision_navigation
		name = AST_raytheon_mio_trait_precision_navigation
		icon = GFX_generic_mio_trait_icon_guided_missile_agility

		position = { x = 0 y = 4 }
		relative_position_id = AST_raytheon_mio_trait_loitering_cruise
		all_parents = {
			AST_raytheon_mio_trait_local_missile
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		equipment_bonus = {
			naval_strike_attack = 0.05
			air_agility = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_raytheon_mio_trait_combat_system_modular
		name = AST_raytheon_mio_trait_combat_system_modular
		icon = GFX_generic_mio_trait_icon_naval_strike_attack

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			mio_cat_destroyers
			submarine
		}

		equipment_bonus = {
			naval_strike_attack = 0.05
			air_range = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_raytheon_mio_trait_distributed_sensor
		name = AST_raytheon_mio_trait_distributed_sensor
		icon = GFX_generic_mio_trait_icon_surface_detection

		position = { x = -2 y = 1 }
		relative_position_id = AST_raytheon_mio_trait_combat_system_modular
		all_parents = {
			AST_raytheon_mio_trait_combat_system_modular
		}

		limit_to_equipment_type = {
			mio_cat_destroyers
			submarine
		}

		equipment_bonus = {
			surface_detection = 0.10
			sub_detection = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_raytheon_mio_trait_trhough_water
		name = AST_raytheon_mio_trait_trhough_water
		icon = GFX_generic_mio_trait_icon_submarine

		position = { x = -1 y = 3 }
		relative_position_id = AST_raytheon_mio_trait_combat_system_modular
		all_parents = {
			AST_raytheon_mio_trait_distributed_sensor
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			sub_visibility = -0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_raytheon_mio_trait_electromagnetic_signature
		name = AST_raytheon_mio_trait_electromagnetic_signature
		icon = GFX_generic_mio_trait_icon_sub_visibility

		position = { x = 0 y = 1 }
		relative_position_id = AST_raytheon_mio_trait_combat_system_modular
		all_parents = {
			AST_raytheon_mio_trait_combat_system_modular
		}

		limit_to_equipment_type = {
			mio_cat_destroyers
			submarine
		}

		equipment_bonus = {
			sub_visibility = -0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_raytheon_mio_trait_systems_integration
		name = AST_raytheon_mio_trait_systems_integration
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 0 y = 2 }
		relative_position_id = AST_raytheon_mio_trait_combat_system_modular
		all_parents = {
			AST_raytheon_mio_trait_electromagnetic_signature
		}

		limit_to_equipment_type = {
			mio_cat_destroyers
			submarine
		}

		equipment_bonus = {
			build_cost_ic = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_raytheon_mio_trait_resilient_data_links
		name = AST_raytheon_mio_trait_resilient_data_links
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 2 y = 1 }
		relative_position_id = AST_raytheon_mio_trait_combat_system_modular
		all_parents = {
			AST_raytheon_mio_trait_combat_system_modular
		}

		limit_to_equipment_type = {
			mio_cat_destroyers
			submarine
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_raytheon_mio_trait_navy_contracting
		name = AST_raytheon_mio_trait_navy_contracting
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 2 y = 2 }
		relative_position_id = AST_raytheon_mio_trait_combat_system_modular
		all_parents = {
			AST_raytheon_mio_trait_resilient_data_links
		}

		limit_to_equipment_type = {
			mio_cat_destroyers
			submarine
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
			military_industrial_organization_funds_gain = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_raytheon_mio_trait_platform_life
		name = AST_raytheon_mio_trait_platform_life
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 1 y = 3 }
		relative_position_id = AST_raytheon_mio_trait_combat_system_modular
		all_parents = {
			AST_raytheon_mio_trait_resilient_data_links
		}

		limit_to_equipment_type = {
			mio_cat_destroyers
			submarine
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_raytheon_mio_trait_joint_test_range
		name = AST_raytheon_mio_trait_joint_test_range
		icon = GFX_generic_mio_trait_icon_task

		position = { x = -2 y = 2 }
		relative_position_id = AST_raytheon_mio_trait_combat_system_modular
		all_parents = {
			AST_raytheon_mio_trait_resilient_data_links
		}

		limit_to_equipment_type = {
			mio_cat_destroyers
			submarine
		}

		equipment_bonus = {
			torpedo_attack = 0.10
			hg_attack = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

AST_tenix_naval_manufacturer = {
	allowed = { original_tag = AST }
	name = AST_tenix_naval_manufacturer
	icon = GFX_idea_tenix_defence_company

	equipment_type = {
		util_vehicle_equipment
		medium_tank_amphibious_chassis
		mio_cat_only_small_ships
		mio_cat_frigates
		helicopter_operator
	}

	research_categories = {
		CAT_cnc
		CAT_arty
		CAT_util
		CAT_ifv
		CAT_corvette
		CAT_frigate
		CAT_landing_craft
		CAT_air_countermeasures
		CAT_lha
		CAT_lpd
	}

	research_bonus = 0.08

	tree_header_text = {
		text = "Land Systems & Maintenance"
		x = 2
	}

	tree_header_text = {
		text = "Marine Systems & Shipbuilding"
		x = 7
	}

	initial_trait = {
		name = AST_tenix_australia_naval_trait

		equipment_bonus = {
			reliability = 0.10
			build_cost_ic = -0.05
		}
	}

	trait = {
		token = AST_tenix_mio_trait_upgrade_expertise
		name = AST_tenix_mio_trait_upgrade_expertise
		icon = GFX_generic_mio_trait_icon_apc_reliability

		position = { x = 1 y = 0 }

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		equipment_bonus = {
			reliability = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_armored_vehicle
		name = AST_tenix_mio_trait_armored_vehicle
		icon = GFX_generic_mio_trait_icon_apc_buildcost

		position = { x = 0 y = 1 }
		relative_position_id = AST_tenix_mio_trait_upgrade_expertise
		all_parents = {
			AST_tenix_mio_trait_upgrade_expertise
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
		}

		equipment_bonus = {
			build_cost_ic = -0.05
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_parts_remanufacture
		name = AST_tenix_mio_trait_parts_remanufacture
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 2 y = 0 }
		relative_position_id = AST_tenix_mio_trait_upgrade_expertise

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
			util_vehicle_equipment
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
			production_resource_need_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_engine_rebuild
		name = AST_tenix_mio_trait_engine_rebuild
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 2 y = 1 }
		relative_position_id = AST_tenix_mio_trait_upgrade_expertise
		all_parents = {
			AST_tenix_mio_trait_parts_remanufacture
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
			util_vehicle_equipment
		}

		equipment_bonus = {
			reliability = 0.10
			fuel_consumption = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_heavy_maintenance
		name = AST_tenix_mio_trait_heavy_maintenance
		icon = GFX_generic_mio_trait_icon_task

		position = { x = 1 y = 2 }
		relative_position_id = AST_tenix_mio_trait_upgrade_expertise

		all_parents = {
			AST_tenix_mio_trait_armored_vehicle
			AST_tenix_mio_trait_engine_rebuild
		}

		limit_to_equipment_type = {
			util_vehicle_equipment
			medium_tank_amphibious_chassis
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			AST = {
				random_owned_state = {
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_diagnostics_workshop
		name = AST_tenix_mio_trait_diagnostics_workshop
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 1 y = 3 }
		relative_position_id = AST_tenix_mio_trait_upgrade_expertise
		all_parents = {
			AST_tenix_mio_trait_heavy_maintenance
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
			util_vehicle_equipment
		}

		equipment_bonus = {
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_structural_rework
		name = AST_tenix_mio_trait_structural_rework
		icon = GFX_generic_mio_trait_icon_research

		position = { x = -1 y = 4 }
		relative_position_id = AST_tenix_mio_trait_upgrade_expertise
		all_parents = {
			AST_tenix_mio_trait_diagnostics_workshop
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
			util_vehicle_equipment
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_spare_stockpiling
		name = AST_tenix_mio_trait_spare_stockpiling
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 1 y = 4 }
		relative_position_id = AST_tenix_mio_trait_upgrade_expertise
		all_parents = {
			AST_tenix_mio_trait_diagnostics_workshop
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
			util_vehicle_equipment
		}

		production_bonus = {
			production_resource_penalty_factor = -0.25
			production_capacity_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_refit_line
		name = AST_tenix_mio_trait_refit_line
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 3 y = 4 }
		relative_position_id = AST_tenix_mio_trait_upgrade_expertise
		all_parents = {
			AST_tenix_mio_trait_diagnostics_workshop
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
			util_vehicle_equipment
		}

		production_bonus = {
			production_conversion_speed_factor = 0.30
		}

		organization_modifier = {
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.30
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_coating_seal_tech
		name = AST_tenix_mio_trait_coating_seal_tech
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 1 y = 5 }
		relative_position_id = AST_tenix_mio_trait_upgrade_expertise
		all_parents = {
			AST_tenix_mio_trait_spare_stockpiling
			AST_tenix_mio_trait_structural_rework
			AST_tenix_mio_trait_refit_line
		}

		limit_to_equipment_type = {
			medium_tank_amphibious_chassis
			util_vehicle_equipment
		}

		equipment_bonus = {
			armor_value = 0.10
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_rotary_turntable
		name = AST_tenix_mio_trait_rotary_turntable
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
			helicopter_operator
		}

		equipment_bonus = {
			build_cost_ic = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_module_fabrication
		name = AST_tenix_mio_trait_module_fabrication
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 1 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_rotary_turntable
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
			helicopter_operator
		}

		equipment_bonus = {
			reliability = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_deck_integration
		name = AST_tenix_mio_trait_deck_integration
		icon = GFX_generic_mio_trait_icon_heli_operator_hg_attack

		position = { x = 0 y = 2 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_module_fabrication
		}

		limit_to_equipment_type = {
			helicopter_operator
		}

		equipment_bonus = {
			hg_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_helideck_maintenance
		name = AST_tenix_mio_trait_helideck_maintenance
		icon = GFX_generic_mio_trait_icon_heli_operator_reliability

		position = { x = 0 y = 3 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_deck_integration
		}

		limit_to_equipment_type = {
			helicopter_operator
		}

		equipment_bonus = {
			reliability = 0.05
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_hangar_structural_design
		name = AST_tenix_mio_trait_hangar_structural_design
		icon = GFX_generic_mio_trait_icon_heli_operator

		position = { x = 0 y = 5 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_deck_integration
		}

		limit_to_equipment_type = {
			helicopter_operator
		}

		equipment_bonus = {
			carrier_size = 2
			max_strength = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_aviation_fuel
		name = AST_tenix_mio_trait_aviation_fuel
		icon = GFX_generic_mio_trait_icon_heli_operator_range

		position = { x = 0 y = 6 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_hangar_structural_design
		}

		limit_to_equipment_type = {
			helicopter_operator
		}

		equipment_bonus = {
			naval_range = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_combat_system_sustainment
		name = AST_tenix_mio_trait_combat_system_sustainment
		icon = GFX_generic_mio_trait_icon_surface_detection

		position = { x = 2 y = 2 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_module_fabrication
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
		}

		equipment_bonus = {
			surface_detection = 0.10
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_hull_reinforcement
		name = AST_tenix_mio_trait_hull_reinforcement
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 2 y = 3 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_combat_system_sustainment
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
		}

		equipment_bonus = {
			armor_value = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_deck_handling_automation
		name = AST_tenix_mio_trait_deck_handling_automation
		icon = GFX_generic_mio_trait_icon_naval_range

		position = { x = 1 y = 4 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_hull_reinforcement
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
		}

		equipment_bonus = {
			naval_speed = 0.05
			naval_range = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_damage_control
		name = AST_tenix_mio_trait_damage_control
		icon = GFX_generic_mio_trait_icon_naval_torpedo_damage_reduction_factor

		position = { x = 2 y = 5 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_hull_reinforcement
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
		}

		equipment_bonus = {
			naval_torpedo_damage_reduction_factor = 0.08
			max_organisation = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_lifecycle_support
		name = AST_tenix_mio_trait_lifecycle_support
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 1 y = 6 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_deck_handling_automation
			AST_tenix_mio_trait_damage_control
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
			military_industrial_organization_design_team_assign_cost = -0.25
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_corrosion_protection
		name = AST_tenix_mio_trait_corrosion_protection
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -2 y = 2 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_module_fabrication
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
			helicopter_operator
		}

		equipment_bonus = {
			reliability = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_propulsion_efficiency
		name = AST_tenix_mio_trait_propulsion_efficiency
		icon = GFX_generic_mio_trait_icon_naval_speed

		position = { x = -2 y = 3 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_corrosion_protection
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
			helicopter_operator
		}

		equipment_bonus = {
			naval_speed = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_signature_reduction
		name = AST_tenix_mio_trait_signature_reduction
		icon = GFX_generic_mio_trait_icon_surface_visibility

		position = { x = -1 y = 4 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_propulsion_efficiency
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
			helicopter_operator
		}

		equipment_bonus = {
			surface_visibility = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_shipyard_batch_lines
		name = AST_tenix_mio_trait_shipyard_batch_lines
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = -2 y = 5 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_propulsion_efficiency
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
			helicopter_operator
		}

		equipment_bonus = {
			build_cost_ic = -0.03
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_drydock_efficiency
		name = AST_tenix_mio_trait_drydock_efficiency
		icon = GFX_generic_mio_trait_icon_task

		position = { x = -1 y = 6 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_signature_reduction
			AST_tenix_mio_trait_shipyard_batch_lines
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_tenix_mio_trait_local_steel
		name = AST_tenix_mio_trait_local_steel
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 0 y = 7 }
		relative_position_id = AST_tenix_mio_trait_rotary_turntable
		all_parents = {
			AST_tenix_mio_trait_aviation_fuel
			AST_tenix_mio_trait_drydock_efficiency
			AST_tenix_mio_trait_lifecycle_support
		}

		available = {
			AST = {
				any_owned_state = {
					has_resources_amount = {
						resource = steel
						amount > 0
					}
				}
			}
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
			helicopter_operator
		}

		production_bonus = {
			production_resource_need_factor = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

AST_asc_naval_manufacturer = {
	allowed = { original_tag = AST }
	name = AST_asc_naval_manufacturer
	icon = GFX_idea_ASC_AST

	equipment_type = {
		mio_cat_only_small_ships
		mio_cat_destroyers
		submarine
	}

	research_categories = {
		CAT_sub
		CAT_destroyer
		CAT_corvette
	}

	tree_header_text = {
		text = "Surface Combat & Patrol"
		x = 2
	}

	tree_header_text = {
		text = "Submarine Systems & Sustainment"
		x = 7
	}

	initial_trait = {
		name = AST_asc_naval_trait

		equipment_bonus = {
			naval_range = 0.12
			build_cost_ic = -0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.06
		}
	}

	trait = {
		token = AST_asc_mio_trait_modular_hull
		name = AST_asc_mio_trait_modular_hull
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 0 y = 0 }

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_destroyers
		}

		production_bonus = {
			production_resource_need_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asc_mio_trait_high_speed_hull
		name = AST_asc_mio_trait_high_speed_hull
		icon = GFX_generic_mio_trait_icon_naval_speed

		position = { x = 2 y = 0 }
		relative_position_id = AST_asc_mio_trait_modular_hull

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_destroyers
		}

		equipment_bonus = {
			naval_speed = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asc_mio_trait_signature_reduction
		name = AST_asc_mio_trait_signature_reduction
		icon = GFX_generic_mio_trait_icon_surface_visibility

		position = { x = 4 y = 0 }
		relative_position_id = AST_asc_mio_trait_modular_hull

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_destroyers
		}

		equipment_bonus = {
			surface_visibility = -0.08
			sub_visibility = -0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asc_mio_trait_sensor_suite
		name = AST_asc_mio_trait_sensor_suite
		icon = GFX_generic_mio_trait_icon_surface_detection

		position = { x = 1 y = 1 }
		relative_position_id = AST_asc_mio_trait_modular_hull

		all_parents = {
			AST_asc_mio_trait_high_speed_hull
			AST_asc_mio_trait_modular_hull
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_destroyers
		}

		equipment_bonus = {
			surface_detection = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asc_mio_trait_maintenance_turnaround
		name = AST_asc_mio_trait_maintenance_turnaround
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 3 y = 1 }
		relative_position_id = AST_asc_mio_trait_modular_hull

		all_parents = {
			AST_asc_mio_trait_high_speed_hull
			AST_asc_mio_trait_signature_reduction
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_destroyers
		}

		equipment_bonus = {
			surface_detection = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asc_mio_trait_hull_reinforcement
		name = AST_asc_mio_trait_hull_reinforcement
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 4 y = 2 }
		relative_position_id = AST_asc_mio_trait_modular_hull

		all_parents = {
			AST_asc_mio_trait_high_speed_hull
			AST_asc_mio_trait_signature_reduction
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_destroyers
		}

		equipment_bonus = {
			armor_value = 0.065
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asc_mio_trait_combat_systems_upgrade
		name = AST_asc_mio_trait_combat_systems_upgrade
		icon = GFX_generic_mio_trait_icon_lg_attack

		position = { x = 0 y = 2 }
		relative_position_id = AST_asc_mio_trait_modular_hull

		all_parents = {
			AST_asc_mio_trait_modular_hull
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_destroyers
		}

		equipment_bonus = {
			lg_attack = 0.08
			anti_air_attack = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asc_mio_trait_crew_systems
		name = AST_asc_mio_trait_crew_systems
		icon = GFX_generic_mio_trait_icon_max_strength

		position = { x = 2 y = 2 }
		relative_position_id = AST_asc_mio_trait_modular_hull

		all_parents = {
			AST_asc_mio_trait_high_speed_hull
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_destroyers
		}

		equipment_bonus = {
			max_strength = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asc_mio_trait_acoustic_quieting
		name = AST_asc_mio_trait_acoustic_quieting
		icon = GFX_generic_mio_trait_icon_submarine_sub_visibility

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			sub_visibility = -0.10
			surface_visibility = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asc_mio_trait_full_cycle_docking
		name = AST_asc_mio_trait_full_cycle_docking
		icon = GFX_generic_mio_trait_icon_submarine_buildcost

		position = { x = 2 y = 1 }
		relative_position_id = AST_asc_mio_trait_acoustic_quieting
		all_parents = {
			AST_asc_mio_trait_acoustic_quieting
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			build_cost_ic = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asc_mio_trait_hull_integrity
		name = AST_asc_mio_trait_hull_integrity
		icon = GFX_generic_mio_trait_icon_submarine_reliability

		position = { x = 0 y = 1 }
		relative_position_id = AST_asc_mio_trait_acoustic_quieting
		all_parents = {
			AST_asc_mio_trait_acoustic_quieting
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asc_mio_trait_submarine_combat
		name = AST_asc_mio_trait_submarine_combat
		icon = GFX_generic_mio_trait_icon_submarine_torpedo

		position = { x = -2 y = 1 }
		relative_position_id = AST_asc_mio_trait_acoustic_quieting
		all_parents = {
			AST_asc_mio_trait_acoustic_quieting
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			hg_attack = 0.065
			torpedo_attack = 0.065
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asc_mio_trait_undersea_sensor
		name = AST_asc_mio_trait_undersea_sensor
		icon = GFX_generic_mio_trait_icon_submarine_sub_detection

		position = { x = -1 y = 2 }
		relative_position_id = AST_asc_mio_trait_acoustic_quieting
		all_parents = {
			AST_asc_mio_trait_submarine_combat
			AST_asc_mio_trait_hull_integrity
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			sub_detection = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asc_mio_trait_sustainment_planning
		name = AST_asc_mio_trait_sustainment_planning
		icon = GFX_generic_mio_trait_icon_submarine_sub_detection

		position = { x = -1 y = 3 }
		relative_position_id = AST_asc_mio_trait_acoustic_quieting
		all_parents = {
			AST_asc_mio_trait_undersea_sensor
		}

		limit_to_equipment_type = {
			submarine
		}

		production_bonus = {
			production_resource_need_factor = -0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asc_mio_trait_rapid_refit
		name = AST_asc_mio_trait_rapid_refit
		icon = GFX_generic_mio_trait_icon_submarine_sub_detection

		position = { x = 1 y = 2 }
		relative_position_id = AST_asc_mio_trait_acoustic_quieting
		all_parents = {
			AST_asc_mio_trait_full_cycle_docking
			AST_asc_mio_trait_hull_integrity
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asc_mio_trait_submarine_lifecycle
		name = AST_asc_mio_trait_submarine_lifecycle
		icon = GFX_generic_mio_trait_icon_submarine_sub_detection

		position = { x = 1 y = 3 }
		relative_position_id = AST_asc_mio_trait_acoustic_quieting
		all_parents = {
			AST_asc_mio_trait_rapid_refit
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			build_cost_ic = -0.02
		}

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.35
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

AST_austal_naval_manufacturer = {
	allowed = { original_tag = AST }
	name = AST_austal_naval_manufacturer
	icon = GFX_idea_austal_company

	equipment_type = {
		mio_cat_only_small_ships
		mio_cat_frigates
	}

	research_categories = {
		CAT_frigate
		CAT_landing_craft
		CAT_corvette
	}

	research_bonus = 0.08

	tree_header_text = {
		text = "Littoral Strike Systems"
		x = 2
	}

	tree_header_text = {
		text = "Coastal Response Division"
		x = 7
	}

	initial_trait = {
		name = AST_austal_naval_trait

		equipment_bonus = {
			naval_range = 0.12
			build_cost_ic = -0.05
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.06
		}
	}

	trait = {
		token = AST_austal_mio_trait_modular_combat_architecture
		name = AST_austal_mio_trait_modular_combat_architecture
		icon = GFX_generic_mio_trait_icon_frigate_lg_attack

		position = { x = 1 y = 0 }

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			lg_attack = 0.075
			lg_armor_piercing = 0.04
			anti_air_attack = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_redundant_systems
		name = AST_austal_mio_trait_redundant_systems
		icon = GFX_generic_mio_trait_icon_frigate_defense

		position = { x = 2 y = 0 }
		relative_position_id = AST_austal_mio_trait_modular_combat_architecture

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			defense = 0.10
			max_organisation = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_signature_reduction
		name = AST_austal_mio_trait_signature_reduction
		icon = GFX_generic_mio_trait_icon_frigate_surface_detection

		position = { x = 1 y = 1 }
		relative_position_id = AST_austal_mio_trait_modular_combat_architecture
		all_parents = {
			AST_austal_mio_trait_redundant_systems
			AST_austal_mio_trait_modular_combat_architecture
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			surface_visibility = -0.08
			sub_visibility = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_combat_systems_upgrade
		name = AST_austal_mio_trait_combat_systems_upgrade
		icon = GFX_generic_mio_trait_icon_frigate_reliability

		position = { x = 1 y = 2 }
		relative_position_id = AST_austal_mio_trait_modular_combat_architecture
		all_parents = {
			AST_austal_mio_trait_signature_reduction
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			reliability = 0.085
			torpedo_attack = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_drydock_trhoughput
		name = AST_austal_mio_trait_drydock_trhoughput
		icon = GFX_generic_mio_trait_icon_frigate_buildcost
		position = { x = 0 y = 3 }
		relative_position_id = AST_austal_mio_trait_modular_combat_architecture
		all_parents = {
			AST_austal_mio_trait_combat_systems_upgrade
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			build_cost_ic = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_lifespan_support_office
		name = AST_austal_mio_trait_lifespan_support_office
		icon = GFX_generic_mio_trait_icon_research
		position = { x = 0 y = 4 }
		relative_position_id = AST_austal_mio_trait_modular_combat_architecture
		all_parents = {
			AST_austal_mio_trait_drydock_trhoughput
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
			military_industrial_organization_design_team_assign_cost = -0.30
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_hull_reinforcement
		name = AST_austal_mio_trait_hull_reinforcement
		icon = GFX_generic_mio_trait_icon_frigate_armor
		position = { x = 2 y = 3 }
		relative_position_id = AST_austal_mio_trait_modular_combat_architecture
		all_parents = {
			AST_austal_mio_trait_combat_systems_upgrade
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			armor_value = 0.075
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_crew_system_robust
		name = AST_austal_mio_trait_crew_system_robust
		icon = GFX_generic_mio_trait_icon_frigate_reliability
		position = { x = 2 y = 4 }
		relative_position_id = AST_austal_mio_trait_modular_combat_architecture
		all_parents = {
			AST_austal_mio_trait_hull_reinforcement
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			reliability = 0.04
			max_organisation = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_system_integration
		name = AST_austal_mio_trait_system_integration
		icon = GFX_generic_mio_trait_icon_frigate_hg_attack
		position = { x = 4 y = 3 }
		relative_position_id = AST_austal_mio_trait_modular_combat_architecture
		all_parents = {
			AST_austal_mio_trait_combat_systems_upgrade
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			lg_armor_piercing = 0.08
			hg_armor_piercing = 0.08
			naval_light_gun_hit_chance_factor = 0.10
			naval_heavy_gun_hit_chance_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_local_fabrication
		name = AST_austal_mio_trait_local_fabrication
		icon = GFX_generic_mio_trait_icon_frigate_hg_attack
		position = { x = 4 y = 4 }
		relative_position_id = AST_austal_mio_trait_modular_combat_architecture
		all_parents = {
			AST_austal_mio_trait_system_integration
		}

		limit_to_equipment_type = {
			mio_cat_frigates
		}

		equipment_bonus = {
			build_cost_ic = -0.03
		}

		production_bonus = {
			production_resource_need_factor = -0.05
		}

		organization_modifier = {
			military_industrial_organization_industrial_manufacturer_assign_cost = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_high_speed_hull
		name = AST_austal_mio_trait_high_speed_hull
		icon = GFX_generic_mio_trait_icon_small_ship_speed

		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			naval_speed = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_mission_module
		name = AST_austal_mio_trait_mission_module
		icon = GFX_generic_mio_trait_icon_small_ship_defense

		position = { x = -2 y = 1 }
		relative_position_id = AST_austal_mio_trait_high_speed_hull
		all_parents = {
			AST_austal_mio_trait_high_speed_hull
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			defense = 0.08
			max_strength = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_patrol_signature
		name = AST_austal_mio_trait_patrol_signature
		icon = GFX_generic_mio_trait_icon_small_ship_defense

		position = { x = -2 y = 2 }
		relative_position_id = AST_austal_mio_trait_high_speed_hull
		all_parents = {
			AST_austal_mio_trait_mission_module
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			defense = 0.08
			max_strength = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_endurance_module
		name = AST_austal_mio_trait_endurance_module
		icon = GFX_generic_mio_trait_icon_small_ship_range

		position = { x = 0 y = 1 }
		relative_position_id = AST_austal_mio_trait_high_speed_hull
		all_parents = {
			AST_austal_mio_trait_high_speed_hull
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			naval_range = 0.10
			reliability = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_lean_production_lines
		name = AST_austal_mio_trait_lean_production_lines
		icon = GFX_generic_mio_trait_icon_small_ship_resource

		position = { x = 2 y = 1 }
		relative_position_id = AST_austal_mio_trait_high_speed_hull
		all_parents = {
			AST_austal_mio_trait_high_speed_hull
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		production_bonus = {
			production_resource_need_factor = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_maintenance_modularity
		name = AST_austal_mio_trait_maintenance_modularity
		icon = GFX_generic_mio_trait_icon_small_ship_reliability

		position = { x = 1 y = 2 }
		relative_position_id = AST_austal_mio_trait_high_speed_hull
		all_parents = {
			AST_austal_mio_trait_lean_production_lines
			AST_austal_mio_trait_endurance_module
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			reliability = 0.125
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_local_aluminum
		name = AST_austal_mio_trait_local_aluminum
		icon = GFX_generic_mio_trait_icon_small_ship_resource

		position = { x = 1 y = 3 }
		relative_position_id = AST_austal_mio_trait_high_speed_hull
		all_parents = {
			AST_austal_mio_trait_maintenance_modularity
		}

		available = {
			AST = {
				any_owned_state = {
					has_resources_amount = {
						resource = aluminium
						amount > 0
					}
				}
			}
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			build_cost_ic = -0.05
		}

		production_bonus = {
			production_resource_penalty_factor = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_support_office
		name = AST_austal_mio_trait_support_office
		icon = GFX_generic_mio_trait_icon_research

		position = { x = 0 y = 4 }
		relative_position_id = AST_austal_mio_trait_high_speed_hull
		all_parents = {
			AST_austal_mio_trait_local_aluminum
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_austal_mio_trait_integrated_systems
		name = AST_austal_mio_trait_integrated_systems
		icon = GFX_generic_mio_trait_icon_small_ship_anti_air

		position = { x = 2 y = 4 }
		relative_position_id = AST_austal_mio_trait_high_speed_hull
		all_parents = {
			AST_austal_mio_trait_local_aluminum
		}

		limit_to_equipment_type = {
			mio_cat_only_small_ships
		}

		equipment_bonus = {
			anti_air_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

AST_bae_systems_naval_manufacturer = {
	allowed = { original_tag = AST }
	name = AST_bae_systems_australia_naval_manufacturer
	icon = GFX_idea_BAE_Systems_Australia_AST

	equipment_type = {
		mio_cat_eq_only_uav
		mio_cat_only_small_ships
		mio_cat_frigates
		mio_cat_destroyers
		helicopter_operator
	}

	research_categories = {
		CAT_frigate
		CAT_corvette
		CAT_destroyer
		CAT_naval_cannons
		CAT_drones
		CAT_l_drone
	}

	research_bonus = 0.06

	task_capacity = 3

	tree_header_text = {
		text = "Surface Combat Integration"
		x = 2
	}

	tree_header_text = {
		text = "Unmanned & Aviation Systems"
		x = 7
	}

	initial_trait = {
		name = AST_bae_naval_trait

		equipment_bonus = {
			surface_visibility = -0.04
			naval_speed = 0.03
			air_range = 0.04
			air_agility = 0.02
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}
	}
	trait = {
		token = AST_bae_trait_modular_hull_blocks
		name = AST_bae_trait_modular_hull_blocks
		icon = GFX_generic_mio_trait_icon_max_strength
		position = { x = 2 y = 0 }

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
			mio_cat_destroyers
		}

		equipment_bonus = {
			reliability = 0.03
			max_strength = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}

	trait = {
		token = AST_bae_trait_signature_management
		name = AST_bae_trait_signature_management
		icon = GFX_generic_mio_trait_icon_surface_visibility
		relative_position_id = AST_bae_trait_modular_hull_blocks
		position = { x = 2 y = 0 }

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
			mio_cat_destroyers
		}

		equipment_bonus = {
			surface_visibility = -0.08
			sub_visibility = -0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_patrol_hull_form
		name = AST_bae_trait_patrol_hull_form
		icon = GFX_generic_mio_trait_icon_small_ship_speed

		relative_position_id = AST_bae_trait_modular_hull_blocks
		position = { x = -2 y = 1 }
		all_parents = { AST_bae_trait_modular_hull_blocks }

		limit_to_equipment_type = { mio_cat_only_small_ships }

		equipment_bonus = {
			naval_speed = 0.06
			reliability = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_sensor_suite_fusion
		name = AST_bae_trait_sensor_suite_fusion
		icon = GFX_generic_mio_trait_icon_surface_detection

		relative_position_id = AST_bae_trait_modular_hull_blocks
		position = { x = -1 y = 2 }
		all_parents = { AST_bae_trait_signature_management AST_bae_trait_modular_hull_blocks }

		limit_to_equipment_type = {
			mio_cat_only_small_ships
			mio_cat_frigates
			mio_cat_destroyers
		}

		equipment_bonus = {
			surface_detection = 0.09
			anti_air_attack = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_combat_system_integration
		name = AST_bae_trait_combat_system_integration
		icon = GFX_generic_mio_trait_icon_lg_attack

		relative_position_id = AST_bae_trait_signature_management
		position = { x = 0 y = 1 }
		all_parents = { AST_bae_trait_signature_management }

		limit_to_equipment_type = { mio_cat_frigates mio_cat_destroyers }
		equipment_bonus = {
			lg_attack = 0.08
			lg_armor_piercing = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_hull_reinforcement
		name = AST_bae_trait_hull_reinforcement
		icon = GFX_generic_mio_trait_icon_armor_value
		relative_position_id = AST_bae_trait_combat_system_integration
		position = { x = 0 y = 1 }
		all_parents = { AST_bae_trait_combat_system_integration }

		limit_to_equipment_type = { mio_cat_frigates mio_cat_destroyers }
		equipment_bonus = {
			armor_value = 0.07
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_helo_deck_integration
		name = AST_bae_trait_helo_deck_integration
		icon = GFX_generic_mio_trait_icon_heli_operator_anti_air_attack

		relative_position_id = AST_bae_trait_sensor_suite_fusion
		position = { x = -1 y = 1 }
		all_parents = { AST_bae_trait_sensor_suite_fusion }

		limit_to_equipment_type = { helicopter_operator }
		equipment_bonus = {
			anti_air_attack = 0.03
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_patrol_endurance
		name = AST_bae_trait_patrol_endurance
		icon = GFX_generic_mio_trait_icon_small_ship_range

		relative_position_id = AST_bae_trait_patrol_hull_form
		position = { x = 0 y = 1 }
		all_parents = { AST_bae_trait_patrol_hull_form }

		limit_to_equipment_type = { mio_cat_only_small_ships }

		equipment_bonus = {
			naval_range = 0.10
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_surface_logistics
		name = AST_bae_trait_surface_logistics
		icon = GFX_generic_mio_trait_icon_task

		relative_position_id = AST_bae_trait_sensor_suite_fusion
		position = { x = 1 y = 1 }
		all_parents = { AST_bae_trait_sensor_suite_fusion }

		limit_to_equipment_type = { mio_cat_only_small_ships mio_cat_frigates mio_cat_destroyers }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_crew_systems_robust
		name = AST_bae_trait_crew_systems_robust
		icon = GFX_generic_mio_trait_icon_reliability
		relative_position_id = AST_bae_trait_hull_reinforcement
		position = { x = 0 y = 1 }
		all_parents = { AST_bae_trait_hull_reinforcement }

		limit_to_equipment_type = { mio_cat_frigates mio_cat_destroyers }
		equipment_bonus = {
			reliability = 0.08
			max_organisation = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_strix_vtol
		name = AST_bae_trait_strix_vtol
		icon = GFX_generic_mio_trait_icon_uav_range
		position = { x = 7 y = 0 }

		limit_to_equipment_type = { mio_cat_eq_only_uav }
		equipment_bonus = {
			air_range = 0.08
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_uav_payload_modularity
		name = AST_bae_trait_uav_payload_modularity
		icon = GFX_generic_mio_trait_icon_uav_air_ground_attack

		relative_position_id = AST_bae_trait_strix_vtol
		position = { x = -1 y = 1 }
		all_parents = { AST_bae_trait_strix_vtol }

		limit_to_equipment_type = { mio_cat_eq_only_uav }
		equipment_bonus = {
			air_ground_attack = 0.06
			air_agility = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_autonomy_stack
		name = AST_bae_trait_autonomy_stack
		icon = GFX_generic_mio_trait_icon_research

		relative_position_id = AST_bae_trait_strix_vtol
		position = { x = 1 y = 1 }
		all_parents = { AST_bae_trait_strix_vtol }

		limit_to_equipment_type = { mio_cat_eq_only_uav }
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_uav_datalink_integration
		name = AST_bae_trait_uav_datalink_integration
		icon = GFX_generic_mio_trait_icon_surface_detection

		relative_position_id = AST_bae_trait_strix_vtol
		position = { x = 0 y = 2 }
		all_parents = { AST_bae_trait_uav_payload_modularity AST_bae_trait_autonomy_stack }

		limit_to_equipment_type = { mio_cat_eq_only_uav helicopter_operator }

		equipment_bonus = {
			surface_detection = 0.06
			air_agility = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_shipborne_aviation_support
		name = AST_bae_trait_shipborne_aviation_support
		icon = GFX_generic_mio_trait_icon_heli_operator_anti_air_attack

		relative_position_id = AST_bae_trait_uav_datalink_integration
		position = { x = 2 y = 0 }
		all_parents = { AST_bae_trait_autonomy_stack }

		limit_to_equipment_type = { helicopter_operator }

		equipment_bonus = {
			reliability = 0.03
			anti_air_attack = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_uav_maintenance_cells
		name = AST_bae_trait_uav_maintenance_cells
		icon = GFX_generic_mio_trait_icon_uav_reliability

		relative_position_id = AST_bae_trait_uav_payload_modularity
		position = { x = 0 y = 1 }
		all_parents = { AST_bae_trait_uav_payload_modularity }

		limit_to_equipment_type = { mio_cat_eq_only_uav }
		equipment_bonus = {
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_uav_launch_recovery
		name = AST_bae_trait_uav_launch_recovery
		icon = GFX_generic_mio_trait_icon_air_range
		relative_position_id = AST_bae_trait_uav_datalink_integration
		position = { x = 0 y = 1 }
		all_parents = { AST_bae_trait_uav_datalink_integration }

		limit_to_equipment_type = { mio_cat_eq_only_uav helicopter_operator }
		equipment_bonus = {
			air_range = 0.05
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_swarm_coordination
		name = AST_bae_trait_swarm_coordination
		icon = GFX_generic_mio_trait_icon_uav_air_attack

		relative_position_id = AST_bae_trait_autonomy_stack
		position = { x = 0 y = 2 }
		all_parents = { AST_bae_trait_autonomy_stack }

		limit_to_equipment_type = { mio_cat_eq_only_uav }
		equipment_bonus = {
			air_attack = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_deck_traffic_management
		name = AST_bae_trait_deck_traffic_management
		icon = GFX_generic_mio_trait_icon_heli_operator_reliability
		relative_position_id = AST_bae_trait_shipborne_aviation_support
		position = { x = 0 y = 1 }
		all_parents = { AST_bae_trait_shipborne_aviation_support }

		limit_to_equipment_type = { helicopter_operator }

		equipment_bonus = {
			reliability = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_bae_trait_maritime_uav_ops_center
		name = AST_bae_trait_maritime_uav_ops_center
		icon = GFX_generic_mio_trait_icon_task
		relative_position_id = AST_bae_trait_uav_datalink_integration
		position = { x = -1 y = 2 }
		all_parents = { AST_bae_trait_uav_datalink_integration }

		limit_to_equipment_type = { mio_cat_eq_only_uav }
		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}


# Aircraft

AST_asta_air_manufacturer = {
	allowed = { original_tag = AST }
	name = AST_asta_air_manufacturer
	icon = GFX_idea_asta_company

	equipment_type = {
		mio_cat_eq_only_light_aircraft
		mio_cat_eq_only_uav
		mio_cat_eq_only_transport
	}

	research_categories = {
		CAT_air_eqp
	}

	tree_header_text = {
		text = "Airframe Assembly & Sustainment"
		x = 2
	}

	tree_header_text = {
		text = "Uncrewed Targets & Flight Test Systems"
		x = 7
	}
	initial_trait = {
		name = AST_asta_company_trait

		equipment_bonus = {
			maximum_speed = 0.03
			reliability = 0.03
			build_cost_ic = -0.02
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
		}
	}
	trait = {
		token = AST_asta_trait_bend_built_frames
		name = AST_asta_trait_bend_built_frames
		icon = GFX_generic_mio_trait_icon_reliability
		position = { x = 2 y = 0 }

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
			mio_cat_eq_only_transport
		}

		equipment_bonus = {
			reliability = 0.04
			max_strength = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_hornet_assembly_precision
		name = AST_asta_trait_hornet_assembly_precision
		icon = GFX_generic_mio_trait_icon_light_aircraft_agility

		relative_position_id = AST_asta_trait_bend_built_frames
		position = { x = 2 y = 1 }
		all_parents = { AST_asta_trait_bend_built_frames }

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			air_agility = 0.03
			air_defence = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_nomad_stol_heritage
		name = AST_asta_trait_nomad_stol_heritage
		icon = GFX_generic_mio_trait_icon_transport_airplane_range

		relative_position_id = AST_asta_trait_bend_built_frames
		position = { x = 1 y = 1 }
		all_parents = { AST_asta_trait_bend_built_frames }

		limit_to_equipment_type = {
			mio_cat_eq_only_transport
		}

		equipment_bonus = {
			maximum_speed = 0.01
			air_range = 0.03
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_integrated_avionics_looms
		name = AST_asta_trait_integrated_avionics_looms
		icon = GFX_generic_mio_trait_icon_reliability

		relative_position_id = AST_asta_trait_bend_built_frames
		position = { x = -1 y = 1 }
		all_parents = { AST_asta_trait_bend_built_frames }

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
			mio_cat_eq_only_transport
		}

		equipment_bonus = {
			reliability = 0.03
			weight = -0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_weight_balance_discipline
		name = AST_asta_trait_weight_balance_discipline
		icon = GFX_generic_mio_trait_icon_light_aircraft_speed

		relative_position_id = AST_asta_trait_hornet_assembly_precision
		position = { x = 0 y = 1 }
		all_parents = { AST_asta_trait_hornet_assembly_precision }

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			air_agility = 0.02
			maximum_speed = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_structural_test_bays
		name = AST_asta_trait_structural_test_bays
		icon = GFX_generic_mio_trait_icon_research

		relative_position_id = AST_asta_trait_integrated_avionics_looms
		position = { x = 0 y = 1 }
		all_parents = { AST_asta_trait_integrated_avionics_looms }

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_depot_sustainment_flow
		name = AST_asta_trait_depot_sustainment_flow
		icon = GFX_generic_mio_trait_icon_production_capacity

		relative_position_id = AST_asta_trait_integrated_avionics_looms
		position = { x = 1 y = 1 }
		all_parents = { AST_asta_trait_integrated_avionics_looms }

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
			mio_cat_eq_only_transport
		}

		production_bonus = {
			production_capacity_factor = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_shop_floor_kitting
		name = AST_asta_trait_shop_floor_kitting
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		relative_position_id = AST_asta_trait_depot_sustainment_flow
		position = { x = 1 y = 1 }
		all_parents = { AST_asta_trait_depot_sustainment_flow }

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
			mio_cat_eq_only_transport
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_composite_repairs_cell
		name = AST_asta_trait_composite_repairs_cell
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		relative_position_id = AST_asta_trait_shop_floor_kitting
		position = { x = 0 y = 1 }
		all_parents = { AST_asta_trait_shop_floor_kitting }

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
			mio_cat_eq_only_transport
		}

		equipment_bonus = {
			build_cost_ic = -0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_fleet_health_analytics
		name = AST_asta_trait_fleet_health_analytics
		icon = GFX_generic_mio_trait_icon_funds

		relative_position_id = AST_asta_trait_structural_test_bays
		position = { x = 0 y = 1 }
		all_parents = { AST_asta_trait_structural_test_bays }

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
			mio_cat_eq_only_transport
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.04
			military_industrial_organization_research_bonus = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_quality_circle_program
		name = AST_asta_trait_quality_circle_program
		icon = GFX_generic_mio_trait_icon_research

		relative_position_id = AST_asta_trait_composite_repairs_cell
		position = { x = 0 y = 2 }
		all_parents = { AST_asta_trait_composite_repairs_cell AST_asta_trait_final_assembly_integration_line }

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
			mio_cat_eq_only_transport
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
			military_industrial_organization_funds_gain = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_final_assembly_integration_line
		name = AST_asta_trait_final_assembly_integration_line
		icon = GFX_generic_mio_trait_icon_light_aircraft_buildcost

		relative_position_id = AST_asta_trait_quality_circle_program
		position = { x = 1 y = -1 }
		all_parents = {
			AST_asta_trait_guidance_systems_calibration
			AST_asta_trait_data_link_hardening
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			build_cost_ic = -0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_local_subcontract_network
		name = AST_asta_trait_local_subcontract_network
		icon = GFX_generic_mio_trait_icon_resources

		relative_position_id = AST_asta_trait_woomera_trial_craft
		position = { x = -1 y = 1 }

		all_parents = {
			AST_asta_trait_woomera_trial_craft
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
			mio_cat_eq_only_transport
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_jindivik_telemetry_bus
		name = AST_asta_trait_jindivik_telemetry_bus
		icon = GFX_generic_mio_trait_icon_uav_air_attack
		position = { x = 7 y = 0 }

		limit_to_equipment_type = {
			mio_cat_eq_only_uav
		}

		equipment_bonus = {
			air_attack = 0.06
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_turana_control_logic
		name = AST_asta_trait_turana_control_logic
		icon = GFX_generic_mio_trait_icon_uav_agility

		relative_position_id = AST_asta_trait_jindivik_telemetry_bus
		position = { x = 2 y = 1 }
		all_parents = { AST_asta_trait_jindivik_telemetry_bus }

		limit_to_equipment_type = {
			mio_cat_eq_only_uav
		}

		equipment_bonus = {
			air_agility = 0.03
			air_range = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_woomera_trial_craft
		name = AST_asta_trait_woomera_trial_craft
		icon = GFX_generic_mio_trait_icon_research

		relative_position_id = AST_asta_trait_jindivik_telemetry_bus
		position = { x = -1 y = 1 }
		all_parents = {
			AST_asta_trait_jindivik_telemetry_bus
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_uav
			mio_cat_eq_only_light_aircraft
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_instrumented_airframes
		name = AST_asta_trait_instrumented_airframes
		icon = GFX_generic_mio_trait_icon_light_aircraft_air_ground_attack

		relative_position_id = AST_asta_trait_woomera_trial_craft
		position = { x = 0 y = 1 }
		all_parents = { AST_asta_trait_woomera_trial_craft }

		limit_to_equipment_type = {
			mio_cat_eq_only_light_aircraft
		}

		equipment_bonus = {
			air_ground_attack = 0.08
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_quick_turn_sortie_prep
		name = AST_asta_trait_quick_turn_sortie_prep
		icon = GFX_generic_mio_trait_icon_production_capacity

		relative_position_id = AST_asta_trait_woomera_trial_craft
		position = { x = 1 y = 1 }
		all_parents = { AST_asta_trait_woomera_trial_craft }

		limit_to_equipment_type = {
			mio_cat_eq_only_uav
		}

		production_bonus = {
			production_capacity_factor = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_reusable_target_protocols
		name = AST_asta_trait_reusable_target_protocols
		icon = GFX_generic_mio_trait_icon_uav_reliability

		relative_position_id = AST_asta_trait_quick_turn_sortie_prep
		position = { x = 0 y = 1 }
		all_parents = { AST_asta_trait_quick_turn_sortie_prep }

		limit_to_equipment_type = {
			mio_cat_eq_only_uav
		}

		equipment_bonus = {
			reliability = 0.04
			build_cost_ic = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_data_link_hardening
		name = AST_asta_trait_data_link_hardening
		icon = GFX_generic_mio_trait_icon_uav_defense

		relative_position_id = AST_asta_trait_reusable_target_protocols
		position = { x = -1 y = 1 }
		all_parents = { AST_asta_trait_reusable_target_protocols }

		limit_to_equipment_type = {
			mio_cat_eq_only_uav
		}

		equipment_bonus = {
			air_defence = 0.08
			air_agility = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_modular_payload_trays
		name = AST_asta_trait_modular_payload_trays
		icon = GFX_generic_mio_trait_icon_uav_air_ground_attack

		relative_position_id = AST_asta_trait_reusable_target_protocols
		position = { x = 2 y = 0 }
		all_parents = {
			AST_asta_trait_quick_turn_sortie_prep
			AST_asta_trait_turana_control_logic
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_uav
		}

		equipment_bonus = {
			air_ground_attack = 0.04
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_telemetry_checkout_benches
		name = AST_asta_trait_telemetry_checkout_benches
		icon = GFX_generic_mio_trait_icon_uav_efficiency_gain

		relative_position_id = AST_asta_trait_modular_payload_trays
		position = { x = 0 y = 1 }
		all_parents = { AST_asta_trait_modular_payload_trays }

		limit_to_equipment_type = {
			mio_cat_eq_only_uav
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_long_leg_ferry_kits
		name = AST_asta_trait_long_leg_ferry_kits
		icon = GFX_generic_mio_trait_icon_uav_range

		relative_position_id = AST_asta_trait_telemetry_checkout_benches
		position = { x = 0 y = 1 }
		all_parents = { AST_asta_trait_telemetry_checkout_benches }

		limit_to_equipment_type = {
			mio_cat_eq_only_uav
		}

		equipment_bonus = {
			air_range = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_guidance_systems_calibration
		name = AST_asta_trait_guidance_systems_calibration
		icon = GFX_generic_mio_trait_icon_uav_air_attack
		relative_position_id = AST_asta_trait_instrumented_airframes
		position = { x = -1 y = 2 }
		all_parents = { AST_asta_trait_instrumented_airframes }

		limit_to_equipment_type = {
			mio_cat_eq_only_uav
		}

		equipment_bonus = {
			air_attack = 0.02
			air_agility = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_composite_drone_frames
		name = AST_asta_trait_composite_drone_frames
		icon = GFX_generic_mio_trait_icon_uav_buildcost

		relative_position_id = AST_asta_trait_guidance_systems_calibration
		position = { x = 1 y = 2 }
		all_parents = {
			AST_asta_trait_guidance_systems_calibration
			AST_asta_trait_data_link_hardening
		}

		limit_to_equipment_type = {
			mio_cat_eq_only_uav
		}

		equipment_bonus = {
			build_cost_ic = -0.03
		}

		production_bonus = {
			production_resource_need_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_flight_sciences_cadre
		name = AST_asta_trait_flight_sciences_cadre
		icon = GFX_generic_mio_trait_icon_task

		relative_position_id = AST_asta_trait_reusable_target_protocols
		position = { x = 0 y = 2 }
		all_parents = { AST_asta_trait_autonomous_systems_lab }

		limit_to_equipment_type = {
			mio_cat_eq_only_uav
			mio_cat_eq_only_light_aircraft
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_asta_trait_autonomous_systems_lab
		name = AST_asta_trait_autonomous_systems_lab
		icon = GFX_generic_mio_trait_icon_research

		relative_position_id = AST_asta_trait_woomera_trial_craft
		position = { x = 1 y = 3 }
		all_parents = { AST_asta_trait_reusable_target_protocols }

		limit_to_equipment_type = {
			mio_cat_eq_only_uav
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}
AST_kongsberg_air_manufacturer = {
	allowed = { original_tag = AST }
	name = AST_kongsberg_air_manufacturer
	icon = GFX_idea_kongsberg-logo

	task_capacity = 3

	equipment_type = {
		sam_missile_equipment
	}

	research_categories = {
		CAT_armor_weapons
		CAT_sam
	}

	tree_header_text = { text = "Networked Ground-Based Air Defence" x = 2 }
	tree_header_text = { text = "Mobile SHORAD & Sustainment" x = 7 }

	initial_trait = {
		name = AST_kda_company_trait

		equipment_bonus = {
			air_defence = 0.08
			reliability = 0.06
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.06
		}
	}
	trait = {
		token = AST_kda_trait_modular_fdc_network
		name = AST_kda_trait_modular_fdc_network
		icon = GFX_generic_mio_trait_icon_task
		position = { x = 2 y = 0 }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_amraam_er_integration
		name = AST_kda_trait_amraam_er_integration
		icon = GFX_generic_mio_trait_icon_air_range

		relative_position_id = AST_kda_trait_modular_fdc_network
		position = { x = 2 y = 1 }
		all_parents = { AST_kda_trait_modular_fdc_network }

		equipment_bonus = {
			air_range = 0.05
			air_defence = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_adaptive_engagement_planner
		name = AST_kda_trait_adaptive_engagement_planner
		icon = GFX_generic_mio_trait_icon_research

		relative_position_id = AST_kda_trait_amraam_er_integration
		position = { x = -1 y = 1 }
		all_parents = { AST_kda_trait_amraam_er_integration }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_dual_radar_coordination
		name = AST_kda_trait_dual_radar_coordination
		icon = GFX_generic_mio_trait_icon_air_agility

		relative_position_id = AST_kda_trait_amraam_er_integration
		position = { x = 0 y = 1 }
		all_parents = { AST_kda_trait_amraam_er_integration }

		equipment_bonus = {
			air_agility = 0.06
			air_defence = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_canister_launcher_fabrication
		name = AST_kda_trait_canister_launcher_fabrication
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		relative_position_id = AST_kda_trait_modular_fdc_network
		position = { x = 0 y = 1 }
		all_parents = { AST_kda_trait_modular_fdc_network }

		equipment_bonus = {
			build_cost_ic = -0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_redundant_power_systems
		name = AST_kda_trait_redundant_power_systems
		icon = GFX_generic_mio_trait_icon_reliability

		relative_position_id = AST_kda_trait_dual_radar_coordination
		position = { x = 1 y = 1 }
		all_parents = { AST_kda_trait_dual_radar_coordination }

		equipment_bonus = {
			reliability = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_distributed_fire_nodes
		name = AST_kda_trait_distributed_fire_nodes
		icon = GFX_generic_mio_trait_icon_funds

		relative_position_id = AST_kda_trait_canister_launcher_fabrication
		position = { x = -1 y = 1 }
		all_parents = { AST_kda_trait_canister_launcher_fabrication }

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_australian_sensor_integration
		name = AST_kda_trait_australian_sensor_integration
		icon = GFX_generic_mio_trait_icon_air_attack

		relative_position_id = AST_kda_trait_dual_radar_coordination
		position = { x = -1 y = 1 }
		all_parents = { AST_kda_trait_dual_radar_coordination }

		equipment_bonus = {
			air_attack = 0.08
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_missile_command_bus_upgrade
		name = AST_kda_trait_missile_command_bus_upgrade
		icon = GFX_generic_mio_trait_icon_air_attack

		relative_position_id = AST_kda_trait_dual_radar_coordination
		position = { x = 0 y = 1 }
		all_parents = { AST_kda_trait_dual_radar_coordination }

		equipment_bonus = {
			air_attack = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_local_datalink_encryption
		name = AST_kda_trait_local_datalink_encryption
		icon = GFX_generic_mio_trait_icon_air_defence

		relative_position_id = AST_kda_trait_missile_command_bus_upgrade
		position = { x = 1 y = 1 }
		all_parents = {
			AST_kda_trait_missile_command_bus_upgrade
			AST_kda_trait_redundant_power_systems
		}

		equipment_bonus = {
			air_defence = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_fire_control_simulator
		name = AST_kda_trait_fire_control_simulator
		icon = GFX_generic_mio_trait_icon_research
		relative_position_id = AST_kda_trait_canister_launcher_fabrication
		position = { x = 0 y = 2 }
		all_parents = { AST_kda_trait_canister_launcher_fabrication }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
			military_industrial_organization_funds_gain = 0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_industrial_co_production
		name = AST_kda_trait_industrial_co_production
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		relative_position_id = AST_kda_trait_fire_control_simulator
		position = { x = 1 y = 1 }
		all_parents = {
			AST_kda_trait_fire_control_simulator
			AST_kda_trait_australian_sensor_integration
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.12
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_nomads_deployment_workflow
		name = AST_kda_trait_nomads_deployment_workflow
		icon = GFX_generic_mio_trait_icon_production_capacity
		position = { x = 7 y = 0 }

		production_bonus = {
			production_capacity_factor = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_rapid_reload_protocols
		name = AST_kda_trait_rapid_reload_protocols
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		relative_position_id = AST_kda_trait_nomads_deployment_workflow
		position = { x = 1 y = 1 }
		all_parents = { AST_kda_trait_nomads_deployment_workflow }

		production_bonus = {
			production_efficiency_gain_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_short_range_amraam_adapter
		name = AST_kda_trait_short_range_amraam_adapter
		icon = GFX_generic_mio_trait_icon_air_attack

		relative_position_id = AST_kda_trait_rapid_reload_protocols
		position = { x = -1 y = 1 }
		all_parents = { AST_kda_trait_rapid_reload_protocols }

		equipment_bonus = {
			air_attack = 0.03
			build_cost_ic = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_lightweight_launcher_interfaces
		name = AST_kda_trait_lightweight_launcher_interfaces
		icon = GFX_generic_mio_trait_icon_reliability

		relative_position_id = AST_kda_trait_short_range_amraam_adapter
		position = { x = 1 y = 1 }
		all_parents = { AST_kda_trait_short_range_amraam_adapter }

		equipment_bonus = {
			reliability = 0.03
			build_cost_ic = -0.01
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_field_assembly_workshops
		name = AST_kda_trait_field_assembly_workshops
		icon = GFX_generic_mio_trait_icon_production_capacity

		relative_position_id = AST_kda_trait_lightweight_launcher_interfaces
		position = { x = -1 y = 1 }
		all_parents = { AST_kda_trait_lightweight_launcher_interfaces }

		production_bonus = {
			production_capacity_factor = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_australian_maintenance_partnership
		name = AST_kda_trait_australian_maintenance_partnership
		icon = GFX_generic_mio_trait_icon_task

		relative_position_id = AST_kda_trait_field_assembly_workshops
		position = { x = -3 y = 1 }
		all_parents = {
			AST_kda_trait_field_assembly_workshops
			AST_kda_trait_industrial_co_production
			AST_kda_trait_local_datalink_encryption
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_composite_canister_sealing
		name = AST_kda_trait_composite_canister_sealing
		icon = GFX_generic_mio_trait_icon_reliability

		relative_position_id = AST_kda_trait_field_assembly_workshops
		position = { x = 1 y = 1 }
		all_parents = { AST_kda_trait_field_assembly_workshops }

		equipment_bonus = {
			reliability = 0.03
			build_cost_ic = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_mobile_command_shelter
		name = AST_kda_trait_mobile_command_shelter
		icon = GFX_generic_mio_trait_icon_air_defence

		relative_position_id = AST_kda_trait_composite_canister_sealing
		position = { x = -2 y = 1 }
		all_parents = {
			AST_kda_trait_composite_canister_sealing
			AST_kda_trait_australian_maintenance_partnership
		}

		equipment_bonus = {
			air_defence = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_sustainment_analytics_suite
		name = AST_kda_trait_sustainment_analytics_suite
		icon = GFX_generic_mio_trait_icon_funds

		relative_position_id = AST_kda_trait_mobile_command_shelter
		position = { x = -1 y = 1 }
		all_parents = { AST_kda_trait_mobile_command_shelter }

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_australian_supply_chain_hub
		name = AST_kda_trait_australian_supply_chain_hub
		icon = GFX_generic_mio_trait_icon_resources

		relative_position_id = AST_kda_trait_mobile_command_shelter
		position = { x = 1 y = 1 }
		all_parents = { AST_kda_trait_mobile_command_shelter }

		production_bonus = {
			production_resource_need_factor = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_quick_refit_teams
		name = AST_kda_trait_quick_refit_teams
		icon = GFX_generic_mio_trait_icon_task

		relative_position_id = AST_kda_trait_australian_supply_chain_hub
		position = { x = -1 y = 1 }
		all_parents = {
			AST_kda_trait_australian_supply_chain_hub
			AST_kda_trait_sustainment_analytics_suite
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = AST_kda_trait_modular_export_variant
		name = AST_kda_trait_modular_export_variant
		icon = GFX_generic_mio_trait_icon_air_defence

		relative_position_id = AST_kda_trait_quick_refit_teams
		position = { x = 0 y = 1 }
		all_parents = { AST_kda_trait_quick_refit_teams }

		equipment_bonus = {
			air_defence = 0.03
			build_cost_ic = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

AST_amc_air_manufacturer = {
	allowed = { original_tag = AST }
	icon = GFX_idea_australian_missile_company
	name = AST_amc_air_manufacturer
	available = {
		if = {
			limit = { has_dlc = "Gotterdammerung" }
			OR = {
				AND = {
					AST = {
						has_tech = glcm3
						has_tech = SAM3
					}
				}
				AND = {
					AST = {
						has_tech = irbm3
						has_tech = ICBM3
					}
				}
			}
		}
		else = {
			OR = {
				AND = {
					AST = {
						has_tech = GLCM3_non_got
						has_tech = SAM2_non_got
					}
				}
				AND = {
					AST = {
						has_tech = irbm3
						has_tech = ICBM3
					}
				}
			}
		}
	}

	equipment_type = {
		sam_missile_equipment
		guided_missile_equipment
		ballistic_missile_equipment
	}

	research_categories = {
		CAT_missile
	}

	tree_header_text = { text = "Long-Range & Strategic Strike" x = 2 }
	tree_header_text = { text = "Tactical & Modular Missile Systems" x = 7 }

	initial_trait = {
		name = AST_amc_company_trait

		equipment_bonus = {
			air_attack = 0.15
			reliability = 0.10
		}

		production_bonus = {
			production_capacity_factor = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.06
		}
	}
	trait = {
		token = AST_amc_trait_strategic_flight_envelope
		name = AST_amc_trait_strategic_flight_envelope
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = 2 y = 0 }

		equipment_bonus = {
			air_range = 0.05
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
	trait = {
		token = AST_amc_trait_precision_warhead_tuning
		name = AST_amc_trait_precision_warhead_tuning
		icon = GFX_generic_mio_trait_icon_air_attack

		relative_position_id = AST_amc_trait_strategic_flight_envelope
		position = { x = 2 y = 1 }
		all_parents = { AST_amc_trait_strategic_flight_envelope }

		equipment_bonus = {
			air_attack = 0.04
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
	trait = {
		token = AST_amc_trait_composite_airframe_materials
		name = AST_amc_trait_composite_airframe_materials
		icon = GFX_generic_mio_trait_icon_reliability

		relative_position_id = AST_amc_trait_strategic_flight_envelope
		position = { x = -2 y = 1 }
		all_parents = { AST_amc_trait_strategic_flight_envelope }

		equipment_bonus = {
			reliability = 0.03
			weight = -0.01
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
	trait = {
		token = AST_amc_trait_integrated_guidance_suite
		name = AST_amc_trait_integrated_guidance_suite
		icon = GFX_generic_mio_trait_icon_air_attack

		relative_position_id = AST_amc_trait_precision_warhead_tuning
		position = { x = -2 y = 1 }
		all_parents = {
			AST_amc_trait_precision_warhead_tuning
			AST_amc_trait_composite_airframe_materials
		}

		equipment_bonus = {
			air_attack = 0.02
			reliability = 0.02
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
	trait = {
		token = AST_amc_trait_co_development_alliances
		name = AST_amc_trait_co_development_alliances
		icon = GFX_generic_mio_trait_icon_research

		relative_position_id = AST_amc_trait_integrated_guidance_suite
		position = { x = 0 y = 1 }
		all_parents = { AST_amc_trait_integrated_guidance_suite }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
	trait = {
		token = AST_amc_trait_export_ready_certification
		name = AST_amc_trait_export_ready_certification
		icon = GFX_generic_mio_trait_icon_production_capacity

		relative_position_id = AST_amc_trait_co_development_alliances
		position = { x = 0 y = 1 }
		all_parents = { AST_amc_trait_co_development_alliances }

		production_bonus = {
			production_capacity_factor = 0.02
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
	trait = {
		token = AST_amc_trait_redundant_avionics_architecture
		name = AST_amc_trait_redundant_avionics_architecture
		icon = GFX_generic_mio_trait_icon_reliability

		relative_position_id = AST_amc_trait_export_ready_certification
		position = { x = 0 y = 1 }
		all_parents = { AST_amc_trait_export_ready_certification }

		equipment_bonus = {
			reliability = 0.03
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
	trait = {
		token = AST_amc_trait_long_range_test_facilities
		name = AST_amc_trait_long_range_test_facilities
		icon = GFX_generic_mio_trait_icon_task

		relative_position_id = AST_amc_trait_redundant_avionics_architecture
		position = { x = 0 y = 1 }
		all_parents = { AST_amc_trait_redundant_avionics_architecture }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
	trait = {
		token = AST_amc_trait_tactical_launcher_modularity
		name = AST_amc_trait_tactical_launcher_modularity
		icon = GFX_generic_mio_trait_icon_build_cost_ic
		position = { x = 7 y = 0 }

		equipment_bonus = {
			air_attack = 0.02
			build_cost_ic = -0.02
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
	trait = {
		token = AST_amc_trait_rapid_rearm_procedures
		name = AST_amc_trait_rapid_rearm_procedures
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		relative_position_id = AST_amc_trait_tactical_launcher_modularity
		position = { x = 1 y = 1 }
		all_parents = { AST_amc_trait_tactical_launcher_modularity }

		production_bonus = {
			production_efficiency_gain_factor = 0.05
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
	trait = {
		token = AST_amc_trait_modular_warhead_kits
		name = AST_amc_trait_modular_warhead_kits
		icon = GFX_generic_mio_trait_icon_strategic_attack

		relative_position_id = AST_amc_trait_tactical_launcher_modularity
		position = { x = -1 y = 1 }
		all_parents = { AST_amc_trait_tactical_launcher_modularity }

		equipment_bonus = {
			air_attack = 0.03
			strategic_attack = 0.06
			build_cost_ic = -0.01
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
	trait = {
		token = AST_amc_trait_localised_component_supply
		name = AST_amc_trait_localised_component_supply
		icon = GFX_generic_mio_trait_icon_resources

		relative_position_id = AST_amc_trait_modular_warhead_kits
		position = { x = 1 y = 1 }
		all_parents = {
			AST_amc_trait_modular_warhead_kits
			AST_amc_trait_rapid_rearm_procedures
		}

		production_bonus = {
			production_resource_need_factor = -0.05
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
	trait = {
		token = AST_amc_trait_test_diagnostics_lab
		name = AST_amc_trait_test_diagnostics_lab
		icon = GFX_generic_mio_trait_icon_research

		relative_position_id = AST_amc_trait_localised_component_supply
		position = { x = 0 y = 1 }
		all_parents = { AST_amc_trait_localised_component_supply }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
	trait = {
		token = AST_amc_trait_field_maintenance_teams
		name = AST_amc_trait_field_maintenance_teams
		icon = GFX_generic_mio_trait_icon_task

		relative_position_id = AST_amc_trait_test_diagnostics_lab
		position = { x = 0 y = 1 }
		all_parents = { AST_amc_trait_test_diagnostics_lab }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
	trait = {
		token = AST_amc_trait_cost_effective_propulsion_builds
		name = AST_amc_trait_cost_effective_propulsion_builds
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		relative_position_id = AST_amc_trait_field_maintenance_teams
		position = { x = 0 y = 1 }
		all_parents = { AST_amc_trait_field_maintenance_teams }

		equipment_bonus = {
			build_cost_ic = -0.03
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
	trait = {
		token = AST_amc_trait_hardened_electronics_packaging
		name = AST_amc_trait_hardened_electronics_packaging
		icon = GFX_generic_mio_trait_icon_reliability

		relative_position_id = AST_amc_trait_cost_effective_propulsion_builds
		position = { x = 0 y = 1 }
		all_parents = { AST_amc_trait_cost_effective_propulsion_builds }

		equipment_bonus = {
			reliability = 0.06
		}

		on_complete = {
			if = {
				limit = { check_variable = { free_trait_picks > 0 } }
				add_to_variable = { free_trait_picks = -1 }
			}
			else = { FROM = { small_expenditure = yes } }
		}

		ai_will_do = {
			base = 10
			modifier = { factor = 0 check_variable = { FROM.interest_rate > 8 } }
		}
	}
}




