#Author(s): Borgers, TheGeneral

## MATERIAL DESIGNERS ##

## Borgers thoughts ##

#Eurofighter - should be medium, to fit ingame focus on air supperiority and second focus on multifunctionality
#panavia - also medium only, but for rec, cas and naval ability, if possible 
#heanel - link to event avout an aditional Company want to present a alternative to HK about 2008
#artec - specialist for mulitfunktionality ifv, afv, light, aa, spart / increase production effecience, increase speed, reduce armor, output costs increase
#Flensburger Fahrzeug - apc / cheeper then others reduce armor and breakthrogh
#armored cars- good quality util, high armor, slow, expensive

GER_cg_haenel = {
	allowed = { original_tag = GER }
	visible = {
		date > 2008.01.01
	}
	icon = GFX_GER_haenel
	name = GER_cg_haenel
	include = GER_generic_small_arms_manufacturer

	equipment_type = {
		Inf_equipment
	}

	research_categories = {
		CAT_inf
	}

	initial_trait = {
		name = GER_cg_haenel_trait

		equipment_bonus = {
			ap_attack = 0.15
			breakthrough = 0.10
			reliability = -0.05
			build_cost_ic = 0.05
		}
	}
}
GER_dynamit_nobel = {
	allowed = { original_tag = GER }
	icon = GFX_idea_Dynamit_Nobel
	name = GER_dynamit_nobel_name

	equipment_type = {
		L_AT_Equipment
		H_AT_Equipment
	}

	research_categories = {
		CAT_support_weapons
		CAT_l_at
		CAT_armour
		CAT_fortifications
	}

	tree_header_text = {
		text = GER_mio_header_precision_systems
		x = 2
	}

	tree_header_text = {
		text = GER_mio_header_scalable_production
		x = 5
	}

	tree_header_text = {
		text = GER_mio_header_future_tech
		x = 8
	}

	initial_trait = {
		name = GER_dynamit_nobel_trait

		equipment_bonus = {
			soft_attack = 0.15
			defense = 0.10
			hard_attack = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.08
		}
		#on_complete = {
		#	if = {
		#		limit = {
		#			check_variable = { free_trait_picks > 0 }
		#		}
		#		add_to_variable = { free_trait_picks = -1 }
		#	}
		#	else = {
		#		FROM = {
		#			small_expenditure = yes
		#		}
		#	}
		#}

	}
	trait = {
		token = GER_mio_trait_dynamit_smart_optic_stabilizer
		name = GER_mio_trait_dynamit_smart_optic_stabilizer
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 0 }

		equipment_bonus = {
			reliability = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_multi_mode_warhead
		name = GER_mio_trait_dynamit_multi_mode_warhead
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 2 y = 0 }

		equipment_bonus = {
			ap_attack = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_urban_reload_warm_up
		name = GER_mio_trait_dynamit_urban_reload_warm_up
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 0 y = 1 }
		relative_position_id = GER_mio_trait_dynamit_smart_optic_stabilizer
		all_parents = { GER_mio_trait_dynamit_smart_optic_stabilizer GER_mio_trait_dynamit_multi_mode_warhead }

		equipment_bonus = {
			soft_attack = 0.05
			reliability = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_explosives_line_automation
		name = GER_mio_trait_dynamit_explosives_line_automation
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 2 y = 1 }
		relative_position_id = GER_mio_trait_dynamit_smart_optic_stabilizer
		all_parents = { GER_mio_trait_dynamit_smart_optic_stabilizer GER_mio_trait_dynamit_multi_mode_warhead }

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_advanced_fuze_control
		name = GER_mio_trait_dynamit_advanced_fuze_control
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 4 y = 1 }
		relative_position_id = GER_mio_trait_dynamit_smart_optic_stabilizer
		all_parents = { GER_mio_trait_dynamit_smart_optic_stabilizer GER_mio_trait_dynamit_multi_mode_warhead }

		equipment_bonus = {
			hard_attack = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_digital_testbed_network
		name = GER_mio_trait_dynamit_digital_testbed_network
		icon = GFX_generic_mio_trait_icon_supply_consumption

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_dynamit_smart_optic_stabilizer
		all_parents = { GER_mio_trait_dynamit_urban_reload_warm_up GER_mio_trait_dynamit_explosives_line_automation }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.07
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_design_continuity_board
		name = GER_mio_trait_dynamit_design_continuity_board
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 2 y = 2 }
		relative_position_id = GER_mio_trait_dynamit_smart_optic_stabilizer
		all_parents = { GER_mio_trait_dynamit_advanced_fuze_control GER_mio_trait_dynamit_explosives_line_automation }

		organization_modifier = {
			military_industrial_organization_design_team_change_cost = -0.35
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_night_vision_compatible
		name = GER_mio_trait_dynamit_night_vision_compatible
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 3 }
		relative_position_id = GER_mio_trait_dynamit_smart_optic_stabilizer
		all_parents = { GER_mio_trait_dynamit_digital_testbed_network }
		mutually_exclusive = { GER_mio_trait_dynamit_thermal_imaging_targeting }

		equipment_bonus = {
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_thermal_imaging_targeting
		name = GER_mio_trait_dynamit_thermal_imaging_targeting
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 2 y = 3 }
		relative_position_id = GER_mio_trait_dynamit_smart_optic_stabilizer
		all_parents = { GER_mio_trait_dynamit_digital_testbed_network }
		mutually_exclusive = { GER_mio_trait_dynamit_night_vision_compatible }

		equipment_bonus = {
			breakthrough = 0.07
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_smart_digital_sight
		name = GER_mio_trait_dynamit_smart_digital_sight
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 0 y = 4 }
		relative_position_id = GER_mio_trait_dynamit_smart_optic_stabilizer
		any_parent = { GER_mio_trait_dynamit_night_vision_compatible GER_mio_trait_dynamit_thermal_imaging_targeting }

		equipment_bonus = {
			soft_attack = 0.05
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_rapid_reload_system
		name = GER_mio_trait_dynamit_rapid_reload_system
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 3 y = 3 }
		relative_position_id = GER_mio_trait_dynamit_smart_optic_stabilizer
		all_parents = {  GER_mio_trait_dynamit_design_continuity_board }

		equipment_bonus = {
			soft_attack = 0.06
			reliability = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_extended_range
		name = GER_mio_trait_dynamit_extended_range
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 2 y = 6 }
		relative_position_id = GER_mio_trait_dynamit_smart_optic_stabilizer
		all_parents = {  GER_mio_trait_dynamit_urban_breach_rounds GER_mio_trait_dynamit_lightweight_launcher_frame }

		equipment_bonus = {
			breakthrough = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_lightweight_launcher_frame
		name = GER_mio_trait_dynamit_lightweight_launcher_frame
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 1 y = 5 }
		relative_position_id = GER_mio_trait_dynamit_smart_optic_stabilizer
		all_parents = {  GER_mio_trait_dynamit_urban_breach_rounds GER_mio_trait_dynamit_smart_digital_sight }

		equipment_bonus = {
			build_cost_ic = -0.15
			reliability = -0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_compact_guidance_unit
		name = GER_mio_trait_dynamit_compact_guidance_unit
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 0 y = 6 }
		relative_position_id = GER_mio_trait_dynamit_smart_optic_stabilizer
		all_parents = {  GER_mio_trait_dynamit_urban_breach_rounds GER_mio_trait_dynamit_smart_digital_sight }

		equipment_bonus = {
			ap_attack = 0.04
			hard_attack = 0.07
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_urban_breach_rounds
		name = GER_mio_trait_dynamit_urban_breach_rounds
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 3 y = 4 }
		relative_position_id = GER_mio_trait_dynamit_smart_optic_stabilizer
		any_parent = { GER_mio_trait_dynamit_night_vision_compatible GER_mio_trait_dynamit_thermal_imaging_targeting }
		all_parents = { GER_mio_trait_dynamit_rapid_reload_system }
		equipment_bonus = {
			hard_attack = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_compact_warhead
		name = GER_mio_trait_dynamit_compact_warhead
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 8 y = 0 }

		equipment_bonus = {
			hard_attack = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_rgw_expansion
		name = GER_mio_trait_dynamit_rgw_expansion
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 1 y = 2 }
		relative_position_id = GER_mio_trait_dynamit_compact_warhead
		all_parents = { GER_mio_trait_dynamit_tube_adapt_system  }

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_explosive_rd
		name = GER_mio_trait_dynamit_explosive_rd
		icon = GFX_generic_mio_trait_icon_entrenchment

		position = { x = -1 y = 5 }
		relative_position_id = GER_mio_trait_dynamit_compact_warhead
		all_parents = { GER_mio_trait_dynamit_compact_warhead GER_mio_trait_dynamit_legacy_explosive_efficiency }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_anti_drone_retrofit
		name = GER_mio_trait_dynamit_anti_drone_retrofit
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_dynamit_compact_warhead
		all_parents = { GER_mio_trait_dynamit_compact_warhead  }

		equipment_bonus = {
			defense = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_rapid_thermal_cooldown
		name = GER_mio_trait_dynamit_rapid_thermal_cooldown
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = -1 y = 1 }
		relative_position_id = GER_mio_trait_dynamit_compact_warhead
		all_parents = { GER_mio_trait_dynamit_anti_drone_retrofit }

		equipment_bonus = {
			build_cost_ic = -0.06
			reliability = 0.2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_tube_adapt_system
		name = GER_mio_trait_dynamit_tube_adapt_system
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 1 y = 1 }
		relative_position_id = GER_mio_trait_dynamit_compact_warhead
		all_parents = { GER_mio_trait_dynamit_compact_warhead }

		equipment_bonus = {
			reliability = 0.05
			breakthrough = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_modular_warhead_production_line
		name = GER_mio_trait_dynamit_modular_warhead_production_line
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 0 y = 3 }
		relative_position_id = GER_mio_trait_dynamit_compact_warhead
		all_parents = { GER_mio_trait_dynamit_anti_drone_retrofit }

		production_bonus = {
			production_capacity_factor = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_smart_target_link
		name = GER_mio_trait_dynamit_smart_target_link
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 0 y = 4 }
		relative_position_id = GER_mio_trait_dynamit_compact_warhead
		all_parents = { GER_mio_trait_dynamit_modular_warhead_production_line }

		equipment_bonus = {
			breakthrough = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_hungary_barrel
		name = GER_mio_trait_dynamit_hungary_barrel
		icon = GFX_generic_mio_trait_icon_production_capacity
		special_trait_background = yes

		position = { x = 9 y = 3 }

		available = {
			if = {
				limit = { HUN = { exists = yes } }
				HUN = {
					has_opinion = {
					target = GER
					value > 100
					}
				}
			}
			else = {
				always = yes
			}
		}

		production_bonus = {
			production_capacity_factor = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_hungary_admin_centre
		name = GER_mio_trait_dynamit_hungary_admin_centre
		icon = GFX_generic_mio_trait_icon_conversion_speed
		special_trait_background = yes

		position = { x = 9 y = 4 }

		all_parents = { GER_mio_trait_dynamit_hungary_barrel }

		available = {
			if = {
				limit = { HUN = { exists = yes } }
				HUN = {
					has_opinion = {
					target = GER
					value > 100
					}
				}
			}
			else = {
				always = yes
			}
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_flexible_contract_framework
		name = GER_mio_trait_flexible_contract_framework
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = 5 y = 0 }

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_warhead_facility_expansion
		name = GER_mio_trait_warhead_facility_expansion
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 0 y = 1 }
		relative_position_id = GER_mio_trait_flexible_contract_framework
		all_parents = { GER_mio_trait_flexible_contract_framework }

		production_bonus = {
			production_capacity_factor = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_low_signature
		name = GER_mio_trait_low_signature
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_flexible_contract_framework
		all_parents = { GER_mio_trait_warhead_facility_expansion }

		equipment_bonus = {
			defense = 0.03
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_aluminum_barrel_extrusion
		name = GER_mio_trait_dynamit_aluminum_barrel_extrusion
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = -1 y = 6 }
		relative_position_id = GER_mio_trait_flexible_contract_framework
		all_parents = { GER_mio_trait_low_signature GER_mio_trait_dynamit_lightweight_launcher_frame }

		available = {
			GER = {
				has_resources_in_country = {
					resource = aluminium
					amount > 80
				}
			}
		}

		production_bonus = {
			production_cost_factor = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_reactive_armour_scale_up
		name = GER_mio_trait_dynamit_reactive_armour_scale_up
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = -3 y = 7 }
		relative_position_id = GER_mio_trait_flexible_contract_framework
		all_parents = { GER_mio_trait_dynamit_aluminum_barrel_extrusion GER_mio_trait_dynamit_compact_guidance_unit }

		equipment_bonus = {
			defense = 0.07
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.07
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_stockpile_requilification
		name = GER_mio_trait_stockpile_requilification
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 1 y = 2 }
		relative_position_id = GER_mio_trait_flexible_contract_framework
		all_parents = { GER_mio_trait_warhead_facility_expansion }

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_legacy_explosive_efficiency
		name = GER_mio_trait_dynamit_legacy_explosive_efficiency
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = 1 y = 3 }
		relative_position_id = GER_mio_trait_flexible_contract_framework
		all_parents = { GER_mio_trait_stockpile_requilification }

		production_bonus = {
			production_capacity_factor = 0.07
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_chemical_mixer_automation
		name = GER_mio_trait_dynamit_chemical_mixer_automation
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 0 y = 5 }
		relative_position_id = GER_mio_trait_flexible_contract_framework
		all_parents = { GER_mio_trait_low_signature GER_mio_trait_dynamit_legacy_explosive_efficiency }

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_dynamit_high_pressure_launch_charge
		name = GER_mio_trait_dynamit_high_pressure_launch_charge
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 0 y = 6 }
		relative_position_id = GER_mio_trait_flexible_contract_framework
		all_parents = { GER_mio_trait_dynamit_chemical_mixer_automation GER_mio_trait_dynamit_explosive_rd }

		equipment_bonus = {
			soft_attack = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thermal_tracker_pod
		name = GER_mio_trait_thermal_tracker_pod
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 2 y = 7 }
		relative_position_id = GER_mio_trait_flexible_contract_framework
		all_parents = { GER_mio_trait_dynamit_chemical_mixer_automation GER_mio_trait_dynamit_explosive_rd }

		equipment_bonus = {
			soft_attack = 0.08
			hard_attack = 0.08
			build_cost_ic = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_trial_ramp_up
		name = GER_mio_trait_trial_ramp_up
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 4 y = 6 }
		relative_position_id = GER_mio_trait_flexible_contract_framework
		all_parents = { GER_mio_trait_dynamit_chemical_mixer_automation GER_mio_trait_dynamit_explosive_rd }

		production_bonus = {
			production_capacity_factor = 0.12
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}
GER_heckler_koch_materiel_manufacturer = {
	allowed = { original_tag = GER }
	icon = GFX_idea_HK
	name = GER_heckler_koch_materiel_manufacturer
	include = GER_generic_small_arms_manufacturer

	equipment_type = {
		Inf_equipment
	}

	research_categories = {
		CAT_inf
	}

	initial_trait = {
		name = GER_heckler_koch_materiel_manufacturer_trait

		equipment_bonus = {
			reliability = 0.15
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.05
		}
	}
}

GER_SIG_Sauer_materiel_manufacturer = {
	allowed = { original_tag = GER }
	icon = GFX_idea_SIG_Sauer
	name = GER_SIG_Sauer_materiel_manufacturer_name
	include = GER_generic_small_arms_manufacturer

	equipment_type = {
		Inf_equipment
	}

	research_categories = {
		CAT_inf
	}

	initial_trait = {
		name = GER_SIG_Sauer_materiel_manufacturer_trait

		equipment_bonus = {
			soft_attack = 0.10
			night_penalty = -0.10
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}
	}
}
#not sure where to put CnC else actually
GER_siemens_defence_electronics = {
	name = GER_siemens_defence_electronics
	allowed = { original_tag = GER }
	icon = GFX_idea_GER_siemens

	equipment_type = {
		train_equipment
		cnc_equipment
	}

	research_categories = {
		CAT_infrastructure
		CAT_cnc
	}

	tree_header_text = {
		text = GER_mio_header_mobility
		x = 1
	}

	tree_header_text = {
		text = GER_mio_header_electronics
		x = 7
	}

	initial_trait = {
		name = GER_siemens_defence_electronics_trait

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.03
		}

		equipment_bonus = {
			defense = 0.05
			build_cost_ic = -0.05
		}
	}
	trait = {
		token = GER_mio_trait_siemens_uk_signalling
		name = GER_mio_trait_siemens_uk_signalling
		icon = GFX_generic_mio_trait_icon_unique
		special_trait_background = yes

		position = { x = 6 y = 0 }

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}

		available = {
			if = {
				limit = { ENG = { exists = yes } }
				ENG = {
					has_opinion = {
					target = GER
					value > 100
					}
				}
			}
			else = {
				always = yes
			}
		}

		limit_to_equipment_type = { train_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_adaptive_signal_processor
		name = GER_mio_trait_siemens_adaptive_signal_processor
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = 0 y = 0 }

		equipment_bonus = {
			max_organisation = 0.10
			reliability = 0.05
		}

		limit_to_equipment_type = { cnc_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_high_performance_tsn
		name = GER_mio_trait_siemens_high_performance_tsn
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 1 y = 1 }
		relative_position_id = GER_mio_trait_siemens_adaptive_signal_processor
		all_parents = { GER_mio_trait_siemens_adaptive_signal_processor }

		equipment_bonus = {
			maximum_speed = 0.08
			reliability = 0.03
		}

		limit_to_equipment_type = { cnc_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_fault_tolerant_switch_fabric
		name = GER_mio_trait_siemens_fault_tolerant_switch_fabric
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 2 y = 0 }
		relative_position_id = GER_mio_trait_siemens_adaptive_signal_processor

		equipment_bonus = {
			reliability = 0.12
		}

		limit_to_equipment_type = { cnc_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_real_time_data_bus
		name = GER_mio_trait_siemens_real_time_data_bus
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 4 y = 0 }
		relative_position_id = GER_mio_trait_siemens_adaptive_signal_processor

		equipment_bonus = {
			maximum_speed = 0.10
			max_organisation = 0.05
		}

		limit_to_equipment_type = { cnc_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_cyber_resilient_firmware
		name = GER_mio_trait_siemens_cyber_resilient_firmware
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 3 y = 1 }
		relative_position_id = GER_mio_trait_siemens_adaptive_signal_processor
		all_parents = { GER_mio_trait_siemens_real_time_data_bus GER_mio_trait_siemens_fault_tolerant_switch_fabric }

		equipment_bonus = {
			reliability = 0.08
			max_organisation = 0.03
		}

		limit_to_equipment_type = { cnc_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_modular_plc
		name = GER_mio_trait_siemens_modular_plc
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = 4 y = 2 }
		relative_position_id = GER_mio_trait_siemens_adaptive_signal_processor
		all_parents = {  GER_mio_trait_siemens_high_performance_tsn GER_mio_trait_siemens_cyber_resilient_firmware }

		equipment_bonus = {
			max_organisation = 0.15
		}

		limit_to_equipment_type = { cnc_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_modular_design_philosophy
		name = GER_mio_trait_siemens_modular_design_philosophy
		icon = GFX_generic_mio_trait_icon_supply_consumption

		position = { x = 4 y = 3 }
		relative_position_id = GER_mio_trait_siemens_adaptive_signal_processor
		all_parents = { GER_mio_trait_siemens_modular_plc }

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}

		limit_to_equipment_type = { cnc_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_lean_circuit
		name = GER_mio_trait_siemens_lean_circuit
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_siemens_adaptive_signal_processor
		all_parents = {  GER_mio_trait_siemens_high_performance_tsn GER_mio_trait_siemens_cyber_resilient_firmware }

		production_bonus = {
			production_resource_need_factor = -0.13
		}

		limit_to_equipment_type = { cnc_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_global_rd_synergy
		name = GER_mio_trait_siemens_global_rd_synergy
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = 1 y = 3 }
		relative_position_id = GER_mio_trait_siemens_adaptive_signal_processor
		all_parents = { GER_mio_trait_siemens_lean_circuit }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		limit_to_equipment_type = { cnc_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_digital_twin_assembly
		name = GER_mio_trait_siemens_digital_twin_assembly
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 2 y = 2 }
		relative_position_id = GER_mio_trait_siemens_adaptive_signal_processor
		all_parents = { GER_mio_trait_siemens_cyber_resilient_firmware }

		production_bonus = {
			production_efficiency_gain_factor = 0.15
		}

		limit_to_equipment_type = { cnc_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_automated_quality_inspections
		name = GER_mio_trait_siemens_automated_quality_inspections
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 1 y = 4 }
		relative_position_id = GER_mio_trait_siemens_adaptive_signal_processor
		all_parents = { GER_mio_trait_siemens_global_rd_synergy GER_mio_trait_siemens_digital_twin_assembly }

		equipment_bonus = {
			reliability = 0.05
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.07
			production_resource_penalty_factor = 0.05
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}

		limit_to_equipment_type = { cnc_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_digital_training_labs
		name = GER_mio_trait_siemens_digital_training_labs
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 3 y = 4 }
		relative_position_id = GER_mio_trait_siemens_adaptive_signal_processor
		all_parents = { GER_mio_trait_siemens_modular_design_philosophy GER_mio_trait_siemens_digital_twin_assembly }

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.50
			military_industrial_organization_design_team_change_cost = -0.50
		}

		production_bonus = {
			production_cost_factor = -0.05
		}

		limit_to_equipment_type = { cnc_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_additive_spare_part
		name = GER_mio_trait_siemens_additive_spare_part
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 8 y = 0 }

		production_bonus = {
			production_capacity_factor = 0.20
		}

		limit_to_equipment_type = { train_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_on_demand_tooling
		name = GER_mio_trait_siemens_on_demand_tooling
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 1 y = 1 }
		relative_position_id = GER_mio_trait_siemens_additive_spare_part
		all_parents = { GER_mio_trait_siemens_additive_spare_part }

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		limit_to_equipment_type = { train_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_composite_carbody
		name = GER_mio_trait_siemens_composite_carbody
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 1 y = 4 }
		relative_position_id = GER_mio_trait_siemens_additive_spare_part
		all_parents = { GER_mio_trait_siemens_on_demand_tooling }

		production_bonus = {
			production_resource_need_factor = -0.12
		}

		limit_to_equipment_type = { train_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_ai_maintenance
		name = GER_mio_trait_siemens_ai_maintenance
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 0 y = 3 }
		relative_position_id = GER_mio_trait_siemens_additive_spare_part
		all_parents = { GER_mio_trait_siemens_additive_spare_part }

		available = {
			GER = { has_tech = machine_learning }
		}

		production_bonus = {
			production_resource_penalty_factor = -0.12
		}

		equipment_bonus = {
			build_cost_ic = -0.15
		}

		limit_to_equipment_type = { train_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_vectron_platform
		name = GER_mio_trait_siemens_vectron_platform
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 0 y = 6 }
		relative_position_id = GER_mio_trait_siemens_additive_spare_part
		all_parents = {
			GER_mio_trait_siemens_ai_maintenance
			GER_mio_trait_siemens_regenrative_braking
			GER_mio_trait_siemens_composite_carbody
			GER_mio_trait_siemens_lean_logistics
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.25
		}

		limit_to_equipment_type = { train_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_modular_bogie
		name = GER_mio_trait_siemens_modular_bogie
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = -1 y = 1 }
		relative_position_id = GER_mio_trait_siemens_additive_spare_part
		all_parents = { GER_mio_trait_siemens_additive_spare_part }

		production_bonus = {
			production_resource_need_factor = -0.15
		}

		limit_to_equipment_type = { train_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_regenrative_braking
		name = GER_mio_trait_siemens_regenrative_braking
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = -2 y = 4 }
		relative_position_id = GER_mio_trait_siemens_additive_spare_part
		all_parents = { GER_mio_trait_siemens_modular_bogie }

		production_bonus = {
			production_efficiency_gain_factor = 0.08
		}

		limit_to_equipment_type = { train_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_lean_logistics
		name = GER_mio_trait_siemens_lean_logistics
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = -8 y = 5 }
		relative_position_id = GER_mio_trait_siemens_additive_spare_part
		all_parents = { GER_mio_trait_siemens_lean_circuit }

		production_bonus = {
			production_capacity_factor = 0.12
		}

		limit_to_equipment_type = { train_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_siemens_digital_twin_optimization
		name = GER_mio_trait_siemens_digital_twin_optimization
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = -6 y = 6 }
		relative_position_id = GER_mio_trait_siemens_additive_spare_part
		all_parents = { GER_mio_trait_siemens_lean_logistics GER_mio_trait_siemens_digital_twin_assembly GER_mio_trait_siemens_digital_training_labs }

		production_bonus = {
			production_efficiency_gain_factor = 0.15
		}

		limit_to_equipment_type = { train_equipment }

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}
GER_helsing_se = {
	allowed = { original_tag = GER }
	visible = {
		GER = {
			has_country_flag = ger_helsing_se_founded
		}
	}
	icon = GFX_GER_helsing
	name = GER_helsing_se

	equipment_type = {
		Kamikaze_drone_equipment
	}

	research_categories = {
		CAT_ai
		CAT_drones
	}

	tree_header_text = {
		text = GER_mio_header_hardware
		x = 2
	}

	tree_header_text = {
		text = GER_mio_header_software
		x = 7
	}

	initial_trait = {
		name = GER_helsing_se_trait

		equipment_bonus = {
			build_cost_ic = -0.15
		}

		organization_modifier = {
			military_industrial_organization_size_up_requirement = -3
			military_industrial_organization_research_bonus = 0.10
		}
	}
	trait = {
		token = GER_mio_trait_helsing_composite_airframe
		name = GER_mio_trait_helsing_composite_airframe
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 2 y = 0 }

		equipment_bonus = {
			reliability = 0.12
			build_cost_ic = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_helsing_3d_printed_panels
		name = GER_mio_trait_helsing_3d_printed_panels
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 0 y = 1 }
		relative_position_id = GER_mio_trait_helsing_composite_airframe

		all_parents = {
			GER_mio_trait_helsing_composite_airframe
		}

		available = {
			GER = { has_tech = large_scale_3D_printing }
		}

		equipment_bonus = {
			reliability = 0.05
		}

		production_bonus = {
			production_resource_need_factor = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_helsing_stealth_hull
		name = GER_mio_trait_helsing_stealth_hull
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_helsing_composite_airframe

		all_parents = {
			GER_mio_trait_helsing_3d_printed_panels
		}

		available = {
			GER = { has_tech = stealth_tech_1 }
		}

		equipment_bonus = {
			air_agility = 0.12
			reliability = -0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_helsing_ai_guided_swarm
		name = GER_mio_trait_helsing_ai_guided_swarm
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 6 y = 0 }

		available = {
			GER = { has_tech = machine_learning }
		}

		equipment_bonus = {
			maximum_speed = 0.07
			air_attack = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_helsing_low_coatings
		name = GER_mio_trait_helsing_low_coatings
		icon = GFX_generic_mio_trait_icon_air_agility
		position = { x = -1 y = 1 }
		relative_position_id = GER_mio_trait_helsing_ai_guided_swarm

		all_parents = {
			GER_mio_trait_helsing_ai_guided_swarm
		}

		equipment_bonus = {
			air_agility = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_helsing_jam_resistance
		name = GER_mio_trait_helsing_jam_resistance
		icon = GFX_generic_mio_trait_icon_reliability
		position = { x = 1 y = 1 }
		relative_position_id = GER_mio_trait_helsing_ai_guided_swarm

		all_parents = {
			GER_mio_trait_helsing_ai_guided_swarm
		}

		equipment_bonus = {
			reliability = 0.10
			air_agility = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_helsing_extended_endurance
		name = GER_mio_trait_helsing_extended_endurance
		icon = GFX_generic_mio_trait_icon_air_defence
		position = { x = -1 y = 3 }
		relative_position_id = GER_mio_trait_helsing_ai_guided_swarm

		all_parents = {
			GER_mio_trait_helsing_low_coatings
			GER_mio_trait_helsing_stealth_hull
			GER_mio_trait_helsing_jam_resistance
		}

		equipment_bonus = {
			air_defence = 0.05
			fuel_consumption = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_helsing_integrated_command
		name = GER_mio_trait_helsing_integrated_command
		icon = GFX_generic_mio_trait_icon_conversion_speed
		position = { x = -2 y = 1 }
		relative_position_id = GER_mio_trait_helsing_extended_endurance

		all_parents = {
			GER_mio_trait_helsing_extended_endurance
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 3
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_helsing_landmark
		name = GER_mio_trait_helsing_landmark
		icon = GFX_generic_mio_trait_icon_maximum_speed
		position = { x = -1 y = 2 }
		relative_position_id = GER_mio_trait_helsing_extended_endurance

		all_parents = {
			GER_mio_trait_helsing_integrated_command
		}

		equipment_bonus = {
			maximum_speed = 0.07
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_helsing_ai_quality
		name = GER_mio_trait_helsing_ai_quality
		icon = GFX_generic_mio_trait_icon_resources
		position = { x = -1 y = 4 }
		relative_position_id = GER_mio_trait_helsing_extended_endurance

		all_parents = {
			GER_mio_trait_helsing_landmark
		}

		production_bonus = {
			production_resource_penalty_factor = -0.12
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_helsing_rapid_drone_assembly
		name = GER_mio_trait_helsing_rapid_drone_assembly
		icon = GFX_generic_mio_trait_icon_efficiency_gain
		position = { x = 2 y = 1 }
		relative_position_id = GER_mio_trait_helsing_extended_endurance

		all_parents = {
			GER_mio_trait_helsing_extended_endurance
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.15
		}
		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_helsing_modular_payload
		name = GER_mio_trait_helsing_modular_payload
		icon = GFX_generic_mio_trait_icon_efficiency_gain
		position = { x = 1 y = 2 }
		relative_position_id = GER_mio_trait_helsing_extended_endurance

		all_parents = {
			GER_mio_trait_helsing_rapid_drone_assembly
		}

		production_bonus = {
			production_cost_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_helsing_evtol_office
		name = GER_mio_trait_helsing_evtol_office
		icon = GFX_generic_mio_trait_icon_air_ground_attack
		position = { x = 1 y = 4 }
		relative_position_id = GER_mio_trait_helsing_extended_endurance

		all_parents = {
			GER_mio_trait_helsing_modular_payload
		}

		equipment_bonus = {
			air_ground_attack = 0.10
			air_agility = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_helsing_autonomous_rd
		name = GER_mio_trait_helsing_autonomous_rd
		icon = GFX_generic_mio_trait_icon_unique
		position = { x = 0 y = 3 }
		relative_position_id = GER_mio_trait_helsing_extended_endurance

		all_parents = {
			GER_mio_trait_helsing_modular_payload
			GER_mio_trait_helsing_landmark
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}
GER_mbda_deutschland = {
	allowed = { original_tag = GER }
	icon = GFX_GER_MBDA
	name = GER_mbda_deutschland

	equipment_type = {
		H_AT_Equipment
		L_AT_Equipment
		AA_Equipment
		sam_missile_equipment
		guided_missile_equipment
	}

	research_categories = {
		#CAT_at
		#CAT_l_aa
		CAT_aa_missiles
		CAT_glcm
		CAT_air_to_air_weapons
		CAT_air_countermeasures

	}

	research_bonus = 0.05

	tree_header_text = {
		text = GER_mio_header_rocketry
		x = 1
	}
	tree_header_text = {
		text = GER_mio_header_cruise_missiles
		x = 7
	}

	initial_trait = {
		name = GER_mbda_deutschland_trait

		organization_modifier = {
			military_industrial_organization_size_up_requirement = -0.15
		}
		production_bonus = {
			production_capacity_factor = 0.15
			production_efficiency_gain_factor = 0.10
		}
	}
	trait = {
		token = GER_mio_trait_mbda_european_glcm_consortium
		name = GER_mio_trait_mbda_european_glcm_consortium
		icon = GFX_generic_mio_trait_icon_unique
		special_trait_background = yes

		position = { x = 0 y = 0 }

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
			military_industrial_organization_funds_gain = -0.33
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.25
			production_efficiency_gain_factor = -0.10
		}

		limit_to_equipment_type = {
			H_AT_Equipment
			L_AT_Equipment
			AA_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_lightweight
		name = GER_mio_trait_mbda_lightweight
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 2 y = 0 }

		equipment_bonus = {
			soft_attack = 0.10
			reliability = -0.04
		}

		limit_to_equipment_type = {
			H_AT_Equipment
			L_AT_Equipment
			AA_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_atgm_precision
		name = GER_mio_trait_mbda_atgm_precision
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = -1 y = 1 }
		relative_position_id = GER_mio_trait_mbda_lightweight
		all_parents = { GER_mio_trait_mbda_lightweight }

		equipment_bonus = {
			ap_attack = 0.08
		}

		limit_to_equipment_type = {
			H_AT_Equipment
			L_AT_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_enforcer_platform
		name = GER_mio_trait_mbda_enforcer_platform
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = -2 y = 2 }
		relative_position_id = GER_mio_trait_mbda_lightweight
		all_parents = { GER_mio_trait_mbda_atgm_precision }

		equipment_bonus = {
			build_cost_ic = -0.15
		}

		limit_to_equipment_type = {
			H_AT_Equipment
			L_AT_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_efficiency
		name = GER_mio_trait_mbda_efficiency
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_mbda_lightweight
		all_parents = { GER_mio_trait_mbda_atgm_precision }
		mutually_exclusive = { GER_mio_trait_mbda_production_surge }

		production_bonus = {
			production_cost_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_manpads_vanguard
		name = GER_mio_trait_mbda_manpads_vanguard
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 1 y = 1 }
		relative_position_id = GER_mio_trait_mbda_lightweight
		all_parents = { GER_mio_trait_mbda_lightweight }

		equipment_bonus = {
			air_attack = 0.08
		}

		limit_to_equipment_type = {
			AA_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_production_surge
		name = GER_mio_trait_mbda_production_surge
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 2 y = 2 }
		relative_position_id = GER_mio_trait_mbda_lightweight
		all_parents = { GER_mio_trait_mbda_atgm_precision }
		mutually_exclusive = { GER_mio_trait_mbda_efficiency }

		production_bonus = {
			production_capacity_factor = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_rd_advance
		name = GER_mio_trait_mbda_rd_advance
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 1 y = 3 }
		relative_position_id = GER_mio_trait_mbda_lightweight
		any_parent = { GER_mio_trait_mbda_production_surge GER_mio_trait_mbda_efficiency }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_blos
		name = GER_mio_trait_mbda_blos
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = -1 y = 4 }
		relative_position_id = GER_mio_trait_mbda_lightweight
		all_parents = { GER_mio_trait_mbda_enforcer_platform GER_mio_trait_mbda_rd_advance }

		equipment_bonus = {
			breakthrough = 0.07
		}

		limit_to_equipment_type = {
			H_AT_Equipment
			L_AT_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_rapid_reload_equipment
		name = GER_mio_trait_mbda_rapid_reload_equipment
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 3 y = 4 }
		relative_position_id = GER_mio_trait_mbda_lightweight
		all_parents = { GER_mio_trait_mbda_rd_advance }

		equipment_bonus = {
			breakthrough = 0.05
		}

		limit_to_equipment_type = {
			H_AT_Equipment
			L_AT_Equipment
			AA_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_dual_use_esg
		name = GER_mio_trait_mbda_dual_use_esg
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 1 y = 4 }
		relative_position_id = GER_mio_trait_mbda_lightweight
		all_parents = { GER_mio_trait_mbda_rd_advance }

		production_bonus = {
			production_resource_need_factor = -0.10
		}

		limit_to_equipment_type = {
			H_AT_Equipment
			L_AT_Equipment
			AA_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_sam_bulk
		name = GER_mio_trait_mbda_sam_bulk
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 4 y = 0 }

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}

		limit_to_equipment_type = {
			sam_missile
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_sam_deep_shield
		name = GER_mio_trait_mbda_sam_deep_shield
		icon = GFX_generic_mio_trait_icon_air_defence

		position = { x = 5 y = 0 }

		equipment_bonus = {
			air_defence = 0.10
		}

		limit_to_equipment_type = {
			sam_missile
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_patriot_system_integration
		name = GER_mio_trait_mbda_patriot_system_integration
		icon = GFX_generic_mio_trait_icon_conversion_speed

		available = {
			if = {
				limit = { has_dlc = "No Step Back" }
				USA = { has_tech = nsb_SHORAD_missile_1 }
			}
			else = {
				USA = { has_tech = Anti_Air_1 }
			}
		}

		position = { x = 1 y = 1 }
		relative_position_id = GER_mio_trait_mbda_sam_bulk
		all_parents = { GER_mio_trait_mbda_sam_bulk }

		production_bonus = {
			production_cost_factor = -0.25
		}

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.25
			military_industrial_organization_design_team_change_cost = -0.10
		}

		limit_to_equipment_type = {
			sam_missile
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_propulsion
		name = GER_mio_trait_mbda_propulsion
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 2 y = 1 }
		relative_position_id = GER_mio_trait_mbda_sam_bulk
		all_parents = { GER_mio_trait_mbda_sam_bulk GER_mio_trait_mbda_sam_deep_shield }

		equipment_bonus = {
			air_agility = 0.05
			air_range = 0.05
			build_cost_ic = 0.05
		}

		limit_to_equipment_type = {
			sam_missile
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_rd_edge
		name = GER_mio_trait_mbda_rd_edge
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = 9 y = 0 }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_cruise_missile_reach
		name = GER_mio_trait_mbda_cruise_missile_reach
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = -2 y = 1 }
		relative_position_id = GER_mio_trait_mbda_rd_edge
		all_parents = { GER_mio_trait_mbda_rd_edge }

		equipment_bonus = {
			air_range = 0.05
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_modular_warhead
		name = GER_mio_trait_mbda_modular_warhead
		icon = GFX_generic_mio_trait_icon_strategic_attack

		position = { x = -2 y = 2 }
		relative_position_id = GER_mio_trait_mbda_rd_edge
		all_parents = { GER_mio_trait_mbda_cruise_missile_reach }

		equipment_bonus = {
			naval_strike_attack = 0.07
			air_ground_attack = 0.07
			strategic_attack = 0.07
			build_cost_ic = 0.15
		}

		production_bonus = {
			production_resource_need_factor = 0.10
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_next_radar
		name = GER_mio_trait_mbda_next_radar
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 0 y = 1 }
		relative_position_id = GER_mio_trait_mbda_rd_edge
		all_parents = { GER_mio_trait_mbda_rd_edge }

		equipment_bonus = {
			air_agility = 0.05
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_mass_production
		name = GER_mio_trait_mbda_mass_production
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_mbda_rd_edge
		all_parents = { GER_mio_trait_mbda_next_radar }

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_deep_sea_strike_cruise
		name = GER_mio_trait_mbda_deep_sea_strike_cruise
		icon = GFX_generic_mio_trait_icon_naval_strike_targetting

		position = { x = 0 y = 3 }
		relative_position_id = GER_mio_trait_mbda_rd_edge
		all_parents = { GER_mio_trait_mbda_mass_production GER_mio_trait_mbda_modular_warhead }

		equipment_bonus = {
			naval_strike_targetting = 0.05
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_deep_stealth_terrain_follow
		name = GER_mio_trait_mbda_deep_stealth_terrain_follow
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = -2 y = 3 }
		relative_position_id = GER_mio_trait_mbda_rd_edge
		all_parents = { GER_mio_trait_mbda_modular_warhead }

		equipment_bonus = {
			air_agility = 0.05
		}

		production_bonus = {
			production_resource_penalty_factor = 0.10
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_mbda_supersonic_naval_interceptor
		name = GER_mio_trait_mbda_supersonic_naval_interceptor
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = -1 y = 4 }
		relative_position_id = GER_mio_trait_mbda_rd_edge
		all_parents = { GER_mio_trait_mbda_deep_stealth_terrain_follow GER_mio_trait_mbda_deep_sea_strike_cruise }

		equipment_bonus = {
			naval_strike_attack = 0.05
			air_agility = 0.05
			build_cost_ic = 0.15
		}

		limit_to_equipment_type = {
			guided_missile_equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}
GER_Mercedes = {
	allowed = { original_tag = GER }
	icon = GFX_idea_Mercedes_Benz
	name = GER_Mercedes_Benz
	include = GER_generic_utility_vehicle_manufacturer

	equipment_type = {
		util_vehicle_equipment
	}

	research_categories = {
		CAT_util
	}

	initial_trait = {
		name = GER_Mercedes_trait

		production_bonus = {
			production_efficiency_cap_factor = 0.15
			production_efficiency_gain_factor = 0.10
		}
	}
}
GER_BMW = {
	allowed = { original_tag = GER }

	visible = {
		hidden_trigger = {
			GER = { has_country_flag = ger_bmw_unlocked }
		}
	}


	icon = GFX_idea_BMW
	name = GER_BMW
	include = GER_generic_utility_vehicle_manufacturer

	equipment_type = {
		util_vehicle_equipment
	}

	research_categories = {
		CAT_util
	}

	initial_trait = {
		name = GER_BMW_trait

		equipment_bonus = {
			maximum_speed = 0.15
			reliability = -0.25
		}
		production_bonus = {
			production_cost_factor = 0.10
		}
	}
}
GER_rheinmetall_man = {
	allowed = { original_tag = GER }
	icon = GFX_idea_MAN
	name = GER_rheinmetall_man
	include = GER_generic_utility_vehicle_manufacturer

	equipment_type = {
		util_vehicle_equipment
	}

	research_categories = {
		CAT_util
	}

	initial_trait = {
		name = GER_rheinmetall_man_trait

		equipment_bonus = {
			armor_value = 0.05
			fuel_consumption = -0.05
			maximum_speed = 0.05
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.10
		}
	}
}
## TANK DESIGNER SECTION ##
GER_rheinmetall_tank_manufacturer = {
	allowed = { original_tag = GER }
	icon = GFX_idea_Rheinmetall
	name = GER_rheinmetall_tank_manufacturer
	include = generic_tank_equipment_organization

	equipment_type = {
		medium_tank_chassis
		medium_tank_amphibious_chassis
		medium_tank_flame_chassis
		medium_tank_destroyer_chassis
		medium_tank_artillery_chassis
		medium_tank_aa_chassis
	}

	research_categories = {
		CAT_armor
	}

	initial_trait = {
		name = GER_rheinmetall_tank_manufacturer_trait

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.15
		}

		equipment_bonus = {
			reliability = 0.10
			breakthrough = 0.20
			build_cost_ic = 0.20
		}

		production_bonus = {
			production_capacity_factor = 0.10
		}
	}

	trait = {
		token = GER_mio_trait_enhanced_fire_package
		name = GER_mio_trait_enhanced_fire_package
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = 1 y = 0 }

		all_parents = { generic_mio_tank_trait_heavy_tank_stats_2 }
		relative_position_id = generic_mio_tank_trait_heavy_tank_stats_2

		equipment_bonus = {
			hard_attack = 0.1
			ap_attack = 0.1
			maximum_speed = 0.05

		}

		on_complete = {
			FROM = {
				medium_expenditure = yes
			}
		}

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
}

GER_krauss_maffei_tank_manufacturer = {
	allowed = { original_tag = GER }
	icon = GFX_idea_KMW
	name = GER_krauss_maffei_tank_manufacturer
	include = generic_tank_equipment_organization

	equipment_type = {
		medium_tank_chassis
		medium_tank_amphibious_chassis
		medium_tank_flame_chassis
		medium_tank_destroyer_chassis
		medium_tank_artillery_chassis
		medium_tank_aa_chassis
		util_vehicle_equipment
	}

	research_categories = {
		CAT_armor
	}

	initial_trait = {
		name = GER_krauss_maffei_tank_manufacturer_trait

		equipment_bonus = {
			armor_value = 0.10
			defense = 0.10
			breakthrough = 0.15
			build_cost_ic = 0.10
		}

		production_bonus = {
			production_resource_need_factor = 0.15
			production_resource_penalty_factor = 0.10
		}
	}
}
GER_Eurocopter_helicopters_tank_manufacturer = {
	allowed = { original_tag = GER }
	icon = GFX_idea_eurocopter
	name = GER_Eurocopter_helicopters_tank_manufacturer
	include = generic_specialized_helicopter_organization

	equipment_type = {
		heavy_tank_chassis
		heavy_tank_amphibious_chassis
	}

	research_categories = {
		CAT_heli
		CAT_trans_heli
	}

	initial_trait = {
		name = GER_Eurocopter_helicopters_tank_manufacturer_trait

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.15
		}

		equipment_bonus = {
			defense = 0.05
			breakthrough = 0.05
			build_cost_ic = 0.05
		}

		production_bonus = {
			production_cost_factor = 0.05
		}
	}
}

# AIRCRAFT DESIGNERS ##
#need for heavy airplane, like transall or a400
GER_airbus_defence_aircraft_manufacturer = {
	allowed = { original_tag = GER }
	icon = GFX_idea_Airbus_Defence
	name = GER_airbus_defence_aircraft_manufacturer
	include = generic_air_equipment_organization
}
GER_Eurofighter_aircraft_manufacturer = {
	allowed = { original_tag = GER }
	icon = GFX_idea_Eurofighter
	name = GER_Eurofighter_aircraft_manufacturer

	equipment_type = {
		mio_cat_eq_only_medium_aircraft
		mio_cat_eq_only_cv_medium_aircraft
	}

	research_categories = {
		CAT_medium_plane
	}

	available = {
		GER = {
			has_country_flag = GER_the_Eurofighter
		}
	}

	tree_header_text = {
		text = GER_mio_header_the_systems
		x = 2
	}

	tree_header_text = {
		text = GER_mio_header_the_company
		x = 6
	}

	initial_trait = {
		name = GER_Eurofighter_aircraft_manufacturer_trait

		organization_modifier = {
			military_industrial_organization_task_capacity = -3
			military_industrial_organization_funds_gain = 0.15
		}

		equipment_bonus = {
			air_ground_attack = 0.15
			air_superiority = 0.2
			air_bombing = 0.05
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.05
			production_resource_need_factor = 0.05
		}
	}
	trait = {
		token = Eurofighter_production
		name = Eurofighter_production
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 2 y = 0 }

		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_strike_capabilities
		name = Eurofighter_strike_capabilities
		icon = GFX_generic_mio_trait_icon_air_ground_attack

		position = { x = 1 y = 1 }
		relative_position_id = Eurofighter_production

		all_parents = { Eurofighter_production }
		mutually_exclusive = { Eurofighter_strike_capabilities Eurofighter_focus_air_superior }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			air_ground_attack = 0.08
			air_bombing = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	
	trait = {
		token = Eurofighter_focus_air_superior
		name = Eurofighter_focus_air_superior
		icon = GFX_generic_mio_trait_icon_air_superiority

		position = { x = -1 y = 1 }
		relative_position_id = Eurofighter_production

		all_parents = { Eurofighter_production }
		mutually_exclusive = { Eurofighter_strike_capabilities Eurofighter_strike_capabilities }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }
		equipment_bonus = {
			air_attack = 0.05
			air_superiority = 0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_improve_electronics
		name = Eurofighter_improve_electronics
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 0 y = 2 }
		relative_position_id = Eurofighter_production

		any_parent = {  Eurofighter_strike_capabilities Eurofighter_focus_air_superior }
		mutually_exclusive = {  }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			air_agility = 0.04
			night_penalty = -0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_avionics
		name = Eurofighter_avionics
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = -1 y = 1 }
		relative_position_id = Eurofighter_improve_electronics

		all_parents = { Eurofighter_improve_electronics }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			air_attack = 0.07
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_more_range
		name = Eurofighter_more_range
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = 1 y = 2 }
		relative_position_id = Eurofighter_improve_electronics

		any_parent = { Eurofighter_improve_counter_measures Eurofighter_avionics }
		mutually_exclusive = { Eurofighter_more_trust }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			air_range = 0.08
			thrust = -0.1
			reliability = -0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_more_trust
		name = Eurofighter_more_trust
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = -1 y = 2 }
		relative_position_id = Eurofighter_improve_electronics

		any_parent = { Eurofighter_improve_counter_measures Eurofighter_avionics }
		mutually_exclusive = { Eurofighter_more_range }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			air_range = -0.09
			thrust = 0.07
			reliability = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_improve_counter_measures
		name = Eurofighter_improve_counter_measures
		icon = GFX_generic_mio_trait_icon_air_defence

		position = { x = 1 y = 1 }
		relative_position_id = Eurofighter_improve_electronics

		all_parents = { Eurofighter_improve_electronics  }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			reliability = 0.05
			air_defence = 0.07
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_radar_capabilitiey
		name = Eurofighter_radar_capabilitiey
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = -1 y = 2 }
		relative_position_id = Eurofighter_improve_counter_measures

		any_parent = { Eurofighter_more_trust Eurofighter_more_range }
		mutually_exclusive = {  }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			air_superiority = 0.08
			air_agility = 0.03
			night_penalty = -0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_improve_sensors
		name = Eurofighter_improve_sensors
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = -1 y = 1 }
		relative_position_id = Eurofighter_radar_capabilitiey

		all_parents = { Eurofighter_radar_capabilitiey }
		mutually_exclusive = { Eurofighter_situation_awareness_helmet }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			air_ground_attack = 0.09
			air_bombing = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_situation_awareness_helmet
		name = Eurofighter_situation_awareness_helmet
		icon = GFX_generic_mio_trait_icon_air_agility

		position = { x = 1 y = 1 }
		relative_position_id = Eurofighter_radar_capabilitiey

		all_parents = { Eurofighter_radar_capabilitiey }
		mutually_exclusive = { Eurofighter_improve_sensors }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			reliability = 0.1
			air_superiority = 0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	#variants
	trait = {
		token = Eurofighter_company
		name = Eurofighter_company
		icon = GFX_generic_mio_department_icon_facilities

		position = { x = 6 y = 0 }

		production_bonus = {
			production_efficiency_cap_factor = 0.07
			production_efficiency_gain_factor = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_communication_team
		name = Eurofighter_communication_team
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = -1 y = 1 }
		relative_position_id = Eurofighter_company

		all_parents = { Eurofighter_company }

		limit_to_equipment_type = { mio_cat_eq_only_as_fighters mio_cat_eq_only_mr_fighters  mio_cat_eq_only_cas_fighters }

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_increase_budget
		name = Eurofighter_increase_budget
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 0 y = 1 }
		relative_position_id = Eurofighter_company

		all_parents = { Eurofighter_company }

		limit_to_equipment_type = { mio_cat_eq_only_as_fighters mio_cat_eq_only_mr_fighters  mio_cat_eq_only_cas_fighters }

		organization_modifier = {
			military_industrial_organization_size_up_requirement = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_development_team
		name = Eurofighter_development_team
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 1 y = 1 }
		relative_position_id = Eurofighter_company

		all_parents = { Eurofighter_company }

		limit_to_equipment_type = { mio_cat_eq_only_as_fighters mio_cat_eq_only_mr_fighters  mio_cat_eq_only_cas_fighters }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_development_blocks
		name = Eurofighter_development_blocks
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 1 y = 1 }
		relative_position_id = Eurofighter_increase_budget

		all_parents = { Eurofighter_increase_budget }
		mutually_exclusive = { Eurofighter_development_variants }

		limit_to_equipment_type = { mio_cat_eq_only_as_fighters mio_cat_eq_only_mr_fighters  mio_cat_eq_only_cas_fighters }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}
		production_bonus = {
			production_efficiency_cap_factor = 0.05
			production_resource_need_factor = -0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_multirole_fighter
		name = Eurofighter_multirole_fighter
		icon = GFX_generic_mio_trait_icon_air_superiority


		position = { x = 0 y = 1 }
		relative_position_id = Eurofighter_development_blocks

		all_parents = { Eurofighter_development_blocks }

		limit_to_equipment_type = { mio_cat_eq_only_as_fighters mio_cat_eq_only_mr_fighters  mio_cat_eq_only_cas_fighters }

		equipment_bonus = {
			reliability = 0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_development_variants
		name = Eurofighter_development_variants
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = -1 y = 1 }
		relative_position_id = Eurofighter_increase_budget

		all_parents = { Eurofighter_increase_budget }
		mutually_exclusive = { Eurofighter_development_blocks }

		limit_to_equipment_type = { mio_cat_eq_only_as_fighters mio_cat_eq_only_mr_fighters  mio_cat_eq_only_cas_fighters }

		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}
		production_bonus = {
			production_capacity_factor = 0.05
			production_resource_need_factor = 0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_strike_plane
		name = Eurofighter_strike_plane
		icon = GFX_generic_mio_trait_icon_air_ground_attack

		position = { x = 0 y = 1 }
		relative_position_id = Eurofighter_development_variants

		all_parents = { Eurofighter_development_variants }

		limit_to_equipment_type = { mio_cat_eq_only_as_fighters mio_cat_eq_only_mr_fighters  mio_cat_eq_only_cas_fighters }

		equipment_bonus = {
			air_ground_attack = 0.12
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_naval_capabilites
		name = Eurofighter_naval_capabilites
		icon = GFX_generic_mio_trait_icon_naval_strike_attack

		position = { x = -1 y = 1 }
		relative_position_id = Eurofighter_development_variants

		any_parent = { Eurofighter_development_variants Eurofighter_strike_capabilities }

		available = {
			all_country = {
				NOT = {
					has_country_flag = Eurofighter_naval
				}
			}
		}

		limit_to_equipment_type = { mio_cat_eq_only_as_fighters mio_cat_eq_only_mr_fighters  mio_cat_eq_only_cas_fighters }

		equipment_bonus = {
			naval_strike_attack = 0.1
			naval_strike_targetting = 0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
			every_country = {
				limit = {
					has_country_flag = GER_the_Eurofighter
				}
				country_event = {
					id = GER_Eurofighter.2
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_modernmaterials
		name = Eurofighter_modernmaterials
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = 2 y = 1 }
		relative_position_id = Eurofighter_naval_capabilites

		any_parent = {  Eurofighter_strike_plane Eurofighter_multirole_fighter }
		mutually_exclusive = {  }

		limit_to_equipment_type = { mio_cat_eq_only_as_fighters mio_cat_eq_only_mr_fighters  mio_cat_eq_only_cas_fighters }

		equipment_bonus = {
			air_agility = 0.03
			build_cost_ic = 0.3
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_streamline_production
		name = Eurofighter_streamline_production
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 1 y = 1 }
		relative_position_id = Eurofighter_modernmaterials

		all_parents = { Eurofighter_modernmaterials }
		mutually_exclusive = { Eurofighter_highest_quality }

		limit_to_equipment_type = { mio_cat_eq_only_as_fighters mio_cat_eq_only_mr_fighters  mio_cat_eq_only_cas_fighters }

		equipment_bonus = {
			reliability = -0.08
		}
		production_bonus = {
			production_efficiency_gain_factor = 0.12
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Eurofighter_highest_quality
		name = Eurofighter_highest_quality
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = -1 y = 1 }
		relative_position_id = Eurofighter_modernmaterials

		all_parents = { Eurofighter_modernmaterials }
		mutually_exclusive = { Eurofighter_streamline_production }

		limit_to_equipment_type = { mio_cat_eq_only_as_fighters mio_cat_eq_only_mr_fighters  mio_cat_eq_only_cas_fighters }

		equipment_bonus = {
			reliability = 0.15
		}
		production_bonus = {
			production_resource_need_factor = -0.03
			production_efficiency_gain_factor = -0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
}


GER_diehl_defence_aircraft_manufacturer = {
	allowed = { original_tag = GER }
	icon = GFX_GER_Diehl
	name = GER_diehl_defence_aircraft_manufacturer

	equipment_type = {
		#sam_missile
		L_AT_Equipment
		medium_tank_aa_chassis
	}

	research_categories = {
		CAT_sam
		CAT_l_at
		CAT_as_missiles
		CAT_air_to_air_weapons
		CAT_pds
		CAT_naval_cannons
		CAT_gnss
		CAT_art_ammo
	}

	tree_header_text = {
		text = GER_mio_header_integrated_air_defence_network
		x = 1
	}
	tree_header_text = {
		text = GER_mio_header_precision_anti_tank_systems
		x = 5
	}
	tree_header_text = {
		text = GER_mio_header_mobile_air_defence_platforms
		x = 8
	}


	initial_trait = {
		name = GER_diehl_defence_aircraft_manufacturer_trait

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.15
		}
		production_bonus = {
			production_efficiency_cap_factor = -0.15
		}
	}
	trait = {
		token = GER_mio_trait_diehl_extended_solid_motor
		name = GER_mio_trait_diehl_extended_solid_motor
		icon = GFX_generic_mio_trait_icon_air_range

		position = { x = 1 y = 0 }

		equipment_bonus = {
			air_range = 0.15
			build_cost_ic = 0.05
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_dual_mode_seeker
		name = GER_mio_trait_diehl_dual_mode_seeker
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = -1 y = 1 }
		relative_position_id = GER_mio_trait_diehl_extended_solid_motor
		all_parents = { GER_mio_trait_diehl_extended_solid_motor }
		mutually_exclusive = { GER_mio_trait_diehl_marine_grade_seeker }

		equipment_bonus = {
			air_attack = 0.10
			air_agility = 0.08
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_marine_grade_seeker
		name = GER_mio_trait_diehl_marine_grade_seeker
		icon = GFX_generic_mio_trait_icon_naval_strike_attack

		position = { x = 1 y = 1 }
		relative_position_id = GER_mio_trait_diehl_extended_solid_motor
		all_parents = {
			GER_mio_trait_diehl_extended_solid_motor
		}
		mutually_exclusive = { GER_mio_trait_diehl_dual_mode_seeker }

		equipment_bonus = {
			naval_strike_targetting = 0.12
			reliability = 0.05
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_manufactured_propellant
		name = GER_mio_trait_diehl_manufactured_propellant
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_diehl_extended_solid_motor
		any_parent = {
			GER_mio_trait_diehl_marine_grade_seeker
			GER_mio_trait_diehl_dual_mode_seeker
		}

		equipment_bonus = {
			reliability = 0.03
			build_cost_ic = -0.08
		}

		limit_to_equipment_type = {
			sam_missile_equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_compliance_cell
		name = GER_mio_trait_diehl_compliance_cell
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = -1 y = 3 }
		relative_position_id = GER_mio_trait_diehl_extended_solid_motor
		any_parent = {
			GER_mio_trait_diehl_marine_grade_seeker
			GER_mio_trait_diehl_dual_mode_seeker
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.12
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_strategic_investment_pool
		name = GER_mio_trait_diehl_strategic_investment_pool
		icon = GFX_generic_mio_trait_icon_supply_consumption

		position = { x = 1 y = 3 }
		relative_position_id = GER_mio_trait_diehl_extended_solid_motor
		any_parent = {
			GER_mio_trait_diehl_marine_grade_seeker
			GER_mio_trait_diehl_dual_mode_seeker
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.07
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_spare_part_fabrication
		name = GER_mio_trait_diehl_spare_part_fabrication
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 0 y = 4 }
		relative_position_id = GER_mio_trait_diehl_extended_solid_motor
		all_parents = {
			GER_mio_trait_diehl_compliance_cell
			GER_mio_trait_diehl_strategic_investment_pool
		}

		production_bonus = {
			production_capacity_factor = 0.20
			production_efficiency_gain_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_energy_management_hub
		name = GER_mio_trait_diehl_energy_management_hub
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 1 y = 5 }
		relative_position_id = GER_mio_trait_diehl_extended_solid_motor
		all_parents = {
			GER_mio_trait_diehl_spare_part_fabrication
			GER_mio_trait_diehl_prototyping_lines
		}

		production_bonus = {
			production_resource_penalty_factor = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_circular_design
		name = GER_mio_trait_diehl_circular_design
		icon = GFX_generic_mio_trait_icon_resources

		position = { x = 4 y = 0 }

		production_bonus = {
			production_resource_need_factor = -0.12
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_joint_integration_team
		name = GER_mio_trait_diehl_joint_integration_team
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 2 y = 0 }
		relative_position_id = GER_mio_trait_diehl_circular_design

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_tandem_heat
		name = GER_mio_trait_diehl_tandem_heat
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 0 y = 1 }
		relative_position_id = GER_mio_trait_diehl_circular_design
		all_parents = {
			GER_mio_trait_diehl_circular_design
			GER_mio_trait_diehl_joint_integration_team
		}

		equipment_bonus = {
			soft_attack = 0.15
			reliability = -0.05
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_infrared_seeker
		name = GER_mio_trait_diehl_infrared_seeker
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 2 y = 1 }
		relative_position_id = GER_mio_trait_diehl_circular_design
		all_parents = {
			GER_mio_trait_diehl_circular_design
			GER_mio_trait_diehl_joint_integration_team
		}

		equipment_bonus = {
			hard_attack = 0.12
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_armor_penetrator
		name = GER_mio_trait_diehl_armor_penetrator
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 1 y = 2 }
		relative_position_id = GER_mio_trait_diehl_circular_design
		all_parents = {
			GER_mio_trait_diehl_circular_design
			GER_mio_trait_diehl_joint_integration_team
		}

		equipment_bonus = {
			breakthrough = 0.12
			ap_attack = 0.05
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_quick_tripod
		name = GER_mio_trait_diehl_quick_tripod
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = -1 y = 2 }
		relative_position_id = GER_mio_trait_diehl_circular_design
		all_parents = {
			GER_mio_trait_diehl_tandem_heat
		}

		equipment_bonus = {
			maximum_speed = 0.08
			breakthrough = 0.04
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_prototyping_lines
		name = GER_mio_trait_diehl_prototyping_lines
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 0 y = 3 }
		relative_position_id = GER_mio_trait_diehl_circular_design
		any_parent = {
			GER_mio_trait_diehl_quick_tripod
			GER_mio_trait_diehl_armor_penetrator
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.12
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_agile_design
		name = GER_mio_trait_diehl_agile_design
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 3 y = 6 }
		relative_position_id = GER_mio_trait_diehl_extended_solid_motor
		all_parents = {
			GER_mio_trait_diehl_energy_management_hub
			GER_mio_trait_diehl_prototyping_lines
		}

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.33
			military_industrial_organization_design_team_change_cost = -0.33
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_joint_assembly
		name = GER_mio_trait_diehl_joint_assembly
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 2 y = 3 }
		relative_position_id = GER_mio_trait_diehl_circular_design
		any_parent = {
			GER_mio_trait_diehl_infrared_seeker
			GER_mio_trait_diehl_armor_penetrator
			GER_mio_trait_diehl_predictive_maintenance
		}

		production_bonus = {
			production_cost_factor = -0.08
		}

		limit_to_equipment_type = {
			L_AT_Equipment
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_lightweight_chassis
		name = GER_mio_trait_diehl_lightweight_chassis
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 7 y = 0 }
		mutually_exclusive = {
			GER_mio_trait_diehl_composite_armor
		}

		equipment_bonus = {
			maximum_speed = 0.10
			build_cost_ic = -0.05
			armor_value = -0.10
		}

		limit_to_equipment_type = {
			medium_tank_aa_chassis
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_composite_armor
		name = GER_mio_trait_diehl_composite_armor
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 2 y = 0 }
		relative_position_id = GER_mio_trait_diehl_lightweight_chassis
		mutually_exclusive = {
			GER_mio_trait_diehl_lightweight_chassis
		}

		equipment_bonus = {
			armor_value = 0.12
			maximum_speed = -0.03
		}

		limit_to_equipment_type = {
			medium_tank_aa_chassis
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_automated_acquisition
		name = GER_mio_trait_diehl_automated_acquisition
		icon = GFX_generic_mio_trait_icon_air_attack

		position = { x = 1 y = 1 }
		relative_position_id = GER_mio_trait_diehl_lightweight_chassis
		any_parent = {
			GER_mio_trait_diehl_lightweight_chassis
			GER_mio_trait_diehl_composite_armor
		}

		equipment_bonus = {
			defense = 0.10
			air_attack = 0.10
		}

		limit_to_equipment_type = {
			medium_tank_aa_chassis
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_predictive_maintenance
		name = GER_mio_trait_diehl_predictive_maintenance
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_diehl_lightweight_chassis
		all_parents = {
			GER_mio_trait_diehl_automated_acquisition
		}

		equipment_bonus = {
			reliability = 0.10
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.05
		}

		limit_to_equipment_type = {
			medium_tank_aa_chassis
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_ondemand_tooling
		name = GER_mio_trait_diehl_ondemand_tooling
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 2 y = 2 }
		relative_position_id = GER_mio_trait_diehl_lightweight_chassis
		all_parents = {
			GER_mio_trait_diehl_automated_acquisition
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.10
		}

		limit_to_equipment_type = {
			medium_tank_aa_chassis
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_diehl_field_replaceable
		name = GER_mio_trait_diehl_field_replaceable
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 2 y = 3 }
		relative_position_id = GER_mio_trait_diehl_lightweight_chassis
		all_parents = {
			GER_mio_trait_diehl_ondemand_tooling
		}

		equipment_bonus = {
			reliability = 0.15
		}

		production_bonus = {
			production_resource_need_factor = 0.10
		}

		limit_to_equipment_type = {
			medium_tank_aa_chassis
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

## NAVAL DESIGNERS ##
GER_thyssenkrupp_marine_naval_manufacturer = {
	allowed = { original_tag = GER }
	icon = GFX_idea_Thyssen_Krupp
	name = GER_thyssenkrupp_marine_naval_manufacturer

	equipment_type = {
		submarine
		frigate
		corvette
	}

	research_categories = {
		CAT_sub
		CAT_frigate
		CAT_corvette
	}

	research_bonus = 0.03

	tree_header_text = {
		text = GER_mio_header_equipment_production
		x = 1
	}
	tree_header_text = {
		text = GER_mio_header_company_development
		x = 8
	}

	initial_trait = {
		name = GER_thyssenkrupp_marine_naval_manufacturer_trait

		equipment_bonus = {
			build_cost_ic = -0.10
		}

		organization_modifier = {
			military_industrial_organization_size_up_requirement = -0.30
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_modular_stalth_hull
		name = GER_mio_trait_thyssenkrupp_modular_stalth_hull
		icon = GFX_generic_mio_trait_icon_surface_visibility
		special_trait_background = yes

		position = { x = 3 y = 0 }

		available = {
			if = {
				limit = { has_dlc = "Man the Guns" }
				OR = {
					GER = { has_tech = stealth_frigate_hull_1 }
					GER = { has_tech = stealth_corvette_hull_1 }
				}
			}
			else = {
				OR = {
					GER = { has_tech = stealth_corvette_1 }
					GER = { has_tech = stealth_frigate_1 }
				}
			}
		}

		equipment_bonus = {
			surface_visibility = -0.10
			armor_value = -0.03
		}

		limit_to_equipment_type = {
			frigate
			corvette
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_european_defense_collaboration
		name = GER_mio_trait_european_defense_collaboration
		icon = GFX_generic_mio_trait_icon_supply_consumption
		special_trait_background = yes

		position = { x = 5 y = 0 }

		available = {
			OR = {
				GER = { has_idea = EU_member }
				AND = {
					FRA = {
						has_opinion = {
							target = GER
							value > 100
						}
					}
					NOR = {
						has_opinion = {
							target = GER
							value > 100
						}
					}
				}
			}
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_integrated_network
		name = GER_mio_trait_thyssenkrupp_integrated_network
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 8 y = 0 }

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_naval_logistics_partnerships
		name = GER_mio_trait_thyssenkrupp_naval_logistics_partnerships
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = 0 y = 1 }
		relative_position_id = GER_mio_trait_thyssenkrupp_integrated_network
		all_parents = {
			GER_mio_trait_thyssenkrupp_integrated_network
		}

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.50
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_eco_dry_dock
		name = GER_mio_trait_thyssenkrupp_eco_dry_dock
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_thyssenkrupp_integrated_network
		all_parents = {
			GER_mio_trait_thyssenkrupp_naval_logistics_partnerships
		}

		organization_modifier = {
			military_industrial_organization_size_up_requirement = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_modular_shipbuilding
		name = GER_mio_trait_thyssenkrupp_modular_shipbuilding
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 0 y = 3 }
		relative_position_id = GER_mio_trait_thyssenkrupp_integrated_network
		all_parents = {
			GER_mio_trait_thyssenkrupp_eco_dry_dock
		}

		equipment_bonus = {
			build_cost_ic = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_reinforced_keel_frame
		name = GER_mio_trait_thyssenkrupp_reinforced_keel_frame
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 1 y = 1 }
		relative_position_id = GER_mio_trait_thyssenkrupp_modular_shipbuilding
		all_parents = {
			GER_mio_trait_thyssenkrupp_modular_shipbuilding
		}

		equipment_bonus = {
			armor_value = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_non_magnetic_steel
		name = GER_mio_trait_thyssenkrupp_non_magnetic_steel
		icon = GFX_generic_mio_trait_icon_sub_visibility

		position = { x = 1 y = 3 }
		relative_position_id = GER_mio_trait_thyssenkrupp_modular_shipbuilding
		all_parents = {
			GER_mio_trait_thyssenkrupp_reinforced_keel_frame
		}

		equipment_bonus = {
			sub_visibility = -0.10
			reliability = 0.03
		}

		limit_to_equipment_type = {
			submarine
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_ultra_deep_operating
		name = GER_mio_trait_thyssenkrupp_ultra_deep_operating
		icon = GFX_generic_mio_trait_icon_sub_detection

		position = { x = 1 y = 5 }
		relative_position_id = GER_mio_trait_thyssenkrupp_modular_shipbuilding
		all_parents = {
			GER_mio_trait_thyssenkrupp_non_magnetic_steel
		}

		equipment_bonus = {
			sub_detection = -0.10
		}

		limit_to_equipment_type = {
			submarine
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_reinforced_bulkheads
		name = GER_mio_trait_thyssenkrupp_reinforced_bulkheads
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_thyssenkrupp_modular_shipbuilding
		all_parents = {
			GER_mio_trait_thyssenkrupp_modular_shipbuilding
		}

		equipment_bonus = {
			max_strength = 0.08
			reliability = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_corrosion_resistant
		name = GER_mio_trait_thyssenkrupp_corrosion_resistant
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 0 y = 4 }
		relative_position_id = GER_mio_trait_thyssenkrupp_modular_shipbuilding
		all_parents = {
			GER_mio_trait_thyssenkrupp_reinforced_bulkheads
		}

		equipment_bonus = {
			reliability = 0.05
			build_cost_ic = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_flexible_mission_bay
		name = GER_mio_trait_thyssenkrupp_flexible_mission_bay
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = -4 y = 2 }
		relative_position_id = GER_mio_trait_thyssenkrupp_integrated_network

		equipment_bonus = {
			naval_speed = 0.05
			armor_value = 0.03
		}

		limit_to_equipment_type = {
			corvette
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_compact_system_integration
		name = GER_mio_trait_thyssenkrupp_compact_system_integration
		icon = GFX_generic_mio_trait_icon_naval_range

		position = { x = 0 y = 1 }
		relative_position_id = GER_mio_trait_thyssenkrupp_flexible_mission_bay
		all_parents = {
			GER_mio_trait_thyssenkrupp_flexible_mission_bay
		}

		equipment_bonus = {
			naval_range = 0.05
			naval_speed = 0.02
		}

		limit_to_equipment_type = {
			corvette
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_integrated_combat_suite
		name = GER_mio_trait_thyssenkrupp_integrated_combat_suite
		icon = GFX_generic_mio_trait_icon_anti_air_attack
		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_thyssenkrupp_flexible_mission_bay
		all_parents = {
			GER_mio_trait_thyssenkrupp_compact_system_integration
			GER_mio_trait_thyssenkrupp_ai_combat_simulations
			GER_mio_trait_thyssenkrupp_modular_shipbuilding
		}

		equipment_bonus = {
			max_organisation = 0.10
			air_attack = 0.03
		}

		limit_to_equipment_type = {
			corvette
			frigate
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_advanced_vls
		name = GER_mio_trait_thyssenkrupp_advanced_vls
		icon = GFX_generic_mio_trait_icon_hg_attack

		position = { x = -1 y = 1 }
		relative_position_id = GER_mio_trait_thyssenkrupp_integrated_combat_suite
		all_parents = {
			GER_mio_trait_thyssenkrupp_integrated_combat_suite
		}

		equipment_bonus = {
			hg_attack = 0.10
			surface_visibility = 0.05
		}

		limit_to_equipment_type = {
			frigate
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_electronic_warfare_dispensers
		name = GER_mio_trait_electronic_warfare_dispensers
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_thyssenkrupp_integrated_combat_suite
		all_parents = {
			GER_mio_trait_thyssenkrupp_integrated_combat_suite
		}

		equipment_bonus = {
			defense = 0.05
			surface_visibility = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_rheinmetall
		name = GER_mio_trait_thyssenkrupp_rheinmetall
		icon = GFX_generic_mio_trait_icon_anti_air_attack
		special_trait_background = yes

		position = { x = 1 y = 0 }
		relative_position_id = GER_mio_trait_thyssenkrupp_integrated_combat_suite
		all_parents = {
			GER_mio_trait_thyssenkrupp_integrated_combat_suite
		}

		available = {
			GER = {
				mio:GER_rheinmetall_tank_manufacturer = {
					is_mio_trait_completed = GER_mio_trait_enhanced_fire_package
				}
			}
		}

		equipment_bonus = {
			anti_air_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_multi_role_torpedo
		name = GER_mio_trait_thyssenkrupp_multi_role_torpedo
		icon = GFX_generic_mio_trait_icon_torpedo_attack

		position = { x = 1 y = 1 }
		relative_position_id = GER_mio_trait_thyssenkrupp_integrated_combat_suite
		all_parents = {
			GER_mio_trait_thyssenkrupp_integrated_combat_suite
		}

		equipment_bonus = {
			torpedo_attack = 0.06
			naval_torpedo_hit_chance_factor = 0.05
		}

		limit_to_equipment_type = {
			submarine
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_quiet_cavitation_hull
		name = GER_mio_trait_thyssenkrupp_quiet_cavitation_hull
		icon = GFX_generic_mio_trait_icon_sub_visibility

		position = { x = 1 y = 0 }

		equipment_bonus = {
			sub_visibility = -0.10
		}

		limit_to_equipment_type = {
			submarine
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_fuel_cell_propulsion
		name = GER_mio_trait_thyssenkrupp_fuel_cell_propulsion
		icon = GFX_generic_mio_trait_icon_naval_range

		position = { x = -1 y = 1 }
		relative_position_id = GER_mio_trait_thyssenkrupp_quiet_cavitation_hull

		all_parents = {
			GER_mio_trait_thyssenkrupp_quiet_cavitation_hull
		}

		equipment_bonus = {
			naval_range = 0.08
			fuel_consumption = -0.05
		}

		limit_to_equipment_type = {
			submarine
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_high_speed_turbine
		name = GER_mio_trait_thyssenkrupp_high_speed_turbine
		icon = GFX_generic_mio_trait_icon_naval_speed

		position = { x = 1 y = 1 }
		relative_position_id = GER_mio_trait_thyssenkrupp_quiet_cavitation_hull

		all_parents = {
			GER_mio_trait_thyssenkrupp_quiet_cavitation_hull
		}

		equipment_bonus = {
			naval_speed = 0.07
			fuel_consumption = 0.04
		}

		limit_to_equipment_type = {
			corvette
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_naval_rd_pipeline
		name = GER_mio_trait_thyssenkrupp_naval_rd_pipeline
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = -7 y = 2 }
		relative_position_id = GER_mio_trait_thyssenkrupp_integrated_network
		all_parents = {
			GER_mio_trait_thyssenkrupp_fuel_cell_propulsion
			GER_mio_trait_thyssenkrupp_high_speed_turbine
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_digitized_training
		name = GER_mio_trait_thyssenkrupp_digitized_training
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = -1 y = 1 }
		relative_position_id = GER_mio_trait_thyssenkrupp_naval_rd_pipeline
		all_parents = {
			GER_mio_trait_thyssenkrupp_naval_rd_pipeline
		}

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.30
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_stealth_optimization
		name = GER_mio_trait_thyssenkrupp_stealth_optimization
		icon = GFX_generic_mio_trait_icon_surface_visibility

		position = { x = 0 y = 3 }
		relative_position_id = GER_mio_trait_thyssenkrupp_naval_rd_pipeline

		available = {
			GER = {
				is_special_project_completed = sp:sp_stealth_corvette
				is_special_project_completed = sp:sp_stealth_frigate
			}
		}

		all_parents = {
			GER_mio_trait_thyssenkrupp_digitized_training
		}

		equipment_bonus = {
			surface_visibility = -0.05
		}

		limit_to_equipment_type = {
			corvette
			frigate
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_electric_propellor
		name = GER_mio_trait_thyssenkrupp_electric_propellor
		icon = GFX_generic_mio_trait_icon_fuel_consumption

		position = { x = 0 y = 5 }
		relative_position_id = GER_mio_trait_thyssenkrupp_naval_rd_pipeline
		all_parents = {
			GER_mio_trait_thyssenkrupp_digitized_training
		}

		equipment_bonus = {
			sub_visibility = -0.03
			fuel_consumption = -0.05
			maximum_speed = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_stealth_radar_integration
		name = GER_mio_trait_thyssenkrupp_stealth_radar_integration
		icon = GFX_generic_mio_trait_icon_surface_detection

		position = { x = 0 y = 6 }
		relative_position_id = GER_mio_trait_thyssenkrupp_naval_rd_pipeline
		all_parents = {
			GER_mio_trait_thyssenkrupp_electric_propellor
			GER_mio_trait_thyssenkrupp_corrosion_resistant
		}

		equipment_bonus = {
			surface_visibility = -0.03
			surface_detection = 0.07
		}

		limit_to_equipment_type = {
			frigate
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_retractable_mast
		name = GER_mio_trait_thyssenkrupp_retractable_mast
		icon = GFX_generic_mio_trait_icon_detection

		position = { x = -1 y = 7 }
		relative_position_id = GER_mio_trait_thyssenkrupp_naval_rd_pipeline
		all_parents = {
			GER_mio_trait_thyssenkrupp_stealth_radar_integration
		}

		equipment_bonus = {
			surface_detection = 0.05
			sub_visibility = -0.02
		}

		limit_to_equipment_type = {
			submarine
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_adaptive_sonar
		name = GER_mio_trait_thyssenkrupp_adaptive_sonar
		icon = GFX_generic_mio_trait_icon_sub_detection

		position = { x = 1 y = 7 }
		relative_position_id = GER_mio_trait_thyssenkrupp_naval_rd_pipeline
		all_parents = {
			GER_mio_trait_thyssenkrupp_stealth_radar_integration
		}

		equipment_bonus = {
			sub_detection = 0.10
		}

		limit_to_equipment_type = {
			submarine
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_thyssenkrupp_ai_combat_simulations
		name = GER_mio_trait_thyssenkrupp_ai_combat_simulations
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 1 y = 1 }
		relative_position_id = GER_mio_trait_thyssenkrupp_naval_rd_pipeline
		all_parents = {
			GER_mio_trait_thyssenkrupp_naval_rd_pipeline
		}

		available = {
			GER = { has_tech = machine_learning }
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

GER_lurssen_werft_naval_manufacturer = {
	allowed = { original_tag = GER }
	icon = GFX_idea_Lurssen
	name = GER_lurssen_werft_naval_manufacturer

	equipment_type = {
		frigate
		corvette
		patrol_boat
		convoy
	}

	research_categories = {
		CAT_frigate
		CAT_corvette
		CAT_landing_craft
	}

	initial_trait = {
		name = GER_lurssen_werft_naval_manufacturer_trait

		equipment_bonus = {
			mines_sweeping = 0.15
			armor_value = 0.10
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_stealth_hull_integration
		name = GER_mio_trait_lurssen_stealth_hull_integration
		icon = GFX_generic_mio_trait_icon_surface_visibility

		position = { x = 1 y = 0 }

		available = {
			if = {
				limit = { has_dlc = "Man the Guns" }
				GER = { has_tech = stealth_frigate_hull_1 }
			}
			else = {
				GER = { has_tech = stealth_frigate_1 }
			}
		}

		equipment_bonus = {
			surface_visibility = -0.10
			reliability = 0.05
		}

		limit_to_equipment_type = {
			frigate
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_adaptive_stealth
		name = GER_mio_trait_lurssen_adaptive_stealth
		icon = GFX_generic_mio_trait_icon_surface_visibility

		position = { x = -1 y = 1 }
		relative_position_id = GER_mio_trait_lurssen_stealth_hull_integration
		all_parents = {
			GER_mio_trait_lurssen_stealth_hull_integration
		}

		equipment_bonus = {
			surface_visibility = -0.08
		}

		limit_to_equipment_type = {
			frigate
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_double_hull
		name = GER_mio_trait_lurssen_double_hull
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 1 y = 1 }
		relative_position_id = GER_mio_trait_lurssen_stealth_hull_integration
		all_parents = {
			GER_mio_trait_lurssen_stealth_hull_integration
		}

		equipment_bonus = {
			reliability = 0.12
			naval_speed = -0.03
		}

		limit_to_equipment_type = {
			convoy
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_networked_sonar
		name = GER_mio_trait_lurssen_networked_sonar
		icon = GFX_generic_mio_trait_icon_sub_detection

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_lurssen_stealth_hull_integration
		all_parents = {
			GER_mio_trait_lurssen_double_hull
			GER_mio_trait_lurssen_adaptive_stealth
		}

		equipment_bonus = {
			sub_detection = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_coaster_surveillance
		name = GER_mio_trait_lurssen_coaster_surveillance
		icon = GFX_generic_mio_trait_icon_detection

		position = { x = 0 y = 3 }
		relative_position_id = GER_mio_trait_lurssen_stealth_hull_integration
		all_parents = {
			GER_mio_trait_lurssen_networked_sonar
		}

		limit_to_equipment_type = {
			patrol_boat
		}

		equipment_bonus = {
			surface_detection = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_integrated_combat_management
		name = GER_mio_trait_lurssen_integrated_combat_management
		icon = GFX_generic_mio_trait_icon_surface_visibility

		position = { x = 0 y = 4 }
		relative_position_id = GER_mio_trait_lurssen_stealth_hull_integration
		all_parents = {
			GER_mio_trait_lurssen_coaster_surveillance
		}

		equipment_bonus = {
			surface_visibility = -0.05
			sub_detection = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_automated_damage_control
		name = GER_mio_trait_lurssen_automated_damage_control
		icon = GFX_generic_mio_trait_icon_naval_torpedo_damage_reduction_factor

		position = { x = -1 y = 5 }
		relative_position_id = GER_mio_trait_lurssen_stealth_hull_integration
		all_parents = {
			GER_mio_trait_lurssen_integrated_combat_management
		}
		mutually_exclusive = {
			GER_mio_trait_lurssen_automated_repair_drone
		}

		equipment_bonus = {
			naval_torpedo_damage_reduction_factor = -0.15
			build_cost_ic = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_automated_repair_drone
		name = GER_mio_trait_lurssen_automated_repair_drone
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 1 y = 5 }
		relative_position_id = GER_mio_trait_lurssen_stealth_hull_integration
		all_parents = {
			GER_mio_trait_lurssen_integrated_combat_management
		}
		mutually_exclusive = {
			GER_mio_trait_lurssen_automated_damage_control
		}

		equipment_bonus = {
			build_cost_ic = -0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_diesel_electric_hybrid
		name = GER_mio_trait_lurssen_diesel_electric_hybrid
		icon = GFX_generic_mio_trait_icon_naval_speed

		position = { x = 4 y = 0 }

		equipment_bonus = {
			naval_speed = 0.07
			reliability = 0.04
		}

		limit_to_equipment_type = {
			frigate
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_high_speed_jet
		name = GER_mio_trait_lurssen_high_speed_jet
		icon = GFX_generic_mio_trait_icon_maximum_speed

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_lurssen_diesel_electric_hybrid
		all_parents = {
			GER_mio_trait_lurssen_diesel_electric_hybrid
		}

		equipment_bonus = {
			naval_speed = 0.12
			reliability = -0.05
		}

		limit_to_equipment_type = {
			patrol_boat
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_precision_navigation
		name = GER_mio_trait_lurssen_precision_navigation
		icon = GFX_generic_mio_trait_icon_lg_attack

		position = { x = 0 y = 4 }
		relative_position_id = GER_mio_trait_lurssen_diesel_electric_hybrid
		all_parents = {
			GER_mio_trait_lurssen_high_speed_jet
		}

		equipment_bonus = {
			naval_speed = 0.05
			lg_attack = 0.05
			hg_attack = 0.05
			build_cost_ic = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_naval_rd_consortium
		name = GER_mio_trait_lurssen_naval_rd_consortium
		icon = GFX_generic_mio_trait_icon_unique

		position = { x = 8 y = 0 }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.12
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_shipyard_consortium
		name = GER_mio_trait_lurssen_shipyard_consortium
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 0 y = 1 }
		relative_position_id = GER_mio_trait_lurssen_naval_rd_consortium
		all_parents = {
			GER_mio_trait_lurssen_naval_rd_consortium
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 3
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_rapid_prototype
		name = GER_mio_trait_lurssen_rapid_prototype
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = -2 y = 4 }
		relative_position_id = GER_mio_trait_lurssen_naval_rd_consortium
		all_parents = {
			GER_mio_trait_lurssen_shipyard_consortium
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.05
			military_industrial_organization_research_bonus = 0.02
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_integrated_bulk_system
		name = GER_mio_trait_lurssen_integrated_bulk_system
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 6 }
		relative_position_id = GER_mio_trait_lurssen_diesel_electric_hybrid
		all_parents = {
			GER_mio_trait_lurssen_precision_navigation
			GER_mio_trait_lurssen_rapid_prototype
		}

		any_parent = {
			GER_mio_trait_lurssen_automated_damage_control
			GER_mio_trait_lurssen_automated_repair_drone
		}

		limit_to_equipment_type = {
			convoy
		}

		equipment_bonus = {
			reliability = 0.15
			build_cost_ic = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_modular_licensing
		name = GER_mio_trait_lurssen_modular_licensing
		icon = GFX_generic_mio_trait_icon_production_capacity

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_lurssen_naval_rd_consortium
		all_parents = {
			GER_mio_trait_lurssen_shipyard_consortium
		}

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.25
			military_industrial_organization_design_team_change_cost = -0.25
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_lifecycle_bureau
		name = GER_mio_trait_lurssen_lifecycle_bureau
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 0 y = 3 }
		relative_position_id = GER_mio_trait_lurssen_naval_rd_consortium
		all_parents = {
			GER_mio_trait_lurssen_modular_licensing
		}

		organization_modifier = {
			military_industrial_organization_size_up_requirement = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_modular_mission_bay
		name = GER_mio_trait_lurssen_modular_mission_bay
		icon = GFX_generic_mio_trait_icon_hg_attack

		position = { x = 0 y = 4 }
		relative_position_id = GER_mio_trait_lurssen_naval_rd_consortium
		all_parents = {
			GER_mio_trait_lurssen_lifecycle_bureau
		}

		limit_to_equipment_type = {
			patrol_boat
		}

		equipment_bonus = {
			lg_attack = 0.05
			hg_attack = 0.05
			sub_detection = 0.05
			naval_weather_penalty_factor = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_lurssen_convoy_escort
		name = GER_mio_trait_lurssen_convoy_escort
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 0 y = 5 }
		relative_position_id = GER_mio_trait_lurssen_naval_rd_consortium
		all_parents = {
			GER_mio_trait_lurssen_modular_mission_bay
		}

		limit_to_equipment_type = {
			convoy
		}

		equipment_bonus = {
			armor_value = 0.10
			surface_detection = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

GER_HDW_naval_manufacturer = {
	allowed = { original_tag = GER }
	icon = GFX_idea_HDW
	name = GER_HDW_naval_manufacturer

	equipment_type = {
		submarine
		frigate
	}

	research_categories = {
		CAT_sub
		CAT_frigate
	}

	initial_trait = {
		name = GER_HDW_naval_manufacturer_trait

		equipment_bonus = {
			sub_detection = 0.10
			naval_torpedo_hit_chance_factor = 0.15
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.08
		}
	}
	trait = {
		token = GER_mio_trait_hdw_unified_battle_man
		name = GER_mio_trait_hdw_unified_battle_man
		icon = GFX_generic_mio_trait_icon_sub_detection

		position = { x = 1 y = 0 }

		equipment_bonus = {
			surface_detection = 0.05
			sub_detection = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_cross_domain
		name = GER_mio_trait_hdw_cross_domain
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = 0 y = 1 }
		relative_position_id = GER_mio_trait_hdw_unified_battle_man
		all_parents = {
			GER_mio_trait_hdw_unified_battle_man
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.12
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_smart_fusion_radar
		name = GER_mio_trait_hdw_smart_fusion_radar
		icon = GFX_generic_mio_trait_icon_surface_detection

		position = { x = -1 y = 2 }
		relative_position_id = GER_mio_trait_hdw_unified_battle_man
		all_parents = {
			GER_mio_trait_hdw_cross_domain
		}

		limit_to_equipment_type = {
			frigate
		}

		equipment_bonus = {
			surface_detection = 0.12
			reliability = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_towed_interceptor
		name = GER_mio_trait_hdw_towed_interceptor
		icon = GFX_generic_mio_trait_icon_sub_detection

		position = { x = -1 y = 3 }
		relative_position_id = GER_mio_trait_hdw_unified_battle_man
		all_parents = {
			GER_mio_trait_hdw_smart_fusion_radar
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			sub_detection = 0.12
			surface_detection = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_multi_layer_shield
		name = GER_mio_trait_hdw_multi_layer_shield
		icon = GFX_generic_mio_trait_icon_surface_visibility

		position = { x = -1 y = 4 }
		relative_position_id = GER_mio_trait_hdw_unified_battle_man
		all_parents = {
			GER_mio_trait_hdw_towed_interceptor
		}

		limit_to_equipment_type = {
			frigate
		}

		equipment_bonus = {
			reliability = 0.06
			surface_visibility = 0.06
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_gyro_navigation_core
		name = GER_mio_trait_hdw_gyro_navigation_core
		icon = GFX_generic_mio_trait_icon_naval_speed

		position = { x = 1 y = 2 }
		relative_position_id = GER_mio_trait_hdw_unified_battle_man
		all_parents = {
			GER_mio_trait_hdw_cross_domain
		}

		equipment_bonus = {
			naval_speed = 0.12
			build_cost_ic = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_reinforced_deck
		name = GER_mio_trait_hdw_reinforced_deck
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 1 y = 3 }
		relative_position_id = GER_mio_trait_hdw_unified_battle_man
		all_parents = {
			GER_mio_trait_hdw_gyro_navigation_core
		}

		limit_to_equipment_type = {
			frigate
		}

		equipment_bonus = {
			armor_value = 0.08
			naval_torpedo_damage_reduction_factor = 0.5
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_nano_fiber_hull
		name = GER_mio_trait_hdw_nano_fiber_hull
		icon = GFX_generic_mio_trait_icon_sub_visibility

		position = { x = 1 y = 4 }
		relative_position_id = GER_mio_trait_hdw_unified_battle_man
		all_parents = {
			GER_mio_trait_hdw_reinforced_deck
		}

		available = {
			GER = { has_tech = industrial_production_of_nanofibers }
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			max_strength = 0.10
			sub_detection = -0.05
			build_cost_ic = 0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_global_retrofit
		name = GER_mio_trait_hdw_global_retrofit
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 1 y = 5 }
		relative_position_id = GER_mio_trait_hdw_unified_battle_man
		all_parents = {
			GER_mio_trait_hdw_nano_fiber_hull
		}

		equipment_bonus = {
			build_cost_ic = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_automated_ciws
		name = GER_mio_trait_hdw_automated_ciws
		icon = GFX_generic_mio_trait_icon_anti_air_attack

		position = { x = 2 y = 2 }
		relative_position_id = GER_mio_trait_hdw_unified_battle_man
		all_parents = {
			GER_mio_trait_hdw_cross_domain
		}

		available = {
			GER = { has_tech = tech_rail_guns }
		}

		equipment_bonus = {
			anti_air_attack = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_polymer_sheating
		name = GER_mio_trait_hdw_polymer_sheating
		icon = GFX_generic_mio_trait_icon_surface_visibility

		position = { x = 5 y = 0 }

		equipment_bonus = {
			surface_visibility = -0.08
			sub_visibility = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_silent_operations
		name = GER_mio_trait_hdw_silent_operations
		icon = GFX_generic_mio_trait_icon_sub_visibility

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_hdw_polymer_sheating
		all_parents = {
			GER_mio_trait_hdw_polymer_sheating
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			sub_visibility = -0.10
			reliability = 0.05
			build_cost_ic = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_automated_ballast
		name = GER_mio_trait_hdw_automated_ballast
		icon = GFX_generic_mio_trait_icon_sub_attack

		position = { x = -1 y = 3 }
		relative_position_id = GER_mio_trait_hdw_polymer_sheating
		all_parents = {
			GER_mio_trait_hdw_silent_operations
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			sub_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_low_profile_bow
		name = GER_mio_trait_hdw_low_profile_bow
		icon = GFX_generic_mio_trait_icon_naval_speed

		position = { x = -1 y = 4 }
		relative_position_id = GER_mio_trait_hdw_polymer_sheating
		all_parents = {
			GER_mio_trait_hdw_automated_ballast
		}

		limit_to_equipment_type = {
			frigate
		}

		equipment_bonus = {
			naval_speed = 0.07
			surface_visibility = -0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_codag
		name = GER_mio_trait_hdw_codag
		icon = GFX_generic_mio_trait_icon_fuel_consumption

		position = { x = -1 y = 5 }
		relative_position_id = GER_mio_trait_hdw_polymer_sheating
		all_parents = {
			GER_mio_trait_hdw_low_profile_bow
		}

		limit_to_equipment_type = {
			frigate
		}

		equipment_bonus = {
			fuel_consumption = -0.10
			naval_speed = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_hydrogen_fuel
		name = GER_mio_trait_hdw_hydrogen_fuel
		icon = GFX_generic_mio_trait_icon_naval_range

		position = { x = 1 y = 3 }
		relative_position_id = GER_mio_trait_hdw_polymer_sheating
		all_parents = {
			GER_mio_trait_hdw_silent_operations
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			naval_range = 0.15
			fuel_consumption = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_hydro_rudder
		name = GER_mio_trait_hdw_hydro_rudder
		icon = GFX_generic_mio_trait_icon_naval_speed

		position = { x = 1 y = 4 }
		relative_position_id = GER_mio_trait_hdw_polymer_sheating
		all_parents = {
			GER_mio_trait_hdw_hydrogen_fuel
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			naval_speed = 0.03
			surface_detection = -0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_harpoon_vls
		name = GER_mio_trait_hdw_harpoon_vls
		icon = GFX_generic_mio_trait_icon_hg_attack

		position = { x = 8 y = 0 }

		limit_to_equipment_type = {
			frigate
		}

		equipment_bonus = {
			hg_attack = 0.10
			naval_range = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_sub_surface_drone
		name = GER_mio_trait_hdw_sub_surface_drone
		icon = GFX_generic_mio_trait_icon_sub_attack

		position = { x = 1 y = 1 }
		relative_position_id = GER_mio_trait_hdw_harpoon_vls
		all_parents = {
			GER_mio_trait_hdw_harpoon_vls
		}

		limit_to_equipment_type = {
			frigate
		}

		equipment_bonus = {
			sub_attack = 0.06
			sub_detection = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_cryogenic_missile
		name = GER_mio_trait_hdw_cryogenic_missile
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x = -1 y = 1 }
		relative_position_id = GER_mio_trait_hdw_harpoon_vls
		all_parents = {
			GER_mio_trait_hdw_harpoon_vls
		}

		limit_to_equipment_type = {
			frigate
		}

		equipment_bonus = {
			hg_attack = 0.10
			hg_armor_piercing = 0.15
			build_cost_ic = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_shock_absorbent_crew
		name = GER_mio_trait_hdw_shock_absorbent_crew
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 0 y = 2 }
		relative_position_id = GER_mio_trait_hdw_harpoon_vls
		all_parents = {
			GER_mio_trait_hdw_cryogenic_missile
			GER_mio_trait_hdw_sub_surface_drone
		}

		limit_to_equipment_type = {
			submarine
		}

		equipment_bonus = {
			reliability = 0.07
			max_strength = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_rapid_compartment
		name = GER_mio_trait_hdw_rapid_compartment
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 0 y = 3 }
		relative_position_id = GER_mio_trait_hdw_harpoon_vls
		all_parents = {
			GER_mio_trait_hdw_shock_absorbent_crew
		}

		equipment_bonus = {
			max_strength = 0.15
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_kiel_steel
		name = GER_mio_trait_hdw_kiel_steel
		icon = GFX_generic_mio_trait_icon_armor_value

		position = { x = 0 y = 4 }
		relative_position_id = GER_mio_trait_hdw_harpoon_vls
		all_parents = {
			GER_mio_trait_hdw_rapid_compartment
		}

		equipment_bonus = {
			armor_value = 0.05
			build_cost_ic = -0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
	trait = {
		token = GER_mio_trait_hdw_tkms_shipyard
		name = GER_mio_trait_hdw_tkms_shipyard
		icon = GFX_generic_mio_trait_icon_conversion_speed

		position = { x = -1 y = 5 }
		relative_position_id = GER_mio_trait_hdw_harpoon_vls
		all_parents = {
			GER_mio_trait_hdw_kiel_steel
			GER_mio_trait_hdw_hydro_rudder
		}

		organization_modifier = {
			military_industrial_organization_task_capacity = 3
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				check_variable = { FROM.interest_rate > 8 }
			}
		}
	}
}

GER_blohm_and_voss = {
	allowed = { original_tag = GER }
	icon = GFX_idea_Blohm_and_Voss
	name = GER_blohm_and_voss
	include = generic_naval_equipment_organization

	initial_trait = {
		name = GER_blohm_and_voss_trait

		equipment_bonus = {
			build_cost_ic = -0.10
		}
	}
}

GER_german_naval_yards = {
	allowed = { original_tag = GER }
	icon = x
	name = GER_german_naval_yards

	visible = {
		GER = {
			has_completed_focus = GER_GNY
		}
	}
	include = generic_naval_equipment_organization

	equipment_type = {
		frigate
		patrol_boat
		corvette
	}

	research_categories = {
		CAT_frigate
		CAT_corvette
	}

	initial_trait = {
		name = GER_german_naval_yards_trait

		equipment_bonus = {
			build_cost_ic = -0.15
		}

		organization_modifier = {
			military_industrial_organization_research_bonus = -0.05
		}
	}
}

#by focus
GER_artec = {
	allowed = { original_tag = GER }
	icon = GFX_idea_ARTEC
	name = GER_artec_name

	visible = {
		GER = {
			has_completed_focus = GER_Cooperation_possible
		}
	}
	include = generic_tank_equipment_organization

	initial_trait = {
		name = generic_mio_initial_trait_md_tank_manufacturer

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		equipment_bonus = {
			maximum_speed = 0.06
			breakthrough = 0.04
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.03
		}
	}
}
GER_Flensburger_Fahrzeugbau = {
	allowed = { original_tag = GER }
	icon = GFX_idea_FFG
	name = GER_Flensburger_Fahrzeugbau

	visible = {
		GER = {
			has_completed_focus = GER_Flensburger_Fahrzeugbau_I
		}
	}

	include = GER_generic_AFV_manufacturer

	initial_trait = {
		name = generic_mio_initial_trait_md_tank_manufacturer

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		equipment_bonus = {
			maximum_speed = 0.02
			breakthrough = 0.01
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.03
			production_cost_factor = -0.2
		}
	}
}
GER_Armored_Car_Systems = {
	allowed = { original_tag = GER }
	icon = GFX_idea_ACS
	name = GER_Armored_Car_Systems
	visible = {
		GER = {
			has_completed_focus = GER_Armored_Car_Systems_I
		}
	}

	include = GER_generic_utility_vehicle_manufacturer

	initial_trait = {
		name = GER_generic_utility_vehicle_manufacturer

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.02
		}

		equipment_bonus = {
			defense = 0.03
			breakthrough = 0.1
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.03
			production_cost_factor = 0.2
		}
	}
}

#outdated for realsism in design
GER_MBB_helicopters_tank_manufacturer = {
	allowed = { original_tag = GER }
	icon = GFX_idea_MBB
	name = GER_MBB_helicopters_tank_manufacturer_name

	visible = {
		GER = {
			has_country_flag = GER_MBB_back
		}
	}
	include = generic_specialized_helicopter_aa_at_organization

	initial_trait = {
		name = generic_specialized_helicopter_organization

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		equipment_bonus = {
			reliability = 0.07
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.03
		}
	}
}
GER_panavia_aircraft_manufacturer = {
	allowed = { original_tag = GER }
	icon = GFX_idea_Panavia
	name = GER_panavia_aircraft_manufacturer

	available = {
		GER = {
			has_country_flag = GER_panavia
		}
	}

	tree_header_text = {
		text = GER_mio_header_the_systems
		x = 2
	}

	tree_header_text = {
		text = GER_mio_header_the_company
		x = 6
	}

	initial_trait = {
		name = GER_panavia_aircraft_manufacturer

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = 0.2
			military_industrial_organization_task_capacity = -3
		}

		equipment_bonus = {
			reliability = 0.05
			air_range = 0.05
			air_ground_attack = 0.1
		}
	}
	trait = {
		token = Panavia_extended_service
		name = Panavia_extended_service
		icon = GFX_generic_mio_trait_icon_supply_consumption

		position = { x = 2 y = 0 }

		production_bonus = {
			production_conversion_speed_factor = 0.2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_avionic_updates
		name = Panavia_avionic_updates
		icon = GFX_generic_mio_trait_icon_air_attack

		relative_position_id = Panavia_extended_service
		position = { x = 0 y = 1 }

		all_parents = { Panavia_extended_service }

		equipment_bonus = {
			air_ground_attack = 0.08
			air_range = 0.04
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_improve_defense_systems
		name = Panavia_improve_defense_systems
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 0 y = 1 }
		relative_position_id = Panavia_avionic_updates

		all_parents = { Panavia_avionic_updates }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			air_defence = 0.1
			reliability = -0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_targetting_update
		name = Panavia_targetting_update
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x = 1 y = 1 }
		relative_position_id = Panavia_avionic_updates

		all_parents = { Panavia_avionic_updates }
		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			air_ground_attack = 0.09
			air_attack = 0.03
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_improve_display
		name = Panavia_improve_display
		icon = GFX_generic_mio_trait_icon_detection

		position = { x = -1 y = 1 }
		relative_position_id = Panavia_avionic_updates

		all_parents = { Panavia_avionic_updates }
		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			air_agility = 0.03
			night_penalty = -0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_intergate_high_precision_missiles
		name = Panavia_intergate_high_precision_missiles
		icon = GFX_generic_mio_trait_icon_torpedo_attack

		position = { x = 1 y = 1 }
		relative_position_id = Panavia_improve_defense_systems

		any_parent = { Panavia_improve_defense_systems Panavia_targetting_update Panavia_improve_display }
		mutually_exclusive = { Panavia_improve_communication_systems }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			air_ground_attack = 0.08
			naval_strike_targetting = 0.5
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_improve_communication_systems
		name = Panavia_improve_communication_systems
		icon = GFX_generic_mio_trait_icon_naval_range

		position = { x = -1 y = 1 }
		relative_position_id = Panavia_improve_defense_systems

		any_parent = { Panavia_improve_defense_systems }
		mutually_exclusive = { Panavia_intergate_high_precision_missiles }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			reliability = 0.1
			air_defence = 0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_network_centric_warfare
		name = Panavia_network_centric_warfare
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 0 y = 2 }
		relative_position_id = Panavia_improve_defense_systems

		any_parent = { Panavia_intergate_high_precision_missiles Panavia_improve_communication_systems }
		mutually_exclusive = {   }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			air_agility = 0.03
			air_ground_attack = 0.10
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_ADV
		name = Panavia_ADV
		icon = GFX_generic_mio_trait_icon_anti_air_attack

		position = { x = -1 y = 1 }
		relative_position_id = Panavia_network_centric_warfare

		all_parents = { Panavia_network_centric_warfare  }
		mutually_exclusive = { Panavia_IDS }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			air_defence = 0.07
			air_attack = 0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_IDS
		name = Panavia_IDS
		icon = GFX_generic_mio_trait_icon_air_ground_attack

		position = { x = 1 y = 1 }
		relative_position_id = Panavia_network_centric_warfare

		all_parents = { Panavia_network_centric_warfare  }
		mutually_exclusive = { Panavia_ADV }

		limit_to_equipment_type = { mio_cat_eq_only_medium_aircraft mio_cat_eq_only_cv_medium_aircraft }

		equipment_bonus = {
			air_ground_attack = 0.04
			air_bombing = 0.03
			naval_strike_attack = 0.3
			naval_strike_targetting = 0.4
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_produce_again
		name = Panavia_produce_again
		icon = GFX_generic_mio_trait_icon_build_cost_ic

		position = { x = 6 y = 0 }

		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}
		organization_modifier = {
			military_industrial_organization_task_capacity = 2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_production_effectivity
		name = Panavia_production_effectivity
		icon = GFX_generic_mio_trait_icon_production_capacity

		relative_position_id = Panavia_produce_again
		position = { x = -1 y = 1 }

		all_parents = { Panavia_produce_again }

		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}
		organization_modifier = {
			military_industrial_organization_size_up_requirement = -0.08
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_research_funds
		name = Panavia_research_funds
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		relative_position_id = Panavia_produce_again
		position = { x = 0 y = 1 }

		all_parents = { Panavia_produce_again }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.07
			military_industrial_organization_funds_gain = 0.9
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_rebuild_design_teams
		name = Panavia_rebuild_design_teams
		icon = GFX_generic_mio_trait_icon_reliability

		relative_position_id = Panavia_produce_again
		position = { x = 1 y = 1 }

		all_parents = { Panavia_produce_again }

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.15
			military_industrial_organization_design_team_assign_cost = -0.2
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_more_tasks
		name = Panavia_more_tasks
		icon = GFX_generic_mio_trait_icon_unique

		relative_position_id = Panavia_rebuild_design_teams
		position = { x = -1 y = 1 }

		all_parents = { Panavia_research_funds Panavia_rebuild_design_teams Panavia_production_effectivity }

		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}
		organization_modifier = {
			military_industrial_organization_task_capacity = 1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_increase_reliability
		name = Panavia_increase_reliability
		icon = GFX_generic_mio_trait_icon_max_strength

		relative_position_id = Panavia_more_tasks
		position = { x = -1 y = 1 }

		all_parents = { Panavia_more_tasks  }

		mutually_exclusive = { Panavia_mass_production }

		equipment_bonus = {
			build_cost_ic = 0.08
			reliability = 0.1
		}
		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
	trait = {
		token = Panavia_mass_production
		name = Panavia_mass_production
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		relative_position_id = Panavia_more_tasks
		position = { x = 1 y = 1 }

		all_parents = { Panavia_more_tasks  }

		mutually_exclusive = { Panavia_increase_reliability }

		equipment_bonus = {
			build_cost_ic = -0.1
			reliability = -0.08
		}
		production_bonus = {
			production_efficiency_gain_factor = 0.05
			production_resource_need_factor = -0.1
		}

		on_complete = {
			if = {
				limit = {
					check_variable = { free_trait_picks > 0 }
				}
				add_to_variable = { free_trait_picks = -1 }
			}
			else = {
				FROM = {
					small_expenditure = yes
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				FROM = {
					num_of_military_factories < 10
				}
			}
		}
	}
}
